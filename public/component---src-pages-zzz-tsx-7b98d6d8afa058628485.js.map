{"version":3,"sources":["webpack:///./src/pages/zzz.tsx","webpack:///./node_modules/@material-ui/core/esm/utils/debounce.js","webpack:///./node_modules/@material-ui/core/esm/TextareaAutosize/TextareaAutosize.js"],"names":["Styled","styled","div","DivContainer","StyledTextArea","TextareaAutosize","Sha256Writer","onNew","React","useState","text","sha256Hash","changeText","e","textContent","target","value","hash","MyComponent","height","width","adjust","x","useMotionValue","background","useTransform","top","bottom","left","right","position","console","log","Container","Page","changeSize","useEffect","setInterval","Math","random","total","newWith","floor","newHeight","window","y"],"mappings":"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","file":"component---src-pages-zzz-tsx-7b98d6d8afa058628485.js","sourcesContent":["import React from \"react\";\nimport ScopedCssBaseline from \"@material-ui/core/ScopedCssBaseline\";\nimport styled, { css } from \"styled-components\";\nimport { hash } from \"../components/utils/sha\";\n// import { CounterTS } from \"../components/Counter\";\nimport { Helmet } from \"react-helmet\";\n\nimport {\n  motion,\n  useMotionValue,\n  useTransform,\n} from \"framer-motion\";\nimport { TextareaAutosize } from \"@material-ui/core\";\n\nconst Styled = styled.div`\n  text-align: center;\n  border-radius: 12px;\n  width: 200px;\n  height: 200px;\n  display: flex;\n  place-content: center;\n  place-items: center;\n  margin: 0;\n  padding: 0;\n  background: rgb(255, 255, 255) none repeat scroll 0% 0%;\n  user-select: none;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 3px 0px, rgba(0, 0, 0, 0.06) 0px 10px 15px 0px;\n`;\n\nconst DivContainer = styled.div`\ndisplay: block;\nwidth: 150px;\nheight: 150px;\noverflow: hidden;\n`;\n\nconst StyledTextArea = styled(TextareaAutosize)`\nwidth: 100%;\nmax-height: 100%;\n`;\n\nconst Sha256Writer: React.FC<{ onNew: (hash: string) => void }> = (\n  { onNew },\n) => {\n  const [{ text, sha256Hash }, changeText] = React.useState(\n    { text: \"\", sha256Hash: \"\" },\n  );\n  return <DivContainer>\n    <p>Start to type</p>\n    <StyledTextArea\n      rowsMin={3}\n      rowsMax={3}\n      onChange={async (e) => {\n        const textContent = e.target.value;\n        const sha256Hash = await hash(textContent);\n        onNew(sha256Hash);\n        changeText({ text: textContent, sha256Hash });\n      }}\n      value={text}\n    />\n    <pre>{sha256Hash}</pre>\n  </DivContainer>;\n};\n\nexport const MyComponent: React.FC<\n  { height?: number; width?: number; adjust: (x: number, y: number) => void }\n> = ({ height = 400, width = 400, adjust }) => {\n  const x = useMotionValue(0);\n\n  const background = useTransform(\n    x,\n    [-100, 0, 100],\n    [\"#ff008c\", \"#7700ff\", \"rgb(230, 255, 0)\"],\n  );\n\n  return (<>\n    <motion.div\n      layout\n      css={css`position: relative; height: ${height}px; width: ${width}px;`}\n      style={{ background }}\n    >\n    </motion.div>\n\n    <motion.div\n      // layout\n      drag={true}\n      dragElastic={0.5}\n      // dragListener={true}\n      // onDrag={\n      // (event, info) => {if (event.layerX<0) adjust(event.layerX, event.layerY);}\n      // }\n      dragConstraints={{\n        top: 0,\n        bottom: height - 100,\n        left: 0,\n        right: width - 100,\n      }}\n      style={{ position: \"absolute\", x }}\n    >\n      <Styled>\n        <ScopedCssBaseline>\n          <Sha256Writer onNew={(hash) => console.log(hash)} />\n        </ScopedCssBaseline>\n      </Styled>\n    </motion.div>\n  </>);\n};\n\nconst Container = styled.div`\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  text-align: center;\n  display: flex;\n  place-content: center;\n  place-items: center;\n  background: rgba(0, 85, 255, 1);\n  perspective: 1000px;\n`;\n\nexport default function Page() {\n  const [{ width, height }, changeSize] = React.useState(\n    { height: 600, width: 400 },\n  );\n  React.useEffect(() => {\n    setInterval(() => {\n      const x = Math.random() * 200 - 100;\n      const total = 600 * 400;\n      const newWith = Math.floor(width - x);\n      const newHeight = Math.floor(total / newWith);\n      changeSize({ height: newHeight, width: newWith });\n    }, 1000);\n  }, []);\n\n  return <>\n    <Helmet>\n      <style type=\"text/css\">\n        {`\n      html {\n          height: 100vh;\n          width: 100vw;\n          overflow: hidden;\n      }`}\n      </style>\n    </Helmet>\n    <Container>\n      {typeof window !== \"undefined\"\n        ? <MyComponent\n          height={height}\n          width={width}\n          adjust={(x, y) => {\n            const total = width * height;\n            const newWith = width - x;\n            const newHeight = total / newWith;\n            changeSize({ height: newHeight, width: newWith });\n          }}\n        />\n        : \"Loading\"}\n    </Container>\n  </>;\n}\n","// Corresponds to 10 frames at 60 Hz.\n// A few bytes payload overhead when lodash/debounce is ~3 kB and debounce ~300 B.\nexport default function debounce(func) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 166;\n  var timeout;\n\n  function debounced() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    } // eslint-disable-next-line consistent-this\n\n\n    var that = this;\n\n    var later = function later() {\n      func.apply(that, args);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  }\n\n  debounced.clear = function () {\n    clearTimeout(timeout);\n  };\n\n  return debounced;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport debounce from '../utils/debounce';\nimport useForkRef from '../utils/useForkRef';\n\nfunction getStyleValue(computedStyle, property) {\n  return parseInt(computedStyle[property], 10) || 0;\n}\n\nvar useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\nvar styles = {\n  /* Styles applied to the shadow textarea element. */\n  shadow: {\n    // Visibility needed to hide the extra text area on iPads\n    visibility: 'hidden',\n    // Remove from the content flow\n    position: 'absolute',\n    // Ignore the scrollbar width\n    overflow: 'hidden',\n    height: 0,\n    top: 0,\n    left: 0,\n    // Create a new layer, increase the isolation of the computed values\n    transform: 'translateZ(0)'\n  }\n};\nvar TextareaAutosize = /*#__PURE__*/React.forwardRef(function TextareaAutosize(props, ref) {\n  var onChange = props.onChange,\n      rows = props.rows,\n      rowsMax = props.rowsMax,\n      _props$rowsMin = props.rowsMin,\n      rowsMinProp = _props$rowsMin === void 0 ? 1 : _props$rowsMin,\n      style = props.style,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"onChange\", \"rows\", \"rowsMax\", \"rowsMin\", \"style\", \"value\"]);\n\n  var rowsMin = rows || rowsMinProp;\n\n  var _React$useRef = React.useRef(value != null),\n      isControlled = _React$useRef.current;\n\n  var inputRef = React.useRef(null);\n  var handleRef = useForkRef(ref, inputRef);\n  var shadowRef = React.useRef(null);\n  var renders = React.useRef(0);\n\n  var _React$useState = React.useState({}),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var syncHeight = React.useCallback(function () {\n    var input = inputRef.current;\n    var computedStyle = window.getComputedStyle(input);\n    var inputShallow = shadowRef.current;\n    inputShallow.style.width = computedStyle.width;\n    inputShallow.value = input.value || props.placeholder || 'x';\n\n    if (inputShallow.value.slice(-1) === '\\n') {\n      // Certain fonts which overflow the line height will cause the textarea\n      // to report a different scrollHeight depending on whether the last line\n      // is empty. Make it non-empty to avoid this issue.\n      inputShallow.value += ' ';\n    }\n\n    var boxSizing = computedStyle['box-sizing'];\n    var padding = getStyleValue(computedStyle, 'padding-bottom') + getStyleValue(computedStyle, 'padding-top');\n    var border = getStyleValue(computedStyle, 'border-bottom-width') + getStyleValue(computedStyle, 'border-top-width'); // The height of the inner content\n\n    var innerHeight = inputShallow.scrollHeight - padding; // Measure height of a textarea with a single row\n\n    inputShallow.value = 'x';\n    var singleRowHeight = inputShallow.scrollHeight - padding; // The height of the outer content\n\n    var outerHeight = innerHeight;\n\n    if (rowsMin) {\n      outerHeight = Math.max(Number(rowsMin) * singleRowHeight, outerHeight);\n    }\n\n    if (rowsMax) {\n      outerHeight = Math.min(Number(rowsMax) * singleRowHeight, outerHeight);\n    }\n\n    outerHeight = Math.max(outerHeight, singleRowHeight); // Take the box sizing into account for applying this value as a style.\n\n    var outerHeightStyle = outerHeight + (boxSizing === 'border-box' ? padding + border : 0);\n    var overflow = Math.abs(outerHeight - innerHeight) <= 1;\n    setState(function (prevState) {\n      // Need a large enough difference to update the height.\n      // This prevents infinite rendering loop.\n      if (renders.current < 20 && (outerHeightStyle > 0 && Math.abs((prevState.outerHeightStyle || 0) - outerHeightStyle) > 1 || prevState.overflow !== overflow)) {\n        renders.current += 1;\n        return {\n          overflow: overflow,\n          outerHeightStyle: outerHeightStyle\n        };\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (renders.current === 20) {\n          console.error(['Material-UI: Too many re-renders. The layout is unstable.', 'TextareaAutosize limits the number of renders to prevent an infinite loop.'].join('\\n'));\n        }\n      }\n\n      return prevState;\n    });\n  }, [rowsMax, rowsMin, props.placeholder]);\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      renders.current = 0;\n      syncHeight();\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [syncHeight]);\n  useEnhancedEffect(function () {\n    syncHeight();\n  });\n  React.useEffect(function () {\n    renders.current = 0;\n  }, [value]);\n\n  var handleChange = function handleChange(event) {\n    renders.current = 0;\n\n    if (!isControlled) {\n      syncHeight();\n    }\n\n    if (onChange) {\n      onChange(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"textarea\", _extends({\n    value: value,\n    onChange: handleChange,\n    ref: handleRef // Apply the rows prop to get a \"correct\" first SSR paint\n    ,\n    rows: rowsMin,\n    style: _extends({\n      height: state.outerHeightStyle,\n      // Need a large enough difference to allow scrolling.\n      // This prevents infinite rendering loop.\n      overflow: state.overflow ? 'hidden' : null\n    }, style)\n  }, other)), /*#__PURE__*/React.createElement(\"textarea\", {\n    \"aria-hidden\": true,\n    className: props.className,\n    readOnly: true,\n    ref: shadowRef,\n    tabIndex: -1,\n    style: _extends({}, styles.shadow, style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default TextareaAutosize;"],"sourceRoot":""}