{"version":3,"sources":["webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-stream/encode.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/buffer-alloc-unsafe/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/errors-browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/regenerator-runtime/runtime.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/string_decoder/lib/string_decoder.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_transform.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-box-encoding/boxes.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mediasource/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/readable-browser.js","webpack:///./src/components/seo.tsx","webpack:////home/zed/Developer/zed-vision-site/node_modules/pump/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/safe-buffer/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/wrappy/wrappy.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/once/once.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/util-deprecate/browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/buffer-alloc/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/regenerator/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/uint64be/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/range-slice-stream/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/end-of-stream/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/videostream/mp4-remuxer.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///../video-stramer/VideoStreamer.tsx","webpack:///./src/pages/videostream.tsx","webpack:////home/zed/Developer/zed-vision-site/node_modules/to-arraybuffer/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-box-encoding/descriptor.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-stream/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/videostream/videostream.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-box-encoding/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/next-event/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/state.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/binary-search/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/inherits/inherits_browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_readable.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/events/events.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_passthrough.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_writable.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_duplex.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-stream/decode.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/buffer-fill/index.js"],"names":["module","exports","EventEmitter","_createClass","_inherits","_possibleConstructorReturn","_getPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","stream","Box","noop","Encoder","_stream$Readable","_super","opts","_this","_classCallCheck","destroyed","_finalized","_reading","_stream","_drain","_want","_onreadable","_read","_onend","key","value","size","cb","mediaData","MediaData","box","type","contentLength","encodeBufferLen","_box","Error","buf","Buffer","alloc","buffer","encode","push","on","_forward","process","nextTick","err","destroy","emit","read","drain","Readable","_stream$PassThrough","_super2","parent","_this2","_parent","PassThrough","TypeError","RangeError","allocUnsafe","codes","createErrorType","code","message","Base","NodeError","_Base","subClass","superClass","arg1","arg2","arg3","getMessage","Object","create","__proto__","name","oneOf","expected","thing","Array","isArray","len","length","map","i","String","concat","slice","join","actual","determiner","search","pos","msg","substr","replace","str","this_len","undefined","substring","endsWith","start","indexOf","includes","arg","runtime","Op","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","defineProperty","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","__await","then","unwrapped","error","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","isEncoding","encoding","toLowerCase","StringDecoder","nb","enc","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","end","utf16End","fillLast","utf8FillLast","base64Text","base64End","write","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","p","r","utf8CheckExtraBytes","copy","c","charCodeAt","n","total","j","utf8CheckIncomplete","_setPrototypeOf","o","eos","_require$codes","ERR_MISSING_ARGS","ERR_STREAM_DESTROYED","destroyer","reading","writing","callback","called","once","closed","readable","setHeader","abort","isRequest","pipe","from","to","popCallback","streams","_len","_key","destroys","reduce","Transform","ERR_METHOD_NOT_IMPLEMENTED","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","Duplex","afterTransform","er","data","ts","_transformState","transforming","writecb","writechunk","rs","_readableState","needReadable","highWaterMark","options","bind","needTransform","writeencoding","sync","transform","_transform","flush","_flush","prefinish","_writableState","chunk","_write","_destroy","err2","Descriptor","uint64be","fullBoxes","writeReserved","offset","writeDate","date","writeUInt32BE","Math","floor","getTime","writeDate64","writeUIntBE","writeFixed32","num","writeUInt16BE","writeMatrix","list","readMatrix","readFixed32","readDate64","readUIntBE","readDate","readUInt32BE","readUInt16BE","readFixed16","readString","ftyp","encodingLength","brands","compatibleBrands","brand","brandVersion","bytes","decode","version","mvhd","ctime","mtime","timeScale","duration","preferredRate","writeFixed16","preferredVolume","matrix","previewTime","previewDuration","posterTime","selectionTime","selectionDuration","currentTime","nextTrackId","tkhd","trackId","layer","alternateGroup","volume","trackWidth","trackHeight","mdhd","language","quality","vmhd","graphicsMode","opcolor","smhd","balance","stsd","entries","ptr","totalSize","avc1","VisualSampleEntry","dataReferenceIndex","width","height","hResolution","vResolution","frameCount","compressorName","nameLen","min","writeUInt8","depth","writeInt16BE","children","child","readUInt8","avcC","mimeCodec","mp4a","AudioSampleEntry","channelCount","sampleSize","sampleRate","esds","desc","dcd","tagName","DecoderConfigDescriptor","oti","dsi","DecoderSpecificInfo","audioConfig","stsz","stss","stco","co64","stts","count","ctts","compositionOffset","readInt32BE","stsc","firstChunk","samplesPerChunk","sampleDescriptionId","dref","tmp","elst","trackDuration","mediaTime","mediaRate","hdlr","fill","handlerType","strBuffer","writeString","mehd","fragmentDuration","trex","defaultSampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","mfhd","sequenceNumber","tfhd","tfdt","baseMediaDecodeTime","trun","writeInt32BE","dataOffset","sampleDuration","sampleFlags","sampleCompositionTimeOffset","mdat","MediaElementWrapper","inherits","toArrayBuffer","MediaSource","window","elem","_debug","debug","_bufferDuration","bufferDuration","_elem","_mediaSource","_streams","detailedError","_errorHandler","removeEventListener","addEventListener","src","URL","createObjectURL","MediaSourceStream","wrapper","Writable","_wrapper","_allStreams","_sourceBuffer","_debugBuffers","_openHandler","_onSourceOpen","_flowHandler","_flow","_type","readyState","_createSourceBuffer","_finished","every","other","_dumpDebugData","endOfStream","createWriteStream","revokeObjectURL","bufs","a","document","createElement","href","Blob","download","click","splice","isTypeSupported","addSourceBuffer","_cb","updating","arr","appendBuffer","_getBufferDuration","buffered","bufferEnd","bufferedTime","Stream","finished","pipeline","SEO","description","lang","meta","title","site","useStaticQuery","metaDescription","siteMetadata","htmlAttributes","titleTemplate","content","property","social","twitter","defaultProps","fs","ancient","test","isFn","ReadStream","WriteStream","close","isFS","copyProps","dst","SafeBuffer","encodingOrOffset","allocUnsafeSlow","SlowBuffer","wrappy","k","args","ret","f","onceStrict","onceError","strict","proto","_typeof","assertThisInitialized","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","emitClose","readableDestroyed","writableDestroyed","errorEmitted","undestroy","ended","endEmitted","ending","finalCalled","prefinished","errorOrDestroy","rState","wState","autoDestroy","config","global","localStorage","_","val","warned","console","trace","warn","ERR_STREAM_PREMATURE_CLOSE","onlegacyfinish","onfinish","writableEnded","readableEnded","onend","onerror","onclose","onrequest","req","removeListener","bufferFill","instance","Constructor","bufferAlloc","UINT_32_MAX","pow","top","rem","_Object$setPrototypeO","_defineProperty","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","promise","lastPromise","wrapForNext","_Object$create","_defineProperties","target","props","descriptor","protoProps","staticProps","_require","RangeSliceStream","_Writable","_queue","_position","_buffer","_out","drained","currRange","writeStart","max","writeEnd","toWrite","last","shift","ranges","range","ws","cancelled","onexit","exitCode","onclosenexttick","stdio","isChildProcess","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","inspect","custom","BufferList","head","tail","v","s","hasStrings","_getString","_getBuffer","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","customInspect","bs","mp4","MP4Remuxer","_EventEmitter","file","_tracks","_file","_decoder","_findMoov","toSkip","fileStream","createReadStream","boxHandler","headers","moov","_processMoov","ignore","traks","_hasVideo","_hasAudio","trak","stbl","mdia","minf","stsdEntry","codec","mime","samples","sample","sampleInChunk","offsetInChunk","sampleToChunkIndex","dts","decodingTimeEntry","RunLengthIndex","presentationOffsetEntry","syncSampleIndex","currChunkEntry","presentationOffset","chunkOffsetTable","nextChunkEntry","inc","trackMoov","elng","dinf","flags","mvex","trexs","fragmentSequence","currSample","currTime","_ftyp","ftypBuf","track","moovBuf","init","time","_this3","_fileStream","startOffset","outStream","inStream","fragment","_generateFragment","finalize","writeFragment","frag","moof","nextFrag","trackInd","scaledTime","t","firstSample","currTrack","_findSampleBefore","startDts","totalLen","MIN_FRAGMENT_DURATION","_generateMoof","lastSample","trunVersion","trafs","countName","_entries","_countName","_index","_offset","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","Video","videoRef","React","VideoStream","current","controls","ref","playsInline","StyledTextArea","styled","textarea","Streamer","magnetURL","loading","videoFiles","changeState","wtMin","default","Default","WebTorrent","wtDebug","add","torrent","log","files","connect","onChange","pageQuery","VideoStreamingPage","location","Uint8Array","byteOffset","byteLength","isBuffer","arrayCopy","lenByte","tag","tagToName","contentsLen","DescriptorArray","ESDescriptor","Decoder","pump","mediaElem","_elemWrapper","_waitingFired","_trackMeta","preload","_createMuxer","_onError","_onWaiting","_muxer","_pump","autoplay","trackData","mediaSource","muxed","initFlushed","onInitFlushed","seek","pumpTrack","boxes","containers","_encode","childType","otherBoxes","readHeaders","headersLen","contentLen","decodeWithoutHeaders","contents","emitter","ERR_INVALID_OPT_VALUE","getHighWaterMark","duplexKey","isDuplex","hwm","highWaterMarkFrom","isFinite","objectMode","haystack","needle","comparator","low","high","mid","cmp","superCtor","super_","TempCtor","ReadableState","EElistenerCount","listeners","OurUint8Array","debugUtil","debuglog","createReadableStreamAsyncIterator","destroyImpl","ERR_INVALID_ARG_TYPE","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kProxyEvents","readableObjectMode","pipes","pipesCount","flowing","emittedReadable","readableListening","resumeScheduled","paused","defaultEncoding","awaitDrain","readingMore","decoder","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","unshift","get","set","_undestroy","isPaused","setEncoding","clear","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","listenerCount","resume","nReadingNextTick","resume_","fromList","first","consume","endReadable","endReadableNT","xs","x","l","parseInt","nOrig","doRead","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","ondrain","ondata","cleanedUp","needDrain","pipeOnDrain","pause","event","prependListener","_events","dests","index","ev","res","addListener","removeAllListeners","_fromList","ReflectOwnKeys","R","ReflectApply","receiver","getOwnPropertyNames","NumberIsNaN","Number","eventListener","errorListener","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","m","events","existing","warning","newListener","w","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","setMaxListeners","getMaxListeners","doError","handler","prependOnceListener","position","originalListener","spliceOne","off","rawListeners","eventNames","CorkedRequest","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","WritableState","internalUtil","deprecate","realHasInstance","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","noDecode","decodeStrings","corked","bufferProcessing","onwrite","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","getBuffer","out","hasInstance","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","objectKeys","allowHalfOpen","onEndNT","nextEvent","EMPTY","_stream$Writable","_pending","_missing","_ignoreEmpty","_buf","_str","_ondrain","_writeBuffer","_writeCb","_kick","consumed","bufferHeaders","additionalBuf","_headers","_this4","_this5","_readBox","_this6","hasFullSupport","fillWithNumber","isSingleByte","fillWithBuffer"],"mappings":"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","file":"component---src-pages-videostream-tsx-9aba000136aea1d669f5.js","sourcesContent":["module.exports = require('events').EventEmitter;","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar stream = require('readable-stream');\n\nvar Box = require('mp4-box-encoding');\n\nfunction noop() {}\n\nvar Encoder = /*#__PURE__*/function (_stream$Readable) {\n  \"use strict\";\n\n  _inherits(Encoder, _stream$Readable);\n\n  var _super = _createSuper(Encoder);\n\n  function Encoder(opts) {\n    var _this;\n\n    _classCallCheck(this, Encoder);\n\n    _this = _super.call(this, opts);\n    _this.destroyed = false;\n    _this._finalized = false;\n    _this._reading = false;\n    _this._stream = null;\n    _this._drain = null;\n    _this._want = false;\n\n    _this._onreadable = function () {\n      if (!_this._want) return;\n      _this._want = false;\n\n      _this._read();\n    };\n\n    _this._onend = function () {\n      _this._stream = null;\n    };\n\n    return _this;\n  }\n\n  _createClass(Encoder, [{\n    key: \"mdat\",\n    value: function mdat(size, cb) {\n      this.mediaData(size, cb);\n    }\n  }, {\n    key: \"mediaData\",\n    value: function mediaData(size, cb) {\n      var stream = new MediaData(this);\n      this.box({\n        type: 'mdat',\n        contentLength: size,\n        encodeBufferLen: 8,\n        stream: stream\n      }, cb);\n      return stream;\n    }\n  }, {\n    key: \"box\",\n    value: function box(_box, cb) {\n      if (!cb) cb = noop;\n      if (this.destroyed) return cb(new Error('Encoder is destroyed'));\n      var buf;\n\n      if (_box.encodeBufferLen) {\n        buf = Buffer.alloc(_box.encodeBufferLen);\n      }\n\n      if (_box.stream) {\n        _box.buffer = null;\n        buf = Box.encode(_box, buf);\n        this.push(buf);\n        this._stream = _box.stream;\n\n        this._stream.on('readable', this._onreadable);\n\n        this._stream.on('end', this._onend);\n\n        this._stream.on('end', cb);\n\n        this._forward();\n      } else {\n        buf = Box.encode(_box, buf);\n        var drained = this.push(buf);\n        if (drained) return process.nextTick(cb);\n        this._drain = cb;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n      if (this._stream && this._stream.destroy) this._stream.destroy();\n      this._stream = null;\n\n      if (this._drain) {\n        var cb = this._drain;\n        this._drain = null;\n        cb(err);\n      }\n\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this._finalized = true;\n\n      if (!this._stream && !this._drain) {\n        this.push(null);\n      }\n    }\n  }, {\n    key: \"_forward\",\n    value: function _forward() {\n      if (!this._stream) return;\n\n      while (!this.destroyed) {\n        var buf = this._stream.read();\n\n        if (!buf) {\n          this._want = !!this._stream;\n          return;\n        }\n\n        if (!this.push(buf)) return;\n      }\n    }\n  }, {\n    key: \"_read\",\n    value: function _read() {\n      if (this._reading || this.destroyed) return;\n      this._reading = true;\n      if (this._stream) this._forward();\n\n      if (this._drain) {\n        var drain = this._drain;\n        this._drain = null;\n        drain();\n      }\n\n      this._reading = false;\n\n      if (this._finalized) {\n        this.push(null);\n      }\n    }\n  }]);\n\n  return Encoder;\n}(stream.Readable);\n\nvar MediaData = /*#__PURE__*/function (_stream$PassThrough) {\n  \"use strict\";\n\n  _inherits(MediaData, _stream$PassThrough);\n\n  var _super2 = _createSuper(MediaData);\n\n  function MediaData(parent) {\n    var _this2;\n\n    _classCallCheck(this, MediaData);\n\n    _this2 = _super2.call(this);\n    _this2._parent = parent;\n    _this2.destroyed = false;\n    return _this2;\n  }\n\n  _createClass(MediaData, [{\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n\n      this._parent.destroy(err);\n\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }]);\n\n  return MediaData;\n}(stream.PassThrough);\n\nmodule.exports = Encoder;","function allocUnsafe(size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  }\n\n  if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n\n  if (Buffer.allocUnsafe) {\n    return Buffer.allocUnsafe(size);\n  } else {\n    return new Buffer(size);\n  }\n}\n\nmodule.exports = allocUnsafe;","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError = /*#__PURE__*/function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n    case 'raw':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n\n      default:\n        if (retried) return; // undefined\n\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n}\n\n; // Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\n\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n} // StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\n\n\nexports.StringDecoder = StringDecoder;\n\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End; // Returns only complete characters in a Buffer\n\nStringDecoder.prototype.text = utf8Text; // Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\n\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n}; // Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\n\n\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n} // Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\n\n\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n\n    return nb;\n  }\n\n  return 0;\n} // Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\n\n\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return \"\\uFFFD\";\n  }\n\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return \"\\uFFFD\";\n    }\n\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return \"\\uFFFD\";\n      }\n    }\n  }\n} // Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\n\n\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n} // Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\n\n\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n} // For UTF-8, a replacement character is added when ending on a partial\n// character.\n\n\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + \"\\uFFFD\";\n  return r;\n} // UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\n\n\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n\n    return r;\n  }\n\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n} // For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\n\n\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n} // Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\n\n\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","// This is an intentionally recursive require. I don't like it either.\nvar Box = require('./index');\n\nvar Descriptor = require('./descriptor');\n\nvar uint64be = require('uint64be');\n\nvar TIME_OFFSET = 2082844800000;\n/*\nTODO:\ntest these\nadd new box versions\n*/\n// These have 'version' and 'flags' fields in the headers\n\nexports.fullBoxes = {};\nvar fullBoxes = ['mvhd', 'tkhd', 'mdhd', 'vmhd', 'smhd', 'stsd', 'esds', 'stsz', 'stco', 'co64', 'stss', 'stts', 'ctts', 'stsc', 'dref', 'elst', 'hdlr', 'mehd', 'trex', 'mfhd', 'tfhd', 'tfdt', 'trun'];\nfullBoxes.forEach(function (type) {\n  exports.fullBoxes[type] = true;\n});\nexports.ftyp = {};\n\nexports.ftyp.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.ftyp.encodingLength(box));\n  var brands = box.compatibleBrands || [];\n  buf.write(box.brand, 0, 4, 'ascii');\n  buf.writeUInt32BE(box.brandVersion, 4);\n\n  for (var i = 0; i < brands.length; i++) {\n    buf.write(brands[i], 8 + i * 4, 4, 'ascii');\n  }\n\n  exports.ftyp.encode.bytes = 8 + brands.length * 4;\n  return buf;\n};\n\nexports.ftyp.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var brand = buf.toString('ascii', 0, 4);\n  var version = buf.readUInt32BE(4);\n  var compatibleBrands = [];\n\n  for (var i = 8; i < buf.length; i += 4) {\n    compatibleBrands.push(buf.toString('ascii', i, i + 4));\n  }\n\n  return {\n    brand: brand,\n    brandVersion: version,\n    compatibleBrands: compatibleBrands\n  };\n};\n\nexports.ftyp.encodingLength = function (box) {\n  return 8 + (box.compatibleBrands || []).length * 4;\n};\n\nexports.mvhd = {};\n\nexports.mvhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(96);\n  writeDate(box.ctime || new Date(), buf, 0);\n  writeDate(box.mtime || new Date(), buf, 4);\n  buf.writeUInt32BE(box.timeScale || 0, 8);\n  buf.writeUInt32BE(box.duration || 0, 12);\n  writeFixed32(box.preferredRate || 0, buf, 16);\n  writeFixed16(box.preferredVolume || 0, buf, 20);\n  writeReserved(buf, 22, 32);\n  writeMatrix(box.matrix, buf, 32);\n  buf.writeUInt32BE(box.previewTime || 0, 68);\n  buf.writeUInt32BE(box.previewDuration || 0, 72);\n  buf.writeUInt32BE(box.posterTime || 0, 76);\n  buf.writeUInt32BE(box.selectionTime || 0, 80);\n  buf.writeUInt32BE(box.selectionDuration || 0, 84);\n  buf.writeUInt32BE(box.currentTime || 0, 88);\n  buf.writeUInt32BE(box.nextTrackId || 0, 92);\n  exports.mvhd.encode.bytes = 96;\n  return buf;\n};\n\nexports.mvhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    ctime: readDate(buf, 0),\n    mtime: readDate(buf, 4),\n    timeScale: buf.readUInt32BE(8),\n    duration: buf.readUInt32BE(12),\n    preferredRate: readFixed32(buf, 16),\n    preferredVolume: readFixed16(buf, 20),\n    matrix: readMatrix(buf.slice(32, 68)),\n    previewTime: buf.readUInt32BE(68),\n    previewDuration: buf.readUInt32BE(72),\n    posterTime: buf.readUInt32BE(76),\n    selectionTime: buf.readUInt32BE(80),\n    selectionDuration: buf.readUInt32BE(84),\n    currentTime: buf.readUInt32BE(88),\n    nextTrackId: buf.readUInt32BE(92)\n  };\n};\n\nexports.mvhd.encodingLength = function (box) {\n  return 96;\n};\n\nexports.tkhd = {};\n\nexports.tkhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(80);\n  writeDate(box.ctime || new Date(), buf, 0);\n  writeDate(box.mtime || new Date(), buf, 4);\n  buf.writeUInt32BE(box.trackId || 0, 8);\n  writeReserved(buf, 12, 16);\n  buf.writeUInt32BE(box.duration || 0, 16);\n  writeReserved(buf, 20, 28);\n  buf.writeUInt16BE(box.layer || 0, 28);\n  buf.writeUInt16BE(box.alternateGroup || 0, 30);\n  buf.writeUInt16BE(box.volume || 0, 32);\n  writeMatrix(box.matrix, buf, 36);\n  buf.writeUInt32BE(box.trackWidth || 0, 72);\n  buf.writeUInt32BE(box.trackHeight || 0, 76);\n  exports.tkhd.encode.bytes = 80;\n  return buf;\n};\n\nexports.tkhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    ctime: readDate(buf, 0),\n    mtime: readDate(buf, 4),\n    trackId: buf.readUInt32BE(8),\n    duration: buf.readUInt32BE(16),\n    layer: buf.readUInt16BE(28),\n    alternateGroup: buf.readUInt16BE(30),\n    volume: buf.readUInt16BE(32),\n    matrix: readMatrix(buf.slice(36, 72)),\n    trackWidth: buf.readUInt32BE(72),\n    trackHeight: buf.readUInt32BE(76)\n  };\n};\n\nexports.tkhd.encodingLength = function (box) {\n  return 80;\n};\n\nexports.mdhd = {};\n\nexports.mdhd.encode = function (box, buf, offset) {\n  if (box.version === 1) {\n    buf = buf ? buf.slice(offset) : Buffer.alloc(32);\n    writeDate64(box.ctime || new Date(), buf, 0);\n    writeDate64(box.mtime || new Date(), buf, 8);\n    buf.writeUInt32BE(box.timeScale || 0, 16); // Node only supports integer <= 48bit. Waiting for BigInt!\n\n    buf.writeUIntBE(box.duration || 0, 20, 6);\n    buf.writeUInt16BE(box.language || 0, 28);\n    buf.writeUInt16BE(box.quality || 0, 30);\n    exports.mdhd.encode.bytes = 32;\n    return buf;\n  }\n\n  buf = buf ? buf.slice(offset) : Buffer.alloc(20);\n  writeDate(box.ctime || new Date(), buf, 0);\n  writeDate(box.mtime || new Date(), buf, 4);\n  buf.writeUInt32BE(box.timeScale || 0, 8);\n  buf.writeUInt32BE(box.duration || 0, 12);\n  buf.writeUInt16BE(box.language || 0, 16);\n  buf.writeUInt16BE(box.quality || 0, 18);\n  exports.mdhd.encode.bytes = 20;\n  return buf;\n};\n\nexports.mdhd.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  var version1 = end - offset !== 20; // In version 1 creation time and modification time are unsigned long\n\n  if (version1) {\n    return {\n      ctime: readDate64(buf, 0),\n      mtime: readDate64(buf, 8),\n      timeScale: buf.readUInt32BE(16),\n      // Node only supports integer <= 48bit. Waiting for BigInt!\n      duration: buf.readUIntBE(20, 6),\n      language: buf.readUInt16BE(28),\n      quality: buf.readUInt16BE(30)\n    };\n  }\n\n  return {\n    ctime: readDate(buf, 0),\n    mtime: readDate(buf, 4),\n    timeScale: buf.readUInt32BE(8),\n    duration: buf.readUInt32BE(12),\n    language: buf.readUInt16BE(16),\n    quality: buf.readUInt16BE(18)\n  };\n};\n\nexports.mdhd.encodingLength = function (box) {\n  if (box.version === 1) return 32;\n  return 20;\n};\n\nexports.vmhd = {};\n\nexports.vmhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(8);\n  buf.writeUInt16BE(box.graphicsMode || 0, 0);\n  var opcolor = box.opcolor || [0, 0, 0];\n  buf.writeUInt16BE(opcolor[0], 2);\n  buf.writeUInt16BE(opcolor[1], 4);\n  buf.writeUInt16BE(opcolor[2], 6);\n  exports.vmhd.encode.bytes = 8;\n  return buf;\n};\n\nexports.vmhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    graphicsMode: buf.readUInt16BE(0),\n    opcolor: [buf.readUInt16BE(2), buf.readUInt16BE(4), buf.readUInt16BE(6)]\n  };\n};\n\nexports.vmhd.encodingLength = function (box) {\n  return 8;\n};\n\nexports.smhd = {};\n\nexports.smhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt16BE(box.balance || 0, 0);\n  writeReserved(buf, 2, 4);\n  exports.smhd.encode.bytes = 4;\n  return buf;\n};\n\nexports.smhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    balance: buf.readUInt16BE(0)\n  };\n};\n\nexports.smhd.encodingLength = function (box) {\n  return 4;\n};\n\nexports.stsd = {};\n\nexports.stsd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stsd.encodingLength(box));\n  var entries = box.entries || [];\n  buf.writeUInt32BE(entries.length, 0);\n  var ptr = 4;\n\n  for (var i = 0; i < entries.length; i++) {\n    var entry = entries[i];\n    Box.encode(entry, buf, ptr);\n    ptr += Box.encode.bytes;\n  }\n\n  exports.stsd.encode.bytes = ptr;\n  return buf;\n};\n\nexports.stsd.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n  var ptr = 4;\n\n  for (var i = 0; i < num; i++) {\n    var entry = Box.decode(buf, ptr, end);\n    entries[i] = entry;\n    ptr += entry.length;\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stsd.encodingLength = function (box) {\n  var totalSize = 4;\n  if (!box.entries) return totalSize;\n\n  for (var i = 0; i < box.entries.length; i++) {\n    totalSize += Box.encodingLength(box.entries[i]);\n  }\n\n  return totalSize;\n};\n\nexports.avc1 = exports.VisualSampleEntry = {};\n\nexports.VisualSampleEntry.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.VisualSampleEntry.encodingLength(box));\n  writeReserved(buf, 0, 6);\n  buf.writeUInt16BE(box.dataReferenceIndex || 0, 6);\n  writeReserved(buf, 8, 24);\n  buf.writeUInt16BE(box.width || 0, 24);\n  buf.writeUInt16BE(box.height || 0, 26);\n  buf.writeUInt32BE(box.hResolution || 0x480000, 28);\n  buf.writeUInt32BE(box.vResolution || 0x480000, 32);\n  writeReserved(buf, 36, 40);\n  buf.writeUInt16BE(box.frameCount || 1, 40);\n  var compressorName = box.compressorName || '';\n  var nameLen = Math.min(compressorName.length, 31);\n  buf.writeUInt8(nameLen, 42);\n  buf.write(compressorName, 43, nameLen, 'utf8');\n  buf.writeUInt16BE(box.depth || 0x18, 74);\n  buf.writeInt16BE(-1, 76);\n  var ptr = 78;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    Box.encode(child, buf, ptr);\n    ptr += Box.encode.bytes;\n  });\n  exports.VisualSampleEntry.encode.bytes = ptr;\n};\n\nexports.VisualSampleEntry.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  var length = end - offset;\n  var nameLen = Math.min(buf.readUInt8(42), 31);\n  var box = {\n    dataReferenceIndex: buf.readUInt16BE(6),\n    width: buf.readUInt16BE(24),\n    height: buf.readUInt16BE(26),\n    hResolution: buf.readUInt32BE(28),\n    vResolution: buf.readUInt32BE(32),\n    frameCount: buf.readUInt16BE(40),\n    compressorName: buf.toString('utf8', 43, 43 + nameLen),\n    depth: buf.readUInt16BE(74),\n    children: []\n  };\n  var ptr = 78;\n\n  while (length - ptr >= 8) {\n    var child = Box.decode(buf, ptr, length);\n    box.children.push(child);\n    box[child.type] = child;\n    ptr += child.length;\n  }\n\n  return box;\n};\n\nexports.VisualSampleEntry.encodingLength = function (box) {\n  var len = 78;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    len += Box.encodingLength(child);\n  });\n  return len;\n};\n\nexports.avcC = {};\n\nexports.avcC.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(box.buffer.length);\n  box.buffer.copy(buf);\n  exports.avcC.encode.bytes = box.buffer.length;\n};\n\nexports.avcC.decode = function (buf, offset, end) {\n  buf = buf.slice(offset, end);\n  return {\n    mimeCodec: buf.toString('hex', 1, 4),\n    buffer: Buffer.from(buf)\n  };\n};\n\nexports.avcC.encodingLength = function (box) {\n  return box.buffer.length;\n};\n\nexports.mp4a = exports.AudioSampleEntry = {};\n\nexports.AudioSampleEntry.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.AudioSampleEntry.encodingLength(box));\n  writeReserved(buf, 0, 6);\n  buf.writeUInt16BE(box.dataReferenceIndex || 0, 6);\n  writeReserved(buf, 8, 16);\n  buf.writeUInt16BE(box.channelCount || 2, 16);\n  buf.writeUInt16BE(box.sampleSize || 16, 18);\n  writeReserved(buf, 20, 24);\n  buf.writeUInt32BE(box.sampleRate || 0, 24);\n  var ptr = 28;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    Box.encode(child, buf, ptr);\n    ptr += Box.encode.bytes;\n  });\n  exports.AudioSampleEntry.encode.bytes = ptr;\n};\n\nexports.AudioSampleEntry.decode = function (buf, offset, end) {\n  buf = buf.slice(offset, end);\n  var length = end - offset;\n  var box = {\n    dataReferenceIndex: buf.readUInt16BE(6),\n    channelCount: buf.readUInt16BE(16),\n    sampleSize: buf.readUInt16BE(18),\n    sampleRate: buf.readUInt32BE(24),\n    children: []\n  };\n  var ptr = 28;\n\n  while (length - ptr >= 8) {\n    var child = Box.decode(buf, ptr, length);\n    box.children.push(child);\n    box[child.type] = child;\n    ptr += child.length;\n  }\n\n  return box;\n};\n\nexports.AudioSampleEntry.encodingLength = function (box) {\n  var len = 28;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    len += Box.encodingLength(child);\n  });\n  return len;\n};\n\nexports.esds = {};\n\nexports.esds.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(box.buffer.length);\n  box.buffer.copy(buf, 0);\n  exports.esds.encode.bytes = box.buffer.length;\n};\n\nexports.esds.decode = function (buf, offset, end) {\n  buf = buf.slice(offset, end);\n  var desc = Descriptor.Descriptor.decode(buf, 0, buf.length);\n  var esd = desc.tagName === 'ESDescriptor' ? desc : {};\n  var dcd = esd.DecoderConfigDescriptor || {};\n  var oti = dcd.oti || 0;\n  var dsi = dcd.DecoderSpecificInfo;\n  var audioConfig = dsi ? (dsi.buffer.readUInt8(0) & 0xf8) >> 3 : 0;\n  var mimeCodec = null;\n\n  if (oti) {\n    mimeCodec = oti.toString(16);\n\n    if (audioConfig) {\n      mimeCodec += '.' + audioConfig;\n    }\n  }\n\n  return {\n    mimeCodec: mimeCodec,\n    buffer: Buffer.from(buf.slice(0))\n  };\n};\n\nexports.esds.encodingLength = function (box) {\n  return box.buffer.length;\n}; // TODO: integrate the two versions in a saner way\n\n\nexports.stsz = {};\n\nexports.stsz.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stsz.encodingLength(box));\n  buf.writeUInt32BE(0, 0);\n  buf.writeUInt32BE(entries.length, 4);\n\n  for (var i = 0; i < entries.length; i++) {\n    buf.writeUInt32BE(entries[i], i * 4 + 8);\n  }\n\n  exports.stsz.encode.bytes = 8 + entries.length * 4;\n  return buf;\n};\n\nexports.stsz.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var size = buf.readUInt32BE(0);\n  var num = buf.readUInt32BE(4);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    if (size === 0) {\n      entries[i] = buf.readUInt32BE(i * 4 + 8);\n    } else {\n      entries[i] = size;\n    }\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stsz.encodingLength = function (box) {\n  return 8 + box.entries.length * 4;\n};\n\nexports.stss = exports.stco = {};\n\nexports.stco.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stco.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    buf.writeUInt32BE(entries[i], i * 4 + 4);\n  }\n\n  exports.stco.encode.bytes = 4 + entries.length * 4;\n  return buf;\n};\n\nexports.stco.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    entries[i] = buf.readUInt32BE(i * 4 + 4);\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stco.encodingLength = function (box) {\n  return 4 + box.entries.length * 4;\n};\n\nexports.co64 = {};\n\nexports.co64.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.co64.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    uint64be.encode(entries[i], buf, i * 8 + 4);\n  }\n\n  exports.co64.encode.bytes = 4 + entries.length * 8;\n  return buf;\n};\n\nexports.co64.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    entries[i] = uint64be.decode(buf, i * 8 + 4);\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.co64.encodingLength = function (box) {\n  return 4 + box.entries.length * 8;\n};\n\nexports.stts = {};\n\nexports.stts.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stts.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 8 + 4;\n    buf.writeUInt32BE(entries[i].count || 0, ptr);\n    buf.writeUInt32BE(entries[i].duration || 0, ptr + 4);\n  }\n\n  exports.stts.encode.bytes = 4 + box.entries.length * 8;\n  return buf;\n};\n\nexports.stts.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 8 + 4;\n    entries[i] = {\n      count: buf.readUInt32BE(ptr),\n      duration: buf.readUInt32BE(ptr + 4)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stts.encodingLength = function (box) {\n  return 4 + box.entries.length * 8;\n};\n\nexports.ctts = {};\n\nexports.ctts.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.ctts.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 8 + 4;\n    buf.writeUInt32BE(entries[i].count || 0, ptr);\n    buf.writeUInt32BE(entries[i].compositionOffset || 0, ptr + 4);\n  }\n\n  exports.ctts.encode.bytes = 4 + entries.length * 8;\n  return buf;\n};\n\nexports.ctts.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 8 + 4;\n    entries[i] = {\n      count: buf.readUInt32BE(ptr),\n      compositionOffset: buf.readInt32BE(ptr + 4)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.ctts.encodingLength = function (box) {\n  return 4 + box.entries.length * 8;\n};\n\nexports.stsc = {};\n\nexports.stsc.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stsc.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 12 + 4;\n    buf.writeUInt32BE(entries[i].firstChunk || 0, ptr);\n    buf.writeUInt32BE(entries[i].samplesPerChunk || 0, ptr + 4);\n    buf.writeUInt32BE(entries[i].sampleDescriptionId || 0, ptr + 8);\n  }\n\n  exports.stsc.encode.bytes = 4 + entries.length * 12;\n  return buf;\n};\n\nexports.stsc.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 12 + 4;\n    entries[i] = {\n      firstChunk: buf.readUInt32BE(ptr),\n      samplesPerChunk: buf.readUInt32BE(ptr + 4),\n      sampleDescriptionId: buf.readUInt32BE(ptr + 8)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stsc.encodingLength = function (box) {\n  return 4 + box.entries.length * 12;\n};\n\nexports.dref = {};\n\nexports.dref.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.dref.encodingLength(box));\n  var entries = box.entries || [];\n  buf.writeUInt32BE(entries.length, 0);\n  var ptr = 4;\n\n  for (var i = 0; i < entries.length; i++) {\n    var entry = entries[i];\n    var size = (entry.buf ? entry.buf.length : 0) + 4 + 4;\n    buf.writeUInt32BE(size, ptr);\n    ptr += 4;\n    buf.write(entry.type, ptr, 4, 'ascii');\n    ptr += 4;\n\n    if (entry.buf) {\n      entry.buf.copy(buf, ptr);\n      ptr += entry.buf.length;\n    }\n  }\n\n  exports.dref.encode.bytes = ptr;\n  return buf;\n};\n\nexports.dref.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n  var ptr = 4;\n\n  for (var i = 0; i < num; i++) {\n    var size = buf.readUInt32BE(ptr);\n    var type = buf.toString('ascii', ptr + 4, ptr + 8);\n    var tmp = buf.slice(ptr + 8, ptr + size);\n    ptr += size;\n    entries[i] = {\n      type: type,\n      buf: tmp\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.dref.encodingLength = function (box) {\n  var totalSize = 4;\n  if (!box.entries) return totalSize;\n\n  for (var i = 0; i < box.entries.length; i++) {\n    var buf = box.entries[i].buf;\n    totalSize += (buf ? buf.length : 0) + 4 + 4;\n  }\n\n  return totalSize;\n};\n\nexports.elst = {};\n\nexports.elst.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.elst.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 12 + 4;\n    buf.writeUInt32BE(entries[i].trackDuration || 0, ptr);\n    buf.writeUInt32BE(entries[i].mediaTime || 0, ptr + 4);\n    writeFixed32(entries[i].mediaRate || 0, buf, ptr + 8);\n  }\n\n  exports.elst.encode.bytes = 4 + entries.length * 12;\n  return buf;\n};\n\nexports.elst.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 12 + 4;\n    entries[i] = {\n      trackDuration: buf.readUInt32BE(ptr),\n      mediaTime: buf.readInt32BE(ptr + 4),\n      mediaRate: readFixed32(buf, ptr + 8)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.elst.encodingLength = function (box) {\n  return 4 + box.entries.length * 12;\n};\n\nexports.hdlr = {};\n\nexports.hdlr.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.hdlr.encodingLength(box));\n  var len = 21 + (box.name || '').length;\n  buf.fill(0, 0, len);\n  buf.write(box.handlerType || '', 4, 4, 'ascii');\n  writeString(box.name || '', buf, 20);\n  exports.hdlr.encode.bytes = len;\n  return buf;\n};\n\nexports.hdlr.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  return {\n    handlerType: buf.toString('ascii', 4, 8),\n    name: readString(buf, 20, end)\n  };\n};\n\nexports.hdlr.encodingLength = function (box) {\n  return 21 + (box.name || '').length;\n};\n\nexports.mehd = {};\n\nexports.mehd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.fragmentDuration || 0, 0);\n  exports.mehd.encode.bytes = 4;\n  return buf;\n};\n\nexports.mehd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    fragmentDuration: buf.readUInt32BE(0)\n  };\n};\n\nexports.mehd.encodingLength = function (box) {\n  return 4;\n};\n\nexports.trex = {};\n\nexports.trex.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(20);\n  buf.writeUInt32BE(box.trackId || 0, 0);\n  buf.writeUInt32BE(box.defaultSampleDescriptionIndex || 0, 4);\n  buf.writeUInt32BE(box.defaultSampleDuration || 0, 8);\n  buf.writeUInt32BE(box.defaultSampleSize || 0, 12);\n  buf.writeUInt32BE(box.defaultSampleFlags || 0, 16);\n  exports.trex.encode.bytes = 20;\n  return buf;\n};\n\nexports.trex.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    trackId: buf.readUInt32BE(0),\n    defaultSampleDescriptionIndex: buf.readUInt32BE(4),\n    defaultSampleDuration: buf.readUInt32BE(8),\n    defaultSampleSize: buf.readUInt32BE(12),\n    defaultSampleFlags: buf.readUInt32BE(16)\n  };\n};\n\nexports.trex.encodingLength = function (box) {\n  return 20;\n};\n\nexports.mfhd = {};\n\nexports.mfhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.sequenceNumber || 0, 0);\n  exports.mfhd.encode.bytes = 4;\n  return buf;\n};\n\nexports.mfhd.decode = function (buf, offset) {\n  return {\n    sequenceNumber: buf.readUInt32BE(0)\n  };\n};\n\nexports.mfhd.encodingLength = function (box) {\n  return 4;\n};\n\nexports.tfhd = {};\n\nexports.tfhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.trackId, 0);\n  exports.tfhd.encode.bytes = 4;\n  return buf;\n};\n\nexports.tfhd.decode = function (buf, offset) {// TODO: this\n};\n\nexports.tfhd.encodingLength = function (box) {\n  // TODO: this is wrong!\n  return 4;\n};\n\nexports.tfdt = {};\n\nexports.tfdt.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.baseMediaDecodeTime || 0, 0);\n  exports.tfdt.encode.bytes = 4;\n  return buf;\n};\n\nexports.tfdt.decode = function (buf, offset) {// TODO: this\n};\n\nexports.tfdt.encodingLength = function (box) {\n  return 4;\n};\n\nexports.trun = {};\n\nexports.trun.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(8 + box.entries.length * 16); // TODO: this is wrong\n\n  buf.writeUInt32BE(box.entries.length, 0);\n  buf.writeInt32BE(box.dataOffset, 4);\n  var ptr = 8;\n\n  for (var i = 0; i < box.entries.length; i++) {\n    var entry = box.entries[i];\n    buf.writeUInt32BE(entry.sampleDuration, ptr);\n    ptr += 4;\n    buf.writeUInt32BE(entry.sampleSize, ptr);\n    ptr += 4;\n    buf.writeUInt32BE(entry.sampleFlags, ptr);\n    ptr += 4;\n\n    if ((box.version || 0) === 0) {\n      buf.writeUInt32BE(entry.sampleCompositionTimeOffset, ptr);\n    } else {\n      buf.writeInt32BE(entry.sampleCompositionTimeOffset, ptr);\n    }\n\n    ptr += 4;\n  }\n\n  exports.trun.encode.bytes = ptr;\n};\n\nexports.trun.decode = function (buf, offset) {// TODO: this\n};\n\nexports.trun.encodingLength = function (box) {\n  // TODO: this is wrong\n  return 8 + box.entries.length * 16;\n};\n\nexports.mdat = {};\n\nexports.mdat.encode = function (box, buf, offset) {\n  if (box.buffer) {\n    box.buffer.copy(buf, offset);\n    exports.mdat.encode.bytes = box.buffer.length;\n  } else {\n    exports.mdat.encode.bytes = exports.mdat.encodingLength(box);\n  }\n};\n\nexports.mdat.decode = function (buf, start, end) {\n  return {\n    buffer: Buffer.from(buf.slice(start, end))\n  };\n};\n\nexports.mdat.encodingLength = function (box) {\n  return box.buffer ? box.buffer.length : box.contentLength;\n};\n\nfunction writeReserved(buf, offset, end) {\n  for (var i = offset; i < end; i++) {\n    buf[i] = 0;\n  }\n}\n\nfunction writeDate(date, buf, offset) {\n  buf.writeUInt32BE(Math.floor((date.getTime() + TIME_OFFSET) / 1000), offset);\n}\n\nfunction writeDate64(date, buf, offset) {\n  // Node only supports integer <= 48bit. Waiting for BigInt!\n  buf.writeUIntBE(Math.floor((date.getTime() + TIME_OFFSET) / 1000), offset, 6);\n} // TODO: think something is wrong here\n\n\nfunction writeFixed32(num, buf, offset) {\n  buf.writeUInt16BE(Math.floor(num) % (256 * 256), offset);\n  buf.writeUInt16BE(Math.floor(num * 256 * 256) % (256 * 256), offset + 2);\n}\n\nfunction writeFixed16(num, buf, offset) {\n  buf[offset] = Math.floor(num) % 256;\n  buf[offset + 1] = Math.floor(num * 256) % 256;\n}\n\nfunction writeMatrix(list, buf, offset) {\n  if (!list) list = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n  for (var i = 0; i < list.length; i++) {\n    writeFixed32(list[i], buf, offset + i * 4);\n  }\n}\n\nfunction writeString(str, buf, offset) {\n  var strBuffer = Buffer.from(str, 'utf8');\n  strBuffer.copy(buf, offset);\n  buf[offset + strBuffer.length] = 0;\n}\n\nfunction readMatrix(buf) {\n  var list = new Array(buf.length / 4);\n\n  for (var i = 0; i < list.length; i++) {\n    list[i] = readFixed32(buf, i * 4);\n  }\n\n  return list;\n}\n\nfunction readDate64(buf, offset) {\n  // Node only supports integer <= 48bit. Waiting for BigInt!\n  return new Date(buf.readUIntBE(offset, 6) * 1000 - TIME_OFFSET);\n}\n\nfunction readDate(buf, offset) {\n  return new Date(buf.readUInt32BE(offset) * 1000 - TIME_OFFSET);\n}\n\nfunction readFixed32(buf, offset) {\n  return buf.readUInt16BE(offset) + buf.readUInt16BE(offset + 2) / (256 * 256);\n}\n\nfunction readFixed16(buf, offset) {\n  return buf[offset] + buf[offset + 1] / 256;\n}\n\nfunction readString(buf, offset, length) {\n  var i;\n\n  for (i = 0; i < length; i++) {\n    if (buf[offset + i] === 0) {\n      break;\n    }\n  }\n\n  return buf.toString('utf8', offset, offset + i);\n}","module.exports = MediaElementWrapper;\n\nvar inherits = require('inherits');\n\nvar stream = require('readable-stream');\n\nvar toArrayBuffer = require('to-arraybuffer');\n\nvar MediaSource = typeof window !== 'undefined' && window.MediaSource;\nvar DEFAULT_BUFFER_DURATION = 60; // seconds\n\nfunction MediaElementWrapper(elem, opts) {\n  var self = this;\n  if (!(self instanceof MediaElementWrapper)) return new MediaElementWrapper(elem, opts);\n  if (!MediaSource) throw new Error('web browser lacks MediaSource support');\n  if (!opts) opts = {};\n  self._debug = opts.debug;\n  self._bufferDuration = opts.bufferDuration || DEFAULT_BUFFER_DURATION;\n  self._elem = elem;\n  self._mediaSource = new MediaSource();\n  self._streams = [];\n  self.detailedError = null;\n\n  self._errorHandler = function () {\n    self._elem.removeEventListener('error', self._errorHandler);\n\n    var streams = self._streams.slice();\n\n    streams.forEach(function (stream) {\n      stream.destroy(self._elem.error);\n    });\n  };\n\n  self._elem.addEventListener('error', self._errorHandler);\n\n  self._elem.src = window.URL.createObjectURL(self._mediaSource);\n}\n/*\n * `obj` can be a previous value returned by this function\n * or a string\n */\n\n\nMediaElementWrapper.prototype.createWriteStream = function (obj) {\n  var self = this;\n  return new MediaSourceStream(self, obj);\n};\n/*\n * Use to trigger an error on the underlying media element\n */\n\n\nMediaElementWrapper.prototype.error = function (err) {\n  var self = this; // be careful not to overwrite any existing detailedError values\n\n  if (!self.detailedError) {\n    self.detailedError = err;\n  }\n\n  self._dumpDebugData();\n\n  try {\n    self._mediaSource.endOfStream('decode');\n  } catch (err) {}\n\n  try {\n    // Attempt to clean up object URL\n    window.URL.revokeObjectURL(self._elem.src);\n  } catch (err) {}\n};\n/*\n * When self._debug is set, dump all data to files\n */\n\n\nMediaElementWrapper.prototype._dumpDebugData = function () {\n  var self = this;\n\n  if (self._debug) {\n    self._debug = false; // prevent multiple dumps on multiple errors\n\n    self._streams.forEach(function (stream, i) {\n      downloadBuffers(stream._debugBuffers, 'mediasource-stream-' + i);\n    });\n  }\n};\n\ninherits(MediaSourceStream, stream.Writable);\n\nfunction MediaSourceStream(wrapper, obj) {\n  var self = this;\n  stream.Writable.call(self);\n  self._wrapper = wrapper;\n  self._elem = wrapper._elem;\n  self._mediaSource = wrapper._mediaSource;\n  self._allStreams = wrapper._streams;\n\n  self._allStreams.push(self);\n\n  self._bufferDuration = wrapper._bufferDuration;\n  self._sourceBuffer = null;\n  self._debugBuffers = [];\n\n  self._openHandler = function () {\n    self._onSourceOpen();\n  };\n\n  self._flowHandler = function () {\n    self._flow();\n  };\n\n  self._errorHandler = function (err) {\n    if (!self.destroyed) {\n      self.emit('error', err);\n    }\n  };\n\n  if (typeof obj === 'string') {\n    self._type = obj; // Need to create a new sourceBuffer\n\n    if (self._mediaSource.readyState === 'open') {\n      self._createSourceBuffer();\n    } else {\n      self._mediaSource.addEventListener('sourceopen', self._openHandler);\n    }\n  } else if (obj._sourceBuffer === null) {\n    obj.destroy();\n    self._type = obj._type; // The old stream was created but hasn't finished initializing\n\n    self._mediaSource.addEventListener('sourceopen', self._openHandler);\n  } else if (obj._sourceBuffer) {\n    obj.destroy();\n    self._type = obj._type;\n    self._sourceBuffer = obj._sourceBuffer; // Copy over the old sourceBuffer\n\n    self._debugBuffers = obj._debugBuffers; // Copy over previous debug data\n\n    self._sourceBuffer.addEventListener('updateend', self._flowHandler);\n\n    self._sourceBuffer.addEventListener('error', self._errorHandler);\n  } else {\n    throw new Error('The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function');\n  }\n\n  self._elem.addEventListener('timeupdate', self._flowHandler);\n\n  self.on('error', function (err) {\n    self._wrapper.error(err);\n  });\n  self.on('finish', function () {\n    if (self.destroyed) return;\n    self._finished = true;\n\n    if (self._allStreams.every(function (other) {\n      return other._finished;\n    })) {\n      self._wrapper._dumpDebugData();\n\n      try {\n        self._mediaSource.endOfStream();\n      } catch (err) {}\n    }\n  });\n}\n\nMediaSourceStream.prototype._onSourceOpen = function () {\n  var self = this;\n  if (self.destroyed) return;\n\n  self._mediaSource.removeEventListener('sourceopen', self._openHandler);\n\n  self._createSourceBuffer();\n};\n\nMediaSourceStream.prototype.destroy = function (err) {\n  var self = this;\n  if (self.destroyed) return;\n  self.destroyed = true; // Remove from allStreams\n\n  self._allStreams.splice(self._allStreams.indexOf(self), 1);\n\n  self._mediaSource.removeEventListener('sourceopen', self._openHandler);\n\n  self._elem.removeEventListener('timeupdate', self._flowHandler);\n\n  if (self._sourceBuffer) {\n    self._sourceBuffer.removeEventListener('updateend', self._flowHandler);\n\n    self._sourceBuffer.removeEventListener('error', self._errorHandler);\n\n    if (self._mediaSource.readyState === 'open') {\n      self._sourceBuffer.abort();\n    }\n  }\n\n  if (err) self.emit('error', err);\n  self.emit('close');\n};\n\nMediaSourceStream.prototype._createSourceBuffer = function () {\n  var self = this;\n  if (self.destroyed) return;\n\n  if (MediaSource.isTypeSupported(self._type)) {\n    self._sourceBuffer = self._mediaSource.addSourceBuffer(self._type);\n\n    self._sourceBuffer.addEventListener('updateend', self._flowHandler);\n\n    self._sourceBuffer.addEventListener('error', self._errorHandler);\n\n    if (self._cb) {\n      var cb = self._cb;\n      self._cb = null;\n      cb();\n    }\n  } else {\n    self.destroy(new Error('The provided type is not supported'));\n  }\n};\n\nMediaSourceStream.prototype._write = function (chunk, encoding, cb) {\n  var self = this;\n  if (self.destroyed) return;\n\n  if (!self._sourceBuffer) {\n    self._cb = function (err) {\n      if (err) return cb(err);\n\n      self._write(chunk, encoding, cb);\n    };\n\n    return;\n  }\n\n  if (self._sourceBuffer.updating) {\n    return cb(new Error('Cannot append buffer while source buffer updating'));\n  }\n\n  var arr = toArrayBuffer(chunk);\n\n  if (self._wrapper._debug) {\n    self._debugBuffers.push(arr);\n  }\n\n  try {\n    self._sourceBuffer.appendBuffer(arr);\n  } catch (err) {\n    // appendBuffer can throw for a number of reasons, most notably when the data\n    // being appended is invalid or if appendBuffer is called after another error\n    // already occurred on the media element. In Chrome, there may be useful debugging\n    // info in chrome://media-internals\n    self.destroy(err);\n    return;\n  }\n\n  self._cb = cb;\n};\n\nMediaSourceStream.prototype._flow = function () {\n  var self = this;\n\n  if (self.destroyed || !self._sourceBuffer || self._sourceBuffer.updating) {\n    return;\n  }\n\n  if (self._mediaSource.readyState === 'open') {\n    // check buffer size\n    if (self._getBufferDuration() > self._bufferDuration) {\n      return;\n    }\n  }\n\n  if (self._cb) {\n    var cb = self._cb;\n    self._cb = null;\n    cb();\n  }\n}; // TODO: if zero actually works in all browsers, remove the logic associated with this below\n\n\nvar EPSILON = 0;\n\nMediaSourceStream.prototype._getBufferDuration = function () {\n  var self = this;\n  var buffered = self._sourceBuffer.buffered;\n  var currentTime = self._elem.currentTime;\n  var bufferEnd = -1; // end of the buffer\n  // This is a little over complex because some browsers seem to separate the\n  // buffered region into multiple sections with slight gaps.\n\n  for (var i = 0; i < buffered.length; i++) {\n    var start = buffered.start(i);\n    var end = buffered.end(i) + EPSILON;\n\n    if (start > currentTime) {\n      // Reached past the joined buffer\n      break;\n    } else if (bufferEnd >= 0 || currentTime <= end) {\n      // Found the start/continuation of the joined buffer\n      bufferEnd = end;\n    }\n  }\n\n  var bufferedTime = bufferEnd - currentTime;\n\n  if (bufferedTime < 0) {\n    bufferedTime = 0;\n  }\n\n  return bufferedTime;\n};\n\nfunction downloadBuffers(bufs, name) {\n  var a = document.createElement('a');\n  a.href = window.URL.createObjectURL(new window.Blob(bufs));\n  a.download = name;\n  a.click();\n}","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');","import * as React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { graphql, useStaticQuery } from \"gatsby\"\nimport { Helmet } from \"react-helmet\"\n/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\ninterface Props {\n  description: string\n  lang: string\n  meta: {\n    name: string\n    content: string\n  }[]\n  title: string\n}\n\nconst SEO = ({ description, lang, meta, title }: Props) => {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            social {\n              twitter\n            }\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.social.twitter,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ].concat(meta)}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  description: ``,\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.arrayOf(PropTypes.object),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n","var once = require('once');\n\nvar eos = require('end-of-stream');\n\nvar fs = require('fs'); // we only need fs to get the ReadStream and WriteStream prototypes\n\n\nvar noop = function noop() {};\n\nvar ancient = /^v?\\.0/.test(process.version);\n\nvar isFn = function isFn(fn) {\n  return typeof fn === 'function';\n};\n\nvar isFS = function isFS(stream) {\n  if (!ancient) return false; // newer node version do not need to care about fs is a special way\n\n  if (!fs) return false; // browser\n\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close);\n};\n\nvar isRequest = function isRequest(stream) {\n  return stream.setHeader && isFn(stream.abort);\n};\n\nvar destroyer = function destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true;\n    if (isFS(stream)) return stream.close(noop); // use close for fs streams to avoid fd leaks\n\n    if (isRequest(stream)) return stream.abort(); // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy();\n    callback(err || new Error('stream was destroyed'));\n  };\n};\n\nvar call = function call(fn) {\n  fn();\n};\n\nvar pipe = function pipe(from, to) {\n  return from.pipe(to);\n};\n\nvar pump = function pump() {\n  var streams = Array.prototype.slice.call(arguments);\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop;\n  if (Array.isArray(streams[0])) streams = streams[0];\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum');\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n};\n\nmodule.exports = pump;","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer');\n\nvar Buffer = buffer.Buffer; // alternative to using Object.keys for old browsers\n\nfunction copyProps(src, dst) {\n  for (var key in src) {\n    dst[key] = src[key];\n  }\n}\n\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer;\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports);\n  exports.Buffer = SafeBuffer;\n}\n\nfunction SafeBuffer(arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length);\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype); // Copy static methods from Buffer\n\ncopyProps(Buffer, SafeBuffer);\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number');\n  }\n\n  return Buffer(arg, encodingOrOffset, length);\n};\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  var buf = Buffer(size);\n\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding);\n    } else {\n      buf.fill(fill);\n    }\n  } else {\n    buf.fill(0);\n  }\n\n  return buf;\n};\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  return Buffer(size);\n};\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  return buffer.SlowBuffer(size);\n};","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy;\n\nfunction wrappy(fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb);\n  if (typeof fn !== 'function') throw new TypeError('need wrapper function');\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k];\n  });\n  return wrapper;\n\n  function wrapper() {\n    var args = new Array(arguments.length);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    var ret = fn.apply(this, args);\n    var cb = args[args.length - 1];\n\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k];\n      });\n    }\n\n    return ret;\n  }\n}","var wrappy = require('wrappy');\n\nmodule.exports = wrappy(once);\nmodule.exports.strict = wrappy(onceStrict);\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function value() {\n      return once(this);\n    },\n    configurable: true\n  });\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function value() {\n      return onceStrict(this);\n    },\n    configurable: true\n  });\n});\n\nfunction once(fn) {\n  var f = function f() {\n    if (f.called) return f.value;\n    f.called = true;\n    return f.value = fn.apply(this, arguments);\n  };\n\n  f.called = false;\n  return f;\n}\n\nfunction onceStrict(fn) {\n  var f = function f() {\n    if (f.called) throw new Error(f.onceError);\n    f.called = true;\n    return f.value = fn.apply(this, arguments);\n  };\n\n  var name = fn.name || 'Function wrapped with `once`';\n  f.onceError = name + \" shouldn't be called more than once\";\n  f.called = false;\n  return f;\n}","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","/**\n * Module exports.\n */\nmodule.exports = deprecate;\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate(fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n\n      warned = true;\n    }\n\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\n\nfunction config(name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","var bufferFill = require('buffer-fill');\n\nvar allocUnsafe = require('buffer-alloc-unsafe');\n\nmodule.exports = function alloc(size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  }\n\n  if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n\n  if (Buffer.alloc) {\n    return Buffer.alloc(size, fill, encoding);\n  }\n\n  var buffer = allocUnsafe(size);\n\n  if (size === 0) {\n    return buffer;\n  }\n\n  if (fill === undefined) {\n    return bufferFill(buffer, 0);\n  }\n\n  if (typeof encoding !== 'string') {\n    encoding = undefined;\n  }\n\n  return bufferFill(buffer, fill, encoding);\n};","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","module.exports = require(\"regenerator-runtime\");\n","var bufferAlloc = require('buffer-alloc');\n\nvar UINT_32_MAX = Math.pow(2, 32);\n\nexports.encodingLength = function () {\n  return 8;\n};\n\nexports.encode = function (num, buf, offset) {\n  if (!buf) buf = bufferAlloc(8);\n  if (!offset) offset = 0;\n  var top = Math.floor(num / UINT_32_MAX);\n  var rem = num - top * UINT_32_MAX;\n  buf.writeUInt32BE(top, offset);\n  buf.writeUInt32BE(rem, offset + 4);\n  return buf;\n};\n\nexports.decode = function (buf, offset) {\n  if (!offset) offset = 0;\n  var top = buf.readUInt32BE(offset);\n  var rem = buf.readUInt32BE(offset + 4);\n  return top * UINT_32_MAX + rem;\n};\n\nexports.encode.bytes = 8;\nexports.decode.bytes = 8;","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this; // if we have detected an error in the meanwhile\n    // reject straight away\n\n\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this; // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n\n\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nInstance of writable stream.\n\ncall .get(length) or .discard(length) to get a stream (relative to the last end)\n\nemits 'stalled' once everything is written\n\n*/\nvar _require = require('readable-stream'),\n    Writable = _require.Writable,\n    PassThrough = _require.PassThrough;\n\nvar RangeSliceStream = /*#__PURE__*/function (_Writable) {\n  \"use strict\";\n\n  _inherits(RangeSliceStream, _Writable);\n\n  var _super = _createSuper(RangeSliceStream);\n\n  function RangeSliceStream(offset) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, RangeSliceStream);\n\n    _this = _super.call(this, opts);\n    _this.destroyed = false;\n    _this._queue = [];\n    _this._position = offset || 0;\n    _this._cb = null;\n    _this._buffer = null;\n    _this._out = null;\n    return _this;\n  }\n\n  _createClass(RangeSliceStream, [{\n    key: \"_write\",\n    value: function _write(chunk, encoding, cb) {\n      var drained = true;\n\n      while (true) {\n        if (this.destroyed) {\n          return;\n        } // Wait for more queue entries\n\n\n        if (this._queue.length === 0) {\n          this._buffer = chunk;\n          this._cb = cb;\n          return;\n        }\n\n        this._buffer = null;\n        var currRange = this._queue[0]; // Relative to the start of chunk, what data do we need?\n\n        var writeStart = Math.max(currRange.start - this._position, 0);\n        var writeEnd = currRange.end - this._position; // Check if we need to throw it all away\n\n        if (writeStart >= chunk.length) {\n          this._position += chunk.length;\n          return cb(null);\n        } // Check if we need to use it all\n\n\n        var toWrite = void 0;\n\n        if (writeEnd > chunk.length) {\n          this._position += chunk.length;\n\n          if (writeStart === 0) {\n            toWrite = chunk;\n          } else {\n            toWrite = chunk.slice(writeStart);\n          }\n\n          drained = currRange.stream.write(toWrite) && drained;\n          break;\n        }\n\n        this._position += writeEnd;\n        toWrite = writeStart === 0 && writeEnd === chunk.length ? chunk : chunk.slice(writeStart, writeEnd);\n        drained = currRange.stream.write(toWrite) && drained;\n\n        if (currRange.last) {\n          currRange.stream.end();\n        }\n\n        chunk = chunk.slice(writeEnd);\n\n        this._queue.shift();\n      }\n\n      if (drained) {\n        cb(null);\n      } else {\n        currRange.stream.once('drain', cb.bind(null, null));\n      }\n    }\n  }, {\n    key: \"slice\",\n    value: function slice(ranges) {\n      var _this2 = this;\n\n      if (this.destroyed) return null;\n      if (!Array.isArray(ranges)) ranges = [ranges];\n      var str = new PassThrough();\n      ranges.forEach(function (range, i) {\n        _this2._queue.push({\n          start: range.start,\n          end: range.end,\n          stream: str,\n          last: i === ranges.length - 1\n        });\n      });\n\n      if (this._buffer) {\n        this._write(this._buffer, null, this._cb);\n      }\n\n      return str;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n      if (err) this.emit('error', err);\n    }\n  }]);\n\n  return RangeSliceStream;\n}(Writable);\n\nmodule.exports = RangeSliceStream;","var once = require('once');\n\nvar noop = function noop() {};\n\nvar isRequest = function isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function isChildProcess(stream) {\n  return stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3;\n};\n\nvar eos = function eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n  var cancelled = false;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var onfinish = function onfinish() {\n    writable = false;\n    if (!readable) callback.call(stream);\n  };\n\n  var onend = function onend() {\n    readable = false;\n    if (!writable) callback.call(stream);\n  };\n\n  var onexit = function onexit(exitCode) {\n    callback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    process.nextTick(onclosenexttick);\n  };\n\n  var onclosenexttick = function onclosenexttick() {\n    if (cancelled) return;\n    if (readable && !(rs && rs.ended && !rs.destroyed)) return callback.call(stream, new Error('premature close'));\n    if (writable && !(ws && ws.ended && !ws.destroyed)) return callback.call(stream, new Error('premature close'));\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !ws) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  if (isChildProcess(stream)) stream.on('exit', onexit);\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    cancelled = true;\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('exit', onexit);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n};\n\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser');\n};","'use strict';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports = /*#__PURE__*/function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar bs = require('binary-search');\n\nvar EventEmitter = require('events');\n\nvar mp4 = require('mp4-stream');\n\nvar Box = require('mp4-box-encoding');\n\nvar RangeSliceStream = require('range-slice-stream'); // if we want to ignore more than this many bytes, request a new stream.\n// if we want to ignore fewer, just skip them.\n\n\nvar FIND_MOOV_SEEK_SIZE = 4096;\n\nvar MP4Remuxer = /*#__PURE__*/function (_EventEmitter) {\n  \"use strict\";\n\n  _inherits(MP4Remuxer, _EventEmitter);\n\n  var _super = _createSuper(MP4Remuxer);\n\n  function MP4Remuxer(file) {\n    var _this;\n\n    _classCallCheck(this, MP4Remuxer);\n\n    _this = _super.call(this);\n    _this._tracks = [];\n    _this._file = file;\n    _this._decoder = null;\n\n    _this._findMoov(0);\n\n    return _this;\n  }\n\n  _createClass(MP4Remuxer, [{\n    key: \"_findMoov\",\n    value: function _findMoov(offset) {\n      var _this2 = this;\n\n      if (this._decoder) {\n        this._decoder.destroy();\n      }\n\n      var toSkip = 0;\n      this._decoder = mp4.decode();\n\n      var fileStream = this._file.createReadStream({\n        start: offset\n      });\n\n      fileStream.pipe(this._decoder);\n\n      var boxHandler = function boxHandler(headers) {\n        if (headers.type === 'moov') {\n          _this2._decoder.removeListener('box', boxHandler);\n\n          _this2._decoder.decode(function (moov) {\n            fileStream.destroy();\n\n            try {\n              _this2._processMoov(moov);\n            } catch (err) {\n              err.message = \"Cannot parse mp4 file: \".concat(err.message);\n\n              _this2.emit('error', err);\n            }\n          });\n        } else if (headers.length < FIND_MOOV_SEEK_SIZE) {\n          toSkip += headers.length;\n\n          _this2._decoder.ignore();\n        } else {\n          _this2._decoder.removeListener('box', boxHandler);\n\n          toSkip += headers.length;\n          fileStream.destroy();\n\n          _this2._decoder.destroy();\n\n          _this2._findMoov(offset + toSkip);\n        }\n      };\n\n      this._decoder.on('box', boxHandler);\n    }\n  }, {\n    key: \"_processMoov\",\n    value: function _processMoov(moov) {\n      var traks = moov.traks;\n      this._tracks = [];\n      this._hasVideo = false;\n      this._hasAudio = false;\n\n      for (var i = 0; i < traks.length; i++) {\n        var trak = traks[i];\n        var stbl = trak.mdia.minf.stbl;\n        var stsdEntry = stbl.stsd.entries[0];\n        var handlerType = trak.mdia.hdlr.handlerType;\n        var codec = void 0;\n        var mime = void 0;\n\n        if (handlerType === 'vide' && stsdEntry.type === 'avc1') {\n          if (this._hasVideo) {\n            continue;\n          }\n\n          this._hasVideo = true;\n          codec = 'avc1';\n\n          if (stsdEntry.avcC) {\n            codec += \".\".concat(stsdEntry.avcC.mimeCodec);\n          }\n\n          mime = \"video/mp4; codecs=\\\"\".concat(codec, \"\\\"\");\n        } else if (handlerType === 'soun' && stsdEntry.type === 'mp4a') {\n          if (this._hasAudio) {\n            continue;\n          }\n\n          this._hasAudio = true;\n          codec = 'mp4a';\n\n          if (stsdEntry.esds && stsdEntry.esds.mimeCodec) {\n            codec += \".\".concat(stsdEntry.esds.mimeCodec);\n          }\n\n          mime = \"audio/mp4; codecs=\\\"\".concat(codec, \"\\\"\");\n        } else {\n          continue;\n        }\n\n        var samples = [];\n        var sample = 0; // Chunk/position data\n\n        var sampleInChunk = 0;\n        var chunk = 0;\n        var offsetInChunk = 0;\n        var sampleToChunkIndex = 0; // Time data\n\n        var dts = 0;\n        var decodingTimeEntry = new RunLengthIndex(stbl.stts.entries);\n        var presentationOffsetEntry = null;\n\n        if (stbl.ctts) {\n          presentationOffsetEntry = new RunLengthIndex(stbl.ctts.entries);\n        } // Sync table index\n\n\n        var syncSampleIndex = 0;\n\n        while (true) {\n          var currChunkEntry = stbl.stsc.entries[sampleToChunkIndex]; // Compute size\n\n          var size = stbl.stsz.entries[sample]; // Compute time data\n\n          var duration = decodingTimeEntry.value.duration;\n          var presentationOffset = presentationOffsetEntry ? presentationOffsetEntry.value.compositionOffset : 0; // Compute sync\n\n          var sync = true;\n\n          if (stbl.stss) {\n            sync = stbl.stss.entries[syncSampleIndex] === sample + 1;\n          } // Create new sample entry\n\n\n          var chunkOffsetTable = stbl.stco || stbl.co64;\n          samples.push({\n            size: size,\n            duration: duration,\n            dts: dts,\n            presentationOffset: presentationOffset,\n            sync: sync,\n            offset: offsetInChunk + chunkOffsetTable.entries[chunk]\n          }); // Go to next sample\n\n          sample++;\n\n          if (sample >= stbl.stsz.entries.length) {\n            break;\n          } // Move position/chunk\n\n\n          sampleInChunk++;\n          offsetInChunk += size;\n\n          if (sampleInChunk >= currChunkEntry.samplesPerChunk) {\n            // Move to new chunk\n            sampleInChunk = 0;\n            offsetInChunk = 0;\n            chunk++; // Move sample to chunk box index\n\n            var nextChunkEntry = stbl.stsc.entries[sampleToChunkIndex + 1];\n\n            if (nextChunkEntry && chunk + 1 >= nextChunkEntry.firstChunk) {\n              sampleToChunkIndex++;\n            }\n          } // Move time forward\n\n\n          dts += duration;\n          decodingTimeEntry.inc();\n          presentationOffsetEntry && presentationOffsetEntry.inc(); // Move sync table index\n\n          if (sync) {\n            syncSampleIndex++;\n          }\n        }\n\n        trak.mdia.mdhd.duration = 0;\n        trak.tkhd.duration = 0;\n        var defaultSampleDescriptionIndex = currChunkEntry.sampleDescriptionId;\n        var trackMoov = {\n          type: 'moov',\n          mvhd: moov.mvhd,\n          traks: [{\n            tkhd: trak.tkhd,\n            mdia: {\n              mdhd: trak.mdia.mdhd,\n              hdlr: trak.mdia.hdlr,\n              elng: trak.mdia.elng,\n              minf: {\n                vmhd: trak.mdia.minf.vmhd,\n                smhd: trak.mdia.minf.smhd,\n                dinf: trak.mdia.minf.dinf,\n                stbl: {\n                  stsd: stbl.stsd,\n                  stts: empty(),\n                  ctts: empty(),\n                  stsc: empty(),\n                  stsz: empty(),\n                  stco: empty(),\n                  stss: empty()\n                }\n              }\n            }\n          }],\n          mvex: {\n            mehd: {\n              fragmentDuration: moov.mvhd.duration\n            },\n            trexs: [{\n              trackId: trak.tkhd.trackId,\n              defaultSampleDescriptionIndex: defaultSampleDescriptionIndex,\n              defaultSampleDuration: 0,\n              defaultSampleSize: 0,\n              defaultSampleFlags: 0\n            }]\n          }\n        };\n\n        this._tracks.push({\n          fragmentSequence: 1,\n          trackId: trak.tkhd.trackId,\n          timeScale: trak.mdia.mdhd.timeScale,\n          samples: samples,\n          currSample: null,\n          currTime: null,\n          moov: trackMoov,\n          mime: mime\n        });\n      }\n\n      if (this._tracks.length === 0) {\n        this.emit('error', new Error('no playable tracks'));\n        return;\n      } // Must be set last since this is used above\n\n\n      moov.mvhd.duration = 0;\n      this._ftyp = {\n        type: 'ftyp',\n        brand: 'iso5',\n        brandVersion: 0,\n        compatibleBrands: ['iso5']\n      };\n      var ftypBuf = Box.encode(this._ftyp);\n\n      var data = this._tracks.map(function (track) {\n        var moovBuf = Box.encode(track.moov);\n        return {\n          mime: track.mime,\n          init: Buffer.concat([ftypBuf, moovBuf])\n        };\n      });\n\n      this.emit('ready', data);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      var _this3 = this;\n\n      if (!this._tracks) {\n        throw new Error('Not ready yet; wait for \\'ready\\' event');\n      }\n\n      if (this._fileStream) {\n        this._fileStream.destroy();\n\n        this._fileStream = null;\n      }\n\n      var startOffset = -1;\n\n      this._tracks.map(function (track, i) {\n        // find the keyframe before the time\n        // stream from there\n        if (track.outStream) {\n          track.outStream.destroy();\n        }\n\n        if (track.inStream) {\n          track.inStream.destroy();\n          track.inStream = null;\n        }\n\n        var outStream = track.outStream = mp4.encode();\n\n        var fragment = _this3._generateFragment(i, time);\n\n        if (!fragment) {\n          return outStream.finalize();\n        }\n\n        if (startOffset === -1 || fragment.ranges[0].start < startOffset) {\n          startOffset = fragment.ranges[0].start;\n        }\n\n        var writeFragment = function writeFragment(frag) {\n          if (outStream.destroyed) return;\n          outStream.box(frag.moof, function (err) {\n            if (err) return _this3.emit('error', err);\n            if (outStream.destroyed) return;\n            var slicedStream = track.inStream.slice(frag.ranges);\n            slicedStream.pipe(outStream.mediaData(frag.length, function (err) {\n              if (err) return _this3.emit('error', err);\n              if (outStream.destroyed) return;\n\n              var nextFrag = _this3._generateFragment(i);\n\n              if (!nextFrag) {\n                return outStream.finalize();\n              }\n\n              writeFragment(nextFrag);\n            }));\n          });\n        };\n\n        writeFragment(fragment);\n      });\n\n      if (startOffset >= 0) {\n        var fileStream = this._fileStream = this._file.createReadStream({\n          start: startOffset\n        });\n\n        this._tracks.forEach(function (track) {\n          track.inStream = new RangeSliceStream(startOffset, {\n            // Allow up to a 10MB offset between audio and video,\n            // which should be fine for any reasonable interleaving\n            // interval and bitrate\n            highWaterMark: 10000000\n          });\n          fileStream.pipe(track.inStream);\n        });\n      }\n\n      return this._tracks.map(function (track) {\n        return track.outStream;\n      });\n    }\n  }, {\n    key: \"_findSampleBefore\",\n    value: function _findSampleBefore(trackInd, time) {\n      var track = this._tracks[trackInd];\n      var scaledTime = Math.floor(track.timeScale * time);\n      var sample = bs(track.samples, scaledTime, function (sample, t) {\n        var pts = sample.dts + sample.presentationOffset; // - track.editShift\n\n        return pts - t;\n      });\n\n      if (sample === -1) {\n        sample = 0;\n      } else if (sample < 0) {\n        sample = -sample - 2;\n      } // sample is now the last sample with dts <= time\n      // Find the preceeding sync sample\n\n\n      while (!track.samples[sample].sync) {\n        sample--;\n      }\n\n      return sample;\n    }\n  }, {\n    key: \"_generateFragment\",\n    value: function _generateFragment(track, time) {\n      /*\n          1. Find correct sample\n          2. Process backward until sync sample found\n          3. Process forward until next sync sample after MIN_FRAGMENT_DURATION found\n          */\n      var currTrack = this._tracks[track];\n      var firstSample;\n\n      if (time !== undefined) {\n        firstSample = this._findSampleBefore(track, time);\n      } else {\n        firstSample = currTrack.currSample;\n      }\n\n      if (firstSample >= currTrack.samples.length) {\n        return null;\n      }\n\n      var startDts = currTrack.samples[firstSample].dts;\n      var totalLen = 0;\n      var ranges = [];\n\n      for (var currSample = firstSample; currSample < currTrack.samples.length; currSample++) {\n        var sample = currTrack.samples[currSample];\n\n        if (sample.sync && sample.dts - startDts >= currTrack.timeScale * MIN_FRAGMENT_DURATION) {\n          break; // This is a reasonable place to end the fragment\n        }\n\n        totalLen += sample.size;\n        var currRange = ranges.length - 1;\n\n        if (currRange < 0 || ranges[currRange].end !== sample.offset) {\n          // Push a new range\n          ranges.push({\n            start: sample.offset,\n            end: sample.offset + sample.size\n          });\n        } else {\n          ranges[currRange].end += sample.size;\n        }\n      }\n\n      currTrack.currSample = currSample;\n      return {\n        moof: this._generateMoof(track, firstSample, currSample),\n        ranges: ranges,\n        length: totalLen\n      };\n    }\n  }, {\n    key: \"_generateMoof\",\n    value: function _generateMoof(track, firstSample, lastSample) {\n      var currTrack = this._tracks[track];\n      var entries = [];\n      var trunVersion = 0;\n\n      for (var j = firstSample; j < lastSample; j++) {\n        var currSample = currTrack.samples[j];\n\n        if (currSample.presentationOffset < 0) {\n          trunVersion = 1;\n        }\n\n        entries.push({\n          sampleDuration: currSample.duration,\n          sampleSize: currSample.size,\n          sampleFlags: currSample.sync ? 0x2000000 : 0x1010000,\n          sampleCompositionTimeOffset: currSample.presentationOffset\n        });\n      }\n\n      var moof = {\n        type: 'moof',\n        mfhd: {\n          sequenceNumber: currTrack.fragmentSequence++\n        },\n        trafs: [{\n          tfhd: {\n            flags: 0x20000,\n            // default-base-is-moof\n            trackId: currTrack.trackId\n          },\n          tfdt: {\n            baseMediaDecodeTime: currTrack.samples[firstSample].dts\n          },\n          trun: {\n            flags: 0xf01,\n            dataOffset: 8,\n            // The moof size has to be added to this later as well\n            entries: entries,\n            version: trunVersion\n          }\n        }]\n      }; // Update the offset\n\n      moof.trafs[0].trun.dataOffset += Box.encodingLength(moof);\n      return moof;\n    }\n  }]);\n\n  return MP4Remuxer;\n}(EventEmitter);\n\nvar RunLengthIndex = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function RunLengthIndex(entries, countName) {\n    _classCallCheck(this, RunLengthIndex);\n\n    this._entries = entries;\n    this._countName = countName || 'count';\n    this._index = 0;\n    this._offset = 0;\n    this.value = this._entries[0];\n  }\n\n  _createClass(RunLengthIndex, [{\n    key: \"inc\",\n    value: function inc() {\n      this._offset++;\n\n      if (this._offset >= this._entries[this._index][this._countName]) {\n        this._index++;\n        this._offset = 0;\n      }\n\n      this.value = this._entries[this._index];\n    }\n  }]);\n\n  return RunLengthIndex;\n}();\n\nfunction empty() {\n  return {\n    version: 0,\n    flags: 0,\n    entries: []\n  };\n}\n\nvar MIN_FRAGMENT_DURATION = 1; // second\n\nmodule.exports = MP4Remuxer;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import * as React from \"react\"\nimport VideoStream from \"videostream\"\n\nimport styled from \"styled-components\"\n\nconst Video: React.FC<{ file: any }> = ({ file }) => {\n  const videoRef = React.useRef(null)\n  React.useEffect(() => {\n    new VideoStream(file, videoRef.current)\n  })\n  return (\n    <>\n      <h4>{file.name}</h4>\n      <video controls ref={videoRef} playsInline></video>\n    </>\n  )\n}\n\nconst StyledTextArea = styled.textarea`\n  display: block;\n  width: 100%;\n`\nexport const Streamer: React.FC<{ magnetURL: string }> = ({ magnetURL }) => {\n  const [state, changeState] = React.useState({\n    loading: true,\n    videoFiles: [],\n    magnetURL: magnetURL,\n  })\n\n  React.useEffect(() => {\n    const connect = async (magnetURL: string) => {\n      let WebTorrent\n\n      const wtMin = (await import(\"webtorrent/webtorrent.min\")).default\n\n      if (wtMin.Default && wtMin.Default.name === \"WebTorrent\")\n        WebTorrent = wtMin.default\n      else {\n        const wtDebug = await import(\"webtorrent/webtorrent.debug\")\n\n        WebTorrent = wtDebug.default\n      }\n\n      const client = new WebTorrent()\n\n      client.add(magnetURL, async function (torrent: any) {\n        console.log(torrent.files)\n        const videoFiles = torrent.files.filter((file: any) =>\n          file.name.endsWith(\"mp4\")\n        )\n\n        changeState({ ...state, loading: false, videoFiles: videoFiles })\n      })\n    }\n    connect(magnetURL)\n  }, [])\n\n  if (state.loading) {\n    return (\n      <>\n        <h2>loading</h2>\n        <StyledTextArea\n          value={magnetURL}\n          onChange={e => changeState({ ...state, magnetURL: e.target.value })}\n        ></StyledTextArea>\n      </>\n    )\n  }\n\n  return (\n    <div>\n      {state.videoFiles.map((file: any, key) => (\n        <Video file={file} key={key} />\n      ))}\n    </div>\n  )\n}\n","import React from \"react\"\nimport SEO from \"../components/seo\"\nimport { graphql } from \"gatsby\"\nimport { Streamer } from \"@zed-vision/video-streamer\"\n\ninterface Props {\n  data: {\n    site: {\n      siteMetadata: {\n        title: string\n      }\n    }\n  }\n  location: Location\n}\n\nconst VideoStreamingPage = ({ data, location }: Props) => {\n  const magnet =\n    \"magnet:?xt=urn:btih:28ebbd106b09fc9a57c9752f0ef5f147682c3318&dn=VID_20190802_145240.mp4&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com\"\n\n  return (\n    <>\n      <SEO title=\"Stream something from here :)\" />\n\n      <Streamer magnetURL={magnet} />\n    </>\n  )\n}\n\nexport default VideoStreamingPage\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n","var Buffer = require('buffer').Buffer;\n\nmodule.exports = function (buf) {\n  // If the buffer is backed by a Uint8Array, a faster version will work\n  if (buf instanceof Uint8Array) {\n    // If the buffer isn't a subarray, return the underlying ArrayBuffer\n    if (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n      return buf.buffer;\n    } else if (typeof buf.buffer.slice === 'function') {\n      // Otherwise we need to get a proper copy\n      return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n    }\n  }\n\n  if (Buffer.isBuffer(buf)) {\n    // This is the slow version that will work with any Buffer\n    // implementation (even in old browsers)\n    var arrayCopy = new Uint8Array(buf.length);\n    var len = buf.length;\n\n    for (var i = 0; i < len; i++) {\n      arrayCopy[i] = buf[i];\n    }\n\n    return arrayCopy.buffer;\n  } else {\n    throw new Error('Argument must be a Buffer');\n  }\n};","var tagToName = {\n  0x03: 'ESDescriptor',\n  0x04: 'DecoderConfigDescriptor',\n  0x05: 'DecoderSpecificInfo',\n  0x06: 'SLConfigDescriptor'\n};\nexports.Descriptor = {};\n\nexports.Descriptor.decode = function (buf, start, end) {\n  var tag = buf.readUInt8(start);\n  var ptr = start + 1;\n  var lenByte;\n  var len = 0;\n\n  do {\n    lenByte = buf.readUInt8(ptr++);\n    len = len << 7 | lenByte & 0x7f;\n  } while (lenByte & 0x80);\n\n  var obj;\n  var tagName = tagToName[tag]; // May be undefined; that's ok\n\n  if (exports[tagName]) {\n    obj = exports[tagName].decode(buf, ptr, end);\n  } else {\n    obj = {\n      buffer: Buffer.from(buf.slice(ptr, ptr + len))\n    };\n  }\n\n  obj.tag = tag;\n  obj.tagName = tagName;\n  obj.length = ptr - start + len;\n  obj.contentsLen = len;\n  return obj;\n};\n\nexports.DescriptorArray = {};\n\nexports.DescriptorArray.decode = function (buf, start, end) {\n  var ptr = start;\n  var obj = {};\n\n  while (ptr + 2 <= end) {\n    var descriptor = exports.Descriptor.decode(buf, ptr, end);\n    ptr += descriptor.length;\n    var tagName = tagToName[descriptor.tag] || 'Descriptor' + descriptor.tag;\n    obj[tagName] = descriptor;\n  }\n\n  return obj;\n};\n\nexports.ESDescriptor = {};\n\nexports.ESDescriptor.decode = function (buf, start, end) {\n  var flags = buf.readUInt8(start + 2);\n  var ptr = start + 3;\n\n  if (flags & 0x80) {\n    ptr += 2;\n  }\n\n  if (flags & 0x40) {\n    var len = buf.readUInt8(ptr);\n    ptr += len + 1;\n  }\n\n  if (flags & 0x20) {\n    ptr += 2;\n  }\n\n  return exports.DescriptorArray.decode(buf, ptr, end);\n};\n\nexports.DecoderConfigDescriptor = {};\n\nexports.DecoderConfigDescriptor.decode = function (buf, start, end) {\n  var oti = buf.readUInt8(start);\n  var obj = exports.DescriptorArray.decode(buf, start + 13, end);\n  obj.oti = oti;\n  return obj;\n};","var Decoder = require('./decode');\n\nvar Encoder = require('./encode');\n\nexports.decode = function (opts) {\n  return new Decoder(opts);\n};\n\nexports.encode = function (opts) {\n  return new Encoder(opts);\n};","var MediaElementWrapper = require('mediasource');\n\nvar pump = require('pump');\n\nvar MP4Remuxer = require('./mp4-remuxer');\n\nfunction VideoStream(file, mediaElem) {\n  var _this = this;\n\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!(this instanceof VideoStream)) {\n    console.warn(\"don't invoked VideoStream without 'new'\");\n    return new VideoStream(file, mediaElem, opts);\n  }\n\n  this.detailedError = null;\n  this._elem = mediaElem;\n  this._elemWrapper = new MediaElementWrapper(mediaElem);\n  this._waitingFired = false;\n  this._trackMeta = null;\n  this._file = file;\n  this._tracks = null;\n\n  if (this._elem.preload !== 'none') {\n    this._createMuxer();\n  }\n\n  this._onError = function () {\n    _this.detailedError = _this._elemWrapper.detailedError;\n\n    _this.destroy(); // don't pass err though so the user doesn't need to listen for errors\n\n  };\n\n  this._onWaiting = function () {\n    _this._waitingFired = true;\n\n    if (!_this._muxer) {\n      _this._createMuxer();\n    } else if (_this._tracks) {\n      _this._pump();\n    }\n  };\n\n  if (mediaElem.autoplay) {\n    mediaElem.preload = 'auto';\n  }\n\n  mediaElem.addEventListener('waiting', this._onWaiting);\n  mediaElem.addEventListener('error', this._onError);\n}\n\nVideoStream.prototype = {\n  _createMuxer: function _createMuxer() {\n    var _this2 = this;\n\n    this._muxer = new MP4Remuxer(this._file);\n\n    this._muxer.on('ready', function (data) {\n      _this2._tracks = data.map(function (trackData) {\n        var mediaSource = _this2._elemWrapper.createWriteStream(trackData.mime);\n\n        mediaSource.on('error', function (err) {\n          _this2._elemWrapper.error(err);\n        });\n        var track = {\n          muxed: null,\n          mediaSource: mediaSource,\n          initFlushed: false,\n          onInitFlushed: null\n        };\n        mediaSource.write(trackData.init, function (err) {\n          track.initFlushed = true;\n\n          if (track.onInitFlushed) {\n            track.onInitFlushed(err);\n          }\n        });\n        return track;\n      });\n\n      if (_this2._waitingFired || _this2._elem.preload === 'auto') {\n        _this2._pump();\n      }\n    });\n\n    this._muxer.on('error', function (err) {\n      _this2._elemWrapper.error(err);\n    });\n  },\n  _pump: function _pump() {\n    var _this3 = this;\n\n    var muxed = this._muxer.seek(this._elem.currentTime, !this._tracks);\n\n    this._tracks.forEach(function (track, i) {\n      var pumpTrack = function pumpTrack() {\n        if (track.muxed) {\n          track.muxed.destroy();\n          track.mediaSource = _this3._elemWrapper.createWriteStream(track.mediaSource);\n          track.mediaSource.on('error', function (err) {\n            _this3._elemWrapper.error(err);\n          });\n        }\n\n        track.muxed = muxed[i];\n        pump(track.muxed, track.mediaSource);\n      };\n\n      if (!track.initFlushed) {\n        track.onInitFlushed = function (err) {\n          if (err) {\n            _this3._elemWrapper.error(err);\n\n            return;\n          }\n\n          pumpTrack();\n        };\n      } else {\n        pumpTrack();\n      }\n    });\n  },\n  destroy: function destroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n\n    this._elem.removeEventListener('waiting', this._onWaiting);\n\n    this._elem.removeEventListener('error', this._onError);\n\n    if (this._tracks) {\n      this._tracks.forEach(function (track) {\n        if (track.muxed) {\n          track.muxed.destroy();\n        }\n      });\n    }\n\n    this._elem.src = '';\n  }\n};\nmodule.exports = VideoStream;","// var assert = require('assert')\nvar uint64be = require('uint64be');\n\nvar boxes = require('./boxes');\n\nvar UINT32_MAX = 4294967295;\nvar Box = exports;\n/*\n * Lists the proper order for boxes inside containers.\n * Five-character names ending in 's' indicate arrays instead of single elements.\n */\n\nvar containers = exports.containers = {\n  'moov': ['mvhd', 'meta', 'traks', 'mvex'],\n  'trak': ['tkhd', 'tref', 'trgr', 'edts', 'meta', 'mdia', 'udta'],\n  'edts': ['elst'],\n  'mdia': ['mdhd', 'hdlr', 'elng', 'minf'],\n  'minf': ['vmhd', 'smhd', 'hmhd', 'sthd', 'nmhd', 'dinf', 'stbl'],\n  'dinf': ['dref'],\n  'stbl': ['stsd', 'stts', 'ctts', 'cslg', 'stsc', 'stsz', 'stz2', 'stco', 'co64', 'stss', 'stsh', 'padb', 'stdp', 'sdtp', 'sbgps', 'sgpds', 'subss', 'saizs', 'saios'],\n  'mvex': ['mehd', 'trexs', 'leva'],\n  'moof': ['mfhd', 'meta', 'trafs'],\n  'traf': ['tfhd', 'tfdt', 'trun', 'sbgps', 'sgpds', 'subss', 'saizs', 'saios', 'meta']\n};\n\nBox.encode = function (obj, buffer, offset) {\n  Box.encodingLength(obj); // sets every level appropriately\n\n  offset = offset || 0;\n  buffer = buffer || Buffer.alloc(obj.length);\n  return Box._encode(obj, buffer, offset);\n};\n\nBox._encode = function (obj, buffer, offset) {\n  var type = obj.type;\n  var len = obj.length;\n\n  if (len > UINT32_MAX) {\n    len = 1;\n  }\n\n  buffer.writeUInt32BE(len, offset);\n  buffer.write(obj.type, offset + 4, 4, 'ascii');\n  var ptr = offset + 8;\n\n  if (len === 1) {\n    uint64be.encode(obj.length, buffer, ptr);\n    ptr += 8;\n  }\n\n  if (boxes.fullBoxes[type]) {\n    buffer.writeUInt32BE(obj.flags || 0, ptr);\n    buffer.writeUInt8(obj.version || 0, ptr);\n    ptr += 4;\n  }\n\n  if (containers[type]) {\n    var contents = containers[type];\n    contents.forEach(function (childType) {\n      if (childType.length === 5) {\n        var entry = obj[childType] || [];\n        childType = childType.substr(0, 4);\n        entry.forEach(function (child) {\n          Box._encode(child, buffer, ptr);\n\n          ptr += Box.encode.bytes;\n        });\n      } else if (obj[childType]) {\n        Box._encode(obj[childType], buffer, ptr);\n\n        ptr += Box.encode.bytes;\n      }\n    });\n\n    if (obj.otherBoxes) {\n      obj.otherBoxes.forEach(function (child) {\n        Box._encode(child, buffer, ptr);\n\n        ptr += Box.encode.bytes;\n      });\n    }\n  } else if (boxes[type]) {\n    var encode = boxes[type].encode;\n    encode(obj, buffer, ptr);\n    ptr += encode.bytes;\n  } else if (obj.buffer) {\n    var buf = obj.buffer;\n    buf.copy(buffer, ptr);\n    ptr += obj.buffer.length;\n  } else {\n    throw new Error('Either `type` must be set to a known type (not\\'' + type + '\\') or `buffer` must be set');\n  }\n\n  Box.encode.bytes = ptr - offset; // assert.equal(ptr - offset, obj.length, 'Error encoding \\'' + type + '\\': wrote ' + ptr - offset + ' bytes, expecting ' + obj.length)\n\n  return buffer;\n};\n/*\n * Returns an object with `type` and `size` fields,\n * or if there isn't enough data, returns the total\n * number of bytes needed to read the headers\n */\n\n\nBox.readHeaders = function (buffer, start, end) {\n  start = start || 0;\n  end = end || buffer.length;\n\n  if (end - start < 8) {\n    return 8;\n  }\n\n  var len = buffer.readUInt32BE(start);\n  var type = buffer.toString('ascii', start + 4, start + 8);\n  var ptr = start + 8;\n\n  if (len === 1) {\n    if (end - start < 16) {\n      return 16;\n    }\n\n    len = uint64be.decode(buffer, ptr);\n    ptr += 8;\n  }\n\n  var version;\n  var flags;\n\n  if (boxes.fullBoxes[type]) {\n    version = buffer.readUInt8(ptr);\n    flags = buffer.readUInt32BE(ptr) & 0xffffff;\n    ptr += 4;\n  }\n\n  return {\n    length: len,\n    headersLen: ptr - start,\n    contentLen: len - (ptr - start),\n    type: type,\n    version: version,\n    flags: flags\n  };\n};\n\nBox.decode = function (buffer, start, end) {\n  start = start || 0;\n  end = end || buffer.length;\n  var headers = Box.readHeaders(buffer, start, end);\n\n  if (!headers || headers.length > end - start) {\n    throw new Error('Data too short');\n  }\n\n  return Box.decodeWithoutHeaders(headers, buffer, start + headers.headersLen, start + headers.length);\n};\n\nBox.decodeWithoutHeaders = function (headers, buffer, start, end) {\n  start = start || 0;\n  end = end || buffer.length;\n  var type = headers.type;\n  var obj = {};\n\n  if (containers[type]) {\n    obj.otherBoxes = [];\n    var contents = containers[type];\n    var ptr = start;\n\n    while (end - ptr >= 8) {\n      var child = Box.decode(buffer, ptr, end);\n      ptr += child.length;\n\n      if (contents.indexOf(child.type) >= 0) {\n        obj[child.type] = child;\n      } else if (contents.indexOf(child.type + 's') >= 0) {\n        var childType = child.type + 's';\n        var entry = obj[childType] = obj[childType] || [];\n        entry.push(child);\n      } else {\n        obj.otherBoxes.push(child);\n      }\n    }\n  } else if (boxes[type]) {\n    var decode = boxes[type].decode;\n    obj = decode(buffer, start, end);\n  } else {\n    obj.buffer = Buffer.from(buffer.slice(start, end));\n  }\n\n  obj.length = headers.length;\n  obj.contentLen = headers.contentLen;\n  obj.type = headers.type;\n  obj.version = headers.version;\n  obj.flags = headers.flags;\n  return obj;\n};\n\nBox.encodingLength = function (obj) {\n  var type = obj.type;\n  var len = 8;\n\n  if (boxes.fullBoxes[type]) {\n    len += 4;\n  }\n\n  if (containers[type]) {\n    var contents = containers[type];\n    contents.forEach(function (childType) {\n      if (childType.length === 5) {\n        var entry = obj[childType] || [];\n        childType = childType.substr(0, 4);\n        entry.forEach(function (child) {\n          child.type = childType;\n          len += Box.encodingLength(child);\n        });\n      } else if (obj[childType]) {\n        var child = obj[childType];\n        child.type = childType;\n        len += Box.encodingLength(child);\n      }\n    });\n\n    if (obj.otherBoxes) {\n      obj.otherBoxes.forEach(function (child) {\n        len += Box.encodingLength(child);\n      });\n    }\n  } else if (boxes[type]) {\n    len += boxes[type].encodingLength(obj);\n  } else if (obj.buffer) {\n    len += obj.buffer.length;\n  } else {\n    throw new Error('Either `type` must be set to a known type (not\\'' + type + '\\') or `buffer` must be set');\n  }\n\n  if (len > UINT32_MAX) {\n    len += 8;\n  }\n\n  obj.length = len;\n  return len;\n};","module.exports = nextEvent;\n\nfunction nextEvent(emitter, name) {\n  var next = null;\n  emitter.on(name, function (data) {\n    if (!next) return;\n    var fn = next;\n    next = null;\n    fn(data);\n  });\n  return function (once) {\n    next = once;\n  };\n}","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","module.exports = function (haystack, needle, comparator, low, high) {\n  var mid, cmp;\n  if (low === undefined) low = 0;else {\n    low = low | 0;\n    if (low < 0 || low >= haystack.length) throw new RangeError(\"invalid lower bound\");\n  }\n  if (high === undefined) high = haystack.length - 1;else {\n    high = high | 0;\n    if (high < low || high >= haystack.length) throw new RangeError(\"invalid upper bound\");\n  }\n\n  while (low <= high) {\n    // The naive `low + high >>> 1` could fail for array lengths > 2**31\n    // because `>>>` converts its operands to int32. `low + (high - low >>> 1)`\n    // works for array lengths <= 2**32-1 which is also Javascript's max array\n    // length.\n    mid = low + (high - low >>> 1);\n    cmp = +comparator(haystack[mid], needle, mid, haystack); // Too low.\n\n    if (cmp < 0.0) low = mid + 1; // Too high.\n    else if (cmp > 0.0) high = mid - 1; // Key found.\n      else return mid;\n  } // Key not found.\n\n\n  return ~low;\n};","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n\n      var TempCtor = function TempCtor() {};\n\n      TempCtor.prototype = superCtor.prototype;\n      ctor.prototype = new TempCtor();\n      ctor.prototype.constructor = ctor;\n    }\n  };\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.once = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    ;\n    var errorListener; // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar stream = require('readable-stream');\n\nvar nextEvent = require('next-event');\n\nvar Box = require('mp4-box-encoding');\n\nvar EMPTY = Buffer.alloc(0);\n\nvar Decoder = /*#__PURE__*/function (_stream$Writable) {\n  \"use strict\";\n\n  _inherits(Decoder, _stream$Writable);\n\n  var _super = _createSuper(Decoder);\n\n  function Decoder(opts) {\n    var _this;\n\n    _classCallCheck(this, Decoder);\n\n    _this = _super.call(this, opts);\n    _this.destroyed = false;\n    _this._pending = 0;\n    _this._missing = 0;\n    _this._ignoreEmpty = false;\n    _this._buf = null;\n    _this._str = null;\n    _this._cb = null;\n    _this._ondrain = null;\n    _this._writeBuffer = null;\n    _this._writeCb = null;\n    _this._ondrain = null;\n\n    _this._kick();\n\n    return _this;\n  }\n\n  _createClass(Decoder, [{\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }, {\n    key: \"_write\",\n    value: function _write(data, enc, next) {\n      if (this.destroyed) return;\n      var drained = !this._str || !this._str._writableState.needDrain;\n\n      while (data.length && !this.destroyed) {\n        if (!this._missing && !this._ignoreEmpty) {\n          this._writeBuffer = data;\n          this._writeCb = next;\n          return;\n        }\n\n        var consumed = data.length < this._missing ? data.length : this._missing;\n        if (this._buf) data.copy(this._buf, this._buf.length - this._missing);else if (this._str) drained = this._str.write(consumed === data.length ? data : data.slice(0, consumed));\n        this._missing -= consumed;\n\n        if (!this._missing) {\n          var buf = this._buf;\n          var cb = this._cb;\n          var stream = this._str;\n          this._buf = this._cb = this._str = this._ondrain = null;\n          drained = true;\n          this._ignoreEmpty = false;\n          if (stream) stream.end();\n          if (cb) cb(buf);\n        }\n\n        data = consumed === data.length ? EMPTY : data.slice(consumed);\n      }\n\n      if (this._pending && !this._missing) {\n        this._writeBuffer = data;\n        this._writeCb = next;\n        return;\n      }\n\n      if (drained) next();else this._ondrain(next);\n    }\n  }, {\n    key: \"_buffer\",\n    value: function _buffer(size, cb) {\n      this._missing = size;\n      this._buf = Buffer.alloc(size);\n      this._cb = cb;\n    }\n  }, {\n    key: \"_stream\",\n    value: function _stream(size, cb) {\n      var _this2 = this;\n\n      this._missing = size;\n      this._str = new MediaData(this);\n      this._ondrain = nextEvent(this._str, 'drain');\n      this._pending++;\n\n      this._str.on('end', function () {\n        _this2._pending--;\n\n        _this2._kick();\n      });\n\n      this._cb = cb;\n      return this._str;\n    }\n  }, {\n    key: \"_readBox\",\n    value: function _readBox() {\n      var _this3 = this;\n\n      var bufferHeaders = function bufferHeaders(len, buf) {\n        _this3._buffer(len, function (additionalBuf) {\n          if (buf) {\n            buf = Buffer.concat([buf, additionalBuf]);\n          } else {\n            buf = additionalBuf;\n          }\n\n          var headers = Box.readHeaders(buf);\n\n          if (typeof headers === 'number') {\n            bufferHeaders(headers - buf.length, buf);\n          } else {\n            _this3._pending++;\n            _this3._headers = headers;\n\n            _this3.emit('box', headers);\n          }\n        });\n      };\n\n      bufferHeaders(8);\n    }\n  }, {\n    key: \"stream\",\n    value: function stream() {\n      if (!this._headers) throw new Error('this function can only be called once after \\'box\\' is emitted');\n      var headers = this._headers;\n      this._headers = null;\n      return this._stream(headers.contentLen, null);\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(cb) {\n      var _this4 = this;\n\n      if (!this._headers) throw new Error('this function can only be called once after \\'box\\' is emitted');\n      var headers = this._headers;\n      this._headers = null;\n\n      this._buffer(headers.contentLen, function (buf) {\n        var box = Box.decodeWithoutHeaders(headers, buf);\n        cb(box);\n        _this4._pending--;\n\n        _this4._kick();\n      });\n    }\n  }, {\n    key: \"ignore\",\n    value: function ignore() {\n      var _this5 = this;\n\n      if (!this._headers) throw new Error('this function can only be called once after \\'box\\' is emitted');\n      var headers = this._headers;\n      this._headers = null;\n      this._missing = headers.contentLen;\n\n      if (this._missing === 0) {\n        this._ignoreEmpty = true;\n      }\n\n      this._cb = function () {\n        _this5._pending--;\n\n        _this5._kick();\n      };\n    }\n  }, {\n    key: \"_kick\",\n    value: function _kick() {\n      if (this._pending) return;\n      if (!this._buf && !this._str) this._readBox();\n\n      if (this._writeBuffer) {\n        var next = this._writeCb;\n        var buffer = this._writeBuffer;\n        this._writeBuffer = null;\n        this._writeCb = null;\n\n        this._write(buffer, null, next);\n      }\n    }\n  }]);\n\n  return Decoder;\n}(stream.Writable);\n\nvar MediaData = /*#__PURE__*/function (_stream$PassThrough) {\n  \"use strict\";\n\n  _inherits(MediaData, _stream$PassThrough);\n\n  var _super2 = _createSuper(MediaData);\n\n  function MediaData(parent) {\n    var _this6;\n\n    _classCallCheck(this, MediaData);\n\n    _this6 = _super2.call(this);\n    _this6._parent = parent;\n    _this6.destroyed = false;\n    return _this6;\n  }\n\n  _createClass(MediaData, [{\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n\n      this._parent.destroy(err);\n\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }]);\n\n  return MediaData;\n}(stream.PassThrough);\n\nmodule.exports = Decoder;","/* Node.js 6.4.0 and up has full support */\nvar hasFullSupport = function () {\n  try {\n    if (!Buffer.isEncoding('latin1')) {\n      return false;\n    }\n\n    var buf = Buffer.alloc ? Buffer.alloc(4) : new Buffer(4);\n    buf.fill('ab', 'ucs2');\n    return buf.toString('hex') === '61006200';\n  } catch (_) {\n    return false;\n  }\n}();\n\nfunction isSingleByte(val) {\n  return val.length === 1 && val.charCodeAt(0) < 256;\n}\n\nfunction fillWithNumber(buffer, val, start, end) {\n  if (start < 0 || end > buffer.length) {\n    throw new RangeError('Out of range index');\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? buffer.length : end >>> 0;\n\n  if (end > start) {\n    buffer.fill(val, start, end);\n  }\n\n  return buffer;\n}\n\nfunction fillWithBuffer(buffer, val, start, end) {\n  if (start < 0 || end > buffer.length) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return buffer;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? buffer.length : end >>> 0;\n  var pos = start;\n  var len = val.length;\n\n  while (pos <= end - len) {\n    val.copy(buffer, pos);\n    pos += len;\n  }\n\n  if (pos !== end) {\n    val.copy(buffer, pos, 0, end - pos);\n  }\n\n  return buffer;\n}\n\nfunction fill(buffer, val, start, end, encoding) {\n  if (hasFullSupport) {\n    return buffer.fill(val, start, end, encoding);\n  }\n\n  if (typeof val === 'number') {\n    return fillWithNumber(buffer, val, start, end);\n  }\n\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = buffer.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = buffer.length;\n    }\n\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string');\n    }\n\n    if (encoding === 'latin1') {\n      encoding = 'binary';\n    }\n\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding);\n    }\n\n    if (val === '') {\n      return fillWithNumber(buffer, 0, start, end);\n    }\n\n    if (isSingleByte(val)) {\n      return fillWithNumber(buffer, val.charCodeAt(0), start, end);\n    }\n\n    val = new Buffer(val, encoding);\n  }\n\n  if (Buffer.isBuffer(val)) {\n    return fillWithBuffer(buffer, val, start, end);\n  } // Other values (e.g. undefined, boolean, object) results in zero-fill\n\n\n  return fillWithNumber(buffer, 0, start, end);\n}\n\nmodule.exports = fill;"],"sourceRoot":""}