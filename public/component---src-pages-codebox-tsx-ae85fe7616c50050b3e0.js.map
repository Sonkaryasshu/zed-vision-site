{"version":3,"sources":["webpack:///./src/components/layout.tsx","webpack:///./src/components/seo.tsx","webpack:///./src/components/utils/babel.ts","webpack:///./src/components/utils/renderer.ts","webpack:///./src/components/utils/renderer/renderer.worker.ts","webpack:///./node_modules/react-cdn-monaco-editor/lib/editor.js","webpack:///./src/components/codeBox/example.ts","webpack:///./src/components/codeBox/styledCodeBoxComps.ts","webpack:///./src/components/codeBox/CodeBox.tsx","webpack:///./src/pages/codebox.tsx"],"names":["StyledContent","styled","main","Layout","children","SEO","description","lang","meta","title","useStaticQuery","site","metaDescription","siteMetadata","name","content","property","social","twitter","concat","cache","worker","window","Worker","URL","createObjectURL","Blob","type","onmessage","postMessage","message","codeHash","data","hash","translatedCode","transformedCodeHash","resolve","transform","unHash","code","returnPromise","Promise","reject","promise","RendererWorker","renderWorker","render","defaultPropsHash","defaultProps","renderedString","renderedStringHash","startState","counter","pastEvents","Array","fill","counterExample","Header","div","Container","CodeContainer","ResultContainer","ResultBox","ResultBoxContainer","HtmlReplayer","htmlArray","onEvent","React","useState","index","setHtml","useEffect","console","log","length","setTimeout","newIndex","e","clickEvent","target","getAttribute","__html","ResultComponent","height","width","x","useMotionValue","background","useTransform","position","padding","get","str","CodeBox","live","toRender","className","isError","transformedCode","mainCode","mainCodeHash","devCodeHash","defaultStateHash","transformedMainCode","transformedHash","transformedMainHash","renderedHash","renderedContent","renderedMainHash","renderedContentMain","renderedComponent","changeWorkerRenderedComponent","changeCode","runner","runnerHash","runnerHash2","isChangeAvailable","Page"],"mappings":"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","file":"component---src-pages-codebox-tsx-ae85fe7616c50050b3e0.js","sourcesContent":["import React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport styled from \"styled-components\";\n\nconst StyledContent = styled.main`\nmax-width: 1140px;\nmargin: auto;\n`;\n\nexport const Layout: React.FC = ({ children }) => {\n  return (\n    <React.Fragment>\n      <Helmet>\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\"\n        />\n      </Helmet>\n      <StyledContent>\n        {children}\n      </StyledContent>\n    </React.Fragment>\n  );\n};\n","import * as React from \"react\";\nimport { graphql, useStaticQuery } from \"gatsby\";\nimport { Helmet } from \"react-helmet\";\n/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\ninterface Props {\n  description?: string;\n  lang?: string;\n  meta?: {\n    name: string;\n    content: string;\n  }[];\n  title: string;\n}\n\nexport const SEO: React.FC<Props> = (\n  { description = \"\", lang = \"en\", meta = [], title },\n) => {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            social {\n              twitter\n            }\n          }\n        }\n      }\n    `,\n  );\n\n  const metaDescription = description || site.siteMetadata.description;\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.social.twitter,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ].concat(meta)}\n    />\n  );\n};\n","import { unHash, hash } from \"./sha\";\n\nconst cache = {};\n\nconst worker = (typeof window !== \"undefined\")\n  ? new Worker(URL.createObjectURL(\n    new window.Blob(\n      [`\nimportScripts('https://unpkg.com/@babel/standalone@7.11.6/babel.min.js');\n\nself.onmessage=(message)=>{\n  const translatedMessage = Babel.transform(message.data.code, {\nplugins: [],\npresets: [\"react\", [\"typescript\", { isTSX: true, allExtensions: true }]],\n}).code.replace(\"export const\", \"const\").replace(\"import \", \"//import\");\n    postMessage({hash: message.data.hash, translatedCode: translatedMessage})\n}\n`],\n      { type: \"application/javascript\" },\n    ),\n  ))\n  : { onmessage: () => {}, postMessage: () => {} };\n\nworker.onmessage = async (message: any) => {\n  const codeHash = message.data.hash;\n  if (typeof cache[codeHash] === \"string\") return;\n  if (typeof cache[codeHash] === \"object\") {\n    const transformedCodeHash = await hash(message.data.translatedCode);\n    cache[codeHash].resolve(transformedCodeHash);\n    cache[codeHash] = transformedCodeHash;\n  }\n};\n\nexport const transform = async (codeHash: string) => {\n  const code = await unHash(codeHash);\n\n  if (typeof cache[codeHash] === \"string\") return cache[codeHash] as string;\n  if (typeof cache[codeHash] === \"undefined\") {\n    worker.postMessage({ hash: codeHash, code });\n    const returnPromise = new Promise<string>((resolve, reject) => {\n      cache[codeHash] = { resolve, reject, promise: returnPromise };\n    });\n    return returnPromise;\n  }\n  return cache[codeHash].promise as Promise<string>;\n};\n","import * as RendererWorker from \"./renderer/renderer.worker\";\n\nimport { hash, unHash } from \"./sha\";\n\nconst { renderWorker } = ((typeof window !== \"undefined\") &&\n  (RendererWorker as any)()) as typeof RendererWorker;\n\nexport const render = async (\n  transformedCodeHash: string,\n  defaultPropsHash: string,\n) => {\n  try {\n    const code = await unHash(transformedCodeHash);\n    const defaultProps = await unHash(defaultPropsHash);\n    const renderedString = await renderWorker(code, defaultProps);\n    const renderedStringHash = await hash(renderedString);\n\n    return renderedStringHash;\n  } catch (e) {\n    return \"error in rendering\";\n  }\n};\n","\n\t\t\t\tvar addMethods = require(\"../../../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"renderWorker\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"built-renderer.83dfe0.worker.js\", { name: \"built-renderer.[hash:6].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","import React from \"react\";\nexport var MonacoEditor = function MonacoEditor(_ref) {\n  var _ref$width = _ref.width,\n      width = _ref$width === void 0 ? \"600px\" : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? \"400px\" : _ref$height,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? \"\" : _ref$value,\n      _ref$language = _ref.language,\n      language = _ref$language === void 0 ? \"typescript\" : _ref$language,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function (_code) {} : _ref$onChange;\n  React.useEffect(function () {\n    if (typeof window === \"undefined\") return;\n    console.log(\"START MONACOOOO\");\n    startMonaco({\n      element: \"container\",\n      value: value,\n      language: language,\n      onChange: onChange\n    });\n  }, [value, language]);\n  return React.createElement(\"div\", {\n    id: \"container\",\n    style: {\n      width: width,\n      height: height\n    }\n  });\n};\n\nvar startMonaco = function startMonaco(_ref2) {\n  var _ref2$version = _ref2.version,\n      version = _ref2$version === void 0 ? \"0.21.2\" : _ref2$version,\n      _ref2$element = _ref2.element,\n      element = _ref2$element === void 0 ? \"container\" : _ref2$element,\n      _ref2$value = _ref2.value,\n      value = _ref2$value === void 0 ? \"\" : _ref2$value,\n      _ref2$language = _ref2.language,\n      language = _ref2$language === void 0 ? \"typescript\" : _ref2$language,\n      _ref2$onChange = _ref2.onChange,\n      onChange = _ref2$onChange === void 0 ? function (_code) {} : _ref2$onChange;\n  return new Function(\"version\", \"element\", \"value\", \"language\", \"onChange\", \"\\nconst startMonaco = async ({version, element, value, language}) => {\\n  const vsPath = 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/\".concat(version, \"/min/vs';\\n  await loadScript('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/\").concat(version, \"/min/vs/loader.min.js');\\n\\n  require.config({ paths: { 'vs': vsPath } });\\n  \\n  require([\\\"vs/editor/editor.main\\\"], function () {\\n    const editor = monaco.editor.create(document.getElementById(\\\"container\\\"), {\\n      value: `\").concat(value, \"`,\\n      language: `\").concat(language, \"`,\\n      theme: 'vs-dark'\\n    });\\n\\n    editor.onDidChangeModelContent((event)=>onChange(editor.getValue()))\\n  });\\n}\\n\\nreturn startMonaco({version, element, value, language})\\nfunction loadScript(src) {\\n  return new Promise(function (resolve, reject) {\\n    var s;\\n    s = document.createElement('script');\\n    s.src = src;\\n    s.onload = resolve;\\n    s.onerror = reject;\\n    document.head.appendChild(s);\\n  });\\n}\\n\"))(version, element, value, language, onChange);\n};","export const defaultProps = {\n  startState: { counter: 0 },\n  pastEvents: new Array(8).fill(\"+1\"),\n};\n\nexport const counterExample = `import * as React from \"react\";\n\ntype DState = { counter: number };\n\nconst actions = {\n  \"+1\": (s: DState) => ({ ...s, counter: s.counter + 1 }),\n  \"-1\": (s: DState) => ({ ...s, counter: s.counter - 1 }),\n};\n\ntype ActionType = keyof typeof actions;\n\ninterface Props {\n  startState: DState;\n  pastEvents: string[];\n  onEvent: (action: string) => void;\n}\n\nexport const Counter: React.FC<Props> = (\n  { startState, pastEvents, onEvent },\n) => {\n  const [state, setState] = React.useState({ startState, pastEvents });\n\n  const calculatedState = state.pastEvents.reduce(\n    (prevValue, currentValue) => actions[currentValue](prevValue),\n    startState,\n  );\n\n  return <div>\n    <button {...update(\"-1\")}>-</button>\n    {calculatedState.counter}\n    <button {...update(\"+1\")}>+</button>\n  </div>;\n\n  function update(action: ActionType) {\n    return {\n      \"data-onclick\": String(action),\n      onClick: (e: React.MouseEvent) => {\n        e.stopPropagation();\n        onEvent(action);\n        setState({ ...state, pastEvents: [...state.pastEvents, action] });\n      },\n    };\n  }\n};\n`;\n","import styled from \"styled-components\";\n\nexport const Header = styled.div`\n    background: #3f51b5;\n    font-family: \"Roboto\";\n    width: 100%;\n    margin: 0;\n    padding: 10px 20px 10px;\n    color: white\n`;\n\nexport const Container = styled.div`\n    display: block;\n    width: 100%;\n    height: 60vh;\n`;\n\nexport const CodeContainer = styled.div`\n    display: block;\n    width: 100%;\n    height: 60%;\n`;\n\nexport const ResultContainer = styled.div`\n    display: block;\n    width: 100%;\n    background: grey;\n    height: 220px;\n`;\n\nexport const ResultBox = styled.div`\n  text-align: center;\n  border-radius: 12px;\n  width: 200px;\n  height: 200px;\n  display: flex;\n  place-content: center;\n  place-items: center;\n  margin: 0;\n  padding: 0;\n  background: rgb(255, 255, 255) none repeat scroll 0% 0%;\n  user-select: none;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 3px 0px, rgba(0, 0, 0, 0.06) 0px 10px 15px 0px;\n`;\n\nexport const ResultBoxContainer = styled.div`\ndisplay: block;\nwidth: 150px;\nheight: 150px;\noverflow: hidden;\n`;\n","import { motion, useMotionValue, useTransform } from \"framer-motion\";\nimport React from \"react\";\nimport { MonacoEditor } from \"react-cdn-monaco-editor\";\nimport { transform } from \"../utils/babel\";\nimport { render } from \"../utils/renderer\";\nimport { unHash, hash } from \"../utils/sha\";\nimport { counterExample, defaultProps } from \"./example\";\nimport {\n  Container,\n  ResultContainer,\n  CodeContainer,\n  Header,\n  ResultBox,\n  ResultBoxContainer,\n} from \"./styledCodeBoxComps\";\n\nconst HtmlReplayer: React.FC<\n  { htmlArray: string[]; index: number; onEvent: (str: string) => {} }\n> = (\n  { htmlArray, onEvent = () => {} },\n) => {\n  const [{ index }, setHtml] = React.useState({ index: 0 });\n\n  React.useEffect(() => {\n    console.log(index);\n    if (htmlArray.length === 0) return;\n    //const handler =\n    setTimeout(async () => {\n      const newIndex = (index + 1) % htmlArray.length;\n      setHtml({ index: newIndex });\n    }, 100);\n\n    // return ()=>clearInterval(handler);\n  }, [htmlArray.length, setHtml, index]);\n\n  console.log(\"HTML Array\", htmlArray);\n\n  return <ResultBoxContainer>\n    <div\n      onClick={(e: any) => {\n        const clickEvent = e.target.getAttribute(\"data-onclick\");\n        if (clickEvent) onEvent(clickEvent);\n      }}\n      dangerouslySetInnerHTML={{ __html: htmlArray[index] }}\n    />\n  </ResultBoxContainer>;\n};\n\nconst ResultComponent: React.FC<\n  {\n    htmlArray: string[];\n    height?: number;\n    width?: number;\n  }\n> = ({ height = \"100%\", width = \"100%\", htmlArray }) => {\n  const x = useMotionValue(0);\n\n  const background = useTransform(\n    x,\n    [-100, 0, 100],\n    [\"#ff008c\", \"#7700ff\", \"rgb(230, 255, 0)\"],\n  );\n\n  return (<>\n    <motion.div\n      layout\n      style={{\n        background,\n        position: \"relative\",\n        height,\n        width,\n        padding: \"10px\",\n      }}\n    >\n      <motion.div\n        // layout\n        drag={true}\n        dragElastic={0.1}\n        dragMomentum={false}\n        // dragListener={true}\n        // onDrag={\n        // (event, info) => {if (event.layerX<0) adjust(event.layerX, event.layerY);}\n        // }\n\n        style={{ position: \"absolute\", x }}\n      >\n        <ResultBox>\n          <HtmlReplayer\n            htmlArray={htmlArray}\n            index={x.get()}\n            onEvent={(str) => {\n              console.log(str);\n            }}\n          />\n        </ResultBox>\n      </motion.div>\n    </motion.div>\n  </>);\n};\n\nexport const CodeBox: React.FC<{\n  live?: boolean;\n  toRender?: boolean;\n  className?: string;\n  title?: string;\n}> = ({ live, toRender, className, title }) => {\n  const [renderedComponent, changeWorkerRenderedComponent] = React.useState(\n    {\n      isError: false,\n      code: counterExample,\n      transformedCode: ``,\n      mainCode: counterExample,\n      mainCodeHash: \"\",\n      devCodeHash: \"\",\n      defaultProps,\n      defaultStateHash: ``,\n      codeHash: ``,\n      transformedMainCode: ``,\n      transformedHash: ``,\n      transformedMainHash: ``,\n      renderedHash: ``,\n      renderedContent: ``,\n      renderedMainHash: ``,\n      renderedContentMain: ``,\n    },\n  );\n  const [code, changeCode] = React.useState(counterExample);\n\n  React.useEffect(() => {\n    const runner = async () => {\n      const runnerHash = await hash(renderedComponent);\n      const devCodeHash = await hash(code);\n      const codeHash = devCodeHash;\n      const mainCode = renderedComponent.mainCode\n        ? renderedComponent.mainCode\n        : code;\n      const mainCodeHash = renderedComponent.mainCodeHash\n        ? renderedComponent.mainCodeHash\n        : devCodeHash;\n\n      const transformedHash = await transform(codeHash);\n      const transformedMainHash = await transform(mainCodeHash);\n      const defaultStateHash = await hash(renderedComponent.defaultProps);\n      if (!transformedHash) {\n        changeWorkerRenderedComponent({ ...renderedComponent, isError: true });\n        return;\n      }\n      const transformedCode = await unHash(transformedHash);\n\n      const transformedMainCode = await unHash(transformedMainHash);\n\n      const renderedHash = await render(transformedHash, defaultStateHash);\n      const renderedMainHash = await render(\n        transformedMainHash,\n        defaultStateHash,\n      );\n      const renderedContent = await unHash(renderedHash);\n      const renderedContentMain = await unHash(renderedMainHash);\n\n      const runnerHash2 = await hash(renderedComponent);\n\n      if (runnerHash === runnerHash2) {\n        changeWorkerRenderedComponent(\n          {\n            ...renderedComponent,\n            code,\n            devCodeHash,\n            mainCode,\n            mainCodeHash,\n            codeHash,\n            transformedHash,\n            transformedMainCode,\n            transformedMainHash,\n            transformedCode,\n            defaultStateHash,\n            renderedHash,\n            renderedContent,\n            renderedMainHash,\n            renderedContentMain,\n          },\n        );\n      }\n    };\n    runner();\n  }, [code, renderedComponent.defaultProps]);\n\n  const isChangeAvailable = renderedComponent.renderedContent &&\n    renderedComponent.renderedMainHash !== renderedComponent.renderedHash;\n\n  const isError = !renderedComponent.renderedContent;\n\n  console.log(renderedComponent.renderedContent);\n\n  return <Container>\n    {!!title && <Header>{title}</Header>}\n    <CodeContainer>\n      <MonacoEditor\n        width=\"100%\"\n        height=\"100%\"\n        value={counterExample}\n        onChange={changeCode}\n      />\n    </CodeContainer>\n\n    <ResultContainer>\n      <ResultComponent htmlArray={[renderedComponent.renderedContent]} />\n    </ResultContainer>\n  </Container>;\n};\n","import * as React from \"react\";\n\nimport { CodeBox } from \"../components/codeBox/CodeBox\";\nimport { Layout } from \"../components/layout\";\nimport { SEO } from \"../components/seo\";\n\nexport default function Page() {\n  return <Layout>\n    <SEO title=\"Code Box\" />\n    <h1>Code box</h1>\n    <p>Lets see!</p>\n    <CodeBox title=\"Example1 :)\" />\n  </Layout>;\n}\n"],"sourceRoot":""}