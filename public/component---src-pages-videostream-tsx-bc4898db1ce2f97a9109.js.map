{"version":3,"sources":["webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@devcontainer/webtorrent/webtorrent.min.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-stream/encode.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/buffer-alloc-unsafe/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/errors-browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/regenerator-runtime/runtime.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/string_decoder/lib/string_decoder.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_transform.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-box-encoding/boxes.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mediasource/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/readable-browser.js","webpack:///./src/components/seo.tsx","webpack:////home/zed/Developer/zed-vision-site/node_modules/pump/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/safe-buffer/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/wrappy/wrappy.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/once/once.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/util-deprecate/browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/buffer-alloc/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/regenerator/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/uint64be/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/range-slice-stream/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/end-of-stream/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/videostream/mp4-remuxer.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///../video-stramer/VideoStreamer.tsx","webpack:///./src/pages/videostream.tsx","webpack:////home/zed/Developer/zed-vision-site/node_modules/to-arraybuffer/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-box-encoding/descriptor.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-stream/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/videostream/videostream.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-box-encoding/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/next-event/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/state.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/binary-search/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/inherits/inherits_browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_readable.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/events/events.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_passthrough.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_writable.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_duplex.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-stream/decode.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/buffer-fill/index.js"],"names":["module","exports","EventEmitter","r","e","n","t","o","i","f","u","a","Error","code","p","call","length","1","_createClass","_inherits","_possibleConstructorReturn","_getPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","stream","Box","noop","Encoder","_stream$Readable","_super","opts","_this","_classCallCheck","destroyed","_finalized","_reading","_stream","_drain","_want","_onreadable","_read","_onend","key","value","size","cb","mediaData","MediaData","box","type","contentLength","encodeBufferLen","_box","buf","Buffer","alloc","buffer","encode","push","on","_forward","process","nextTick","err","destroy","emit","read","drain","Readable","_stream$PassThrough","_super2","parent","_this2","_parent","PassThrough","TypeError","RangeError","allocUnsafe","codes","createErrorType","message","Base","NodeError","_Base","subClass","superClass","arg1","arg2","arg3","getMessage","Object","create","__proto__","name","oneOf","expected","thing","Array","isArray","len","map","String","concat","slice","join","actual","determiner","search","pos","msg","substr","replace","str","this_len","undefined","substring","endsWith","start","indexOf","includes","arg","runtime","Op","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","defineProperty","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","__await","then","unwrapped","error","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","isEncoding","encoding","toLowerCase","StringDecoder","nb","enc","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","end","utf16End","fillLast","utf8FillLast","base64Text","base64End","write","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","copy","c","charCodeAt","total","j","utf8CheckIncomplete","_setPrototypeOf","eos","_require$codes","ERR_MISSING_ARGS","ERR_STREAM_DESTROYED","destroyer","reading","writing","callback","called","once","closed","readable","setHeader","abort","isRequest","pipe","from","to","popCallback","streams","_len","_key","destroys","reduce","Transform","ERR_METHOD_NOT_IMPLEMENTED","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","Duplex","afterTransform","er","data","ts","_transformState","transforming","writecb","writechunk","rs","_readableState","needReadable","highWaterMark","options","bind","needTransform","writeencoding","sync","transform","_transform","flush","_flush","prefinish","_writableState","chunk","_write","_destroy","err2","Descriptor","uint64be","fullBoxes","writeReserved","offset","writeDate","date","writeUInt32BE","Math","floor","getTime","writeDate64","writeUIntBE","writeFixed32","num","writeUInt16BE","writeMatrix","list","readMatrix","readFixed32","readDate64","readUIntBE","readDate","readUInt32BE","readUInt16BE","readFixed16","readString","ftyp","encodingLength","brands","compatibleBrands","brand","brandVersion","bytes","decode","version","mvhd","ctime","mtime","timeScale","duration","preferredRate","writeFixed16","preferredVolume","matrix","previewTime","previewDuration","posterTime","selectionTime","selectionDuration","currentTime","nextTrackId","tkhd","trackId","layer","alternateGroup","volume","trackWidth","trackHeight","mdhd","language","quality","vmhd","graphicsMode","opcolor","smhd","balance","stsd","entries","ptr","totalSize","avc1","VisualSampleEntry","dataReferenceIndex","width","height","hResolution","vResolution","frameCount","compressorName","nameLen","min","writeUInt8","depth","writeInt16BE","children","child","readUInt8","avcC","mimeCodec","mp4a","AudioSampleEntry","channelCount","sampleSize","sampleRate","esds","desc","dcd","tagName","DecoderConfigDescriptor","oti","dsi","DecoderSpecificInfo","audioConfig","stsz","stss","stco","co64","stts","count","ctts","compositionOffset","readInt32BE","stsc","firstChunk","samplesPerChunk","sampleDescriptionId","dref","tmp","elst","trackDuration","mediaTime","mediaRate","hdlr","fill","handlerType","strBuffer","writeString","mehd","fragmentDuration","trex","defaultSampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","mfhd","sequenceNumber","tfhd","tfdt","baseMediaDecodeTime","trun","writeInt32BE","dataOffset","sampleDuration","sampleFlags","sampleCompositionTimeOffset","mdat","MediaElementWrapper","inherits","toArrayBuffer","MediaSource","window","elem","_debug","debug","_bufferDuration","bufferDuration","_elem","_mediaSource","_streams","detailedError","_errorHandler","removeEventListener","addEventListener","src","URL","createObjectURL","MediaSourceStream","wrapper","Writable","_wrapper","_allStreams","_sourceBuffer","_debugBuffers","_openHandler","_onSourceOpen","_flowHandler","_flow","_type","readyState","_createSourceBuffer","_finished","every","other","_dumpDebugData","endOfStream","createWriteStream","revokeObjectURL","bufs","document","createElement","href","Blob","download","click","splice","isTypeSupported","addSourceBuffer","_cb","updating","arr","appendBuffer","_getBufferDuration","buffered","bufferEnd","bufferedTime","Stream","finished","pipeline","SEO","description","lang","meta","title","site","useStaticQuery","metaDescription","siteMetadata","htmlAttributes","titleTemplate","content","property","social","twitter","defaultProps","fs","ancient","test","isFn","ReadStream","WriteStream","close","isFS","copyProps","dst","SafeBuffer","encodingOrOffset","allocUnsafeSlow","SlowBuffer","wrappy","k","args","ret","onceStrict","onceError","strict","proto","_typeof","assertThisInitialized","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","emitClose","readableDestroyed","writableDestroyed","errorEmitted","undestroy","ended","endEmitted","ending","finalCalled","prefinished","errorOrDestroy","rState","wState","autoDestroy","config","global","localStorage","_","val","warned","console","trace","warn","ERR_STREAM_PREMATURE_CLOSE","onlegacyfinish","onfinish","writableEnded","readableEnded","onend","onerror","onclose","onrequest","req","removeListener","bufferFill","instance","Constructor","bufferAlloc","UINT_32_MAX","pow","top","rem","_Object$setPrototypeO","_defineProperty","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","promise","lastPromise","wrapForNext","_Object$create","_defineProperties","target","props","descriptor","protoProps","staticProps","_require","RangeSliceStream","_Writable","_queue","_position","_buffer","_out","drained","currRange","writeStart","max","writeEnd","toWrite","last","shift","ranges","range","ws","cancelled","onexit","exitCode","onclosenexttick","stdio","isChildProcess","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","inspect","custom","BufferList","head","tail","v","s","hasStrings","_getString","_getBuffer","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","customInspect","bs","mp4","MP4Remuxer","_EventEmitter","file","_tracks","_file","_decoder","_findMoov","toSkip","fileStream","createReadStream","boxHandler","headers","moov","_processMoov","ignore","traks","_hasVideo","_hasAudio","trak","stbl","mdia","minf","stsdEntry","codec","mime","samples","sample","sampleInChunk","offsetInChunk","sampleToChunkIndex","dts","decodingTimeEntry","RunLengthIndex","presentationOffsetEntry","syncSampleIndex","currChunkEntry","presentationOffset","chunkOffsetTable","nextChunkEntry","inc","trackMoov","elng","dinf","flags","mvex","trexs","fragmentSequence","currSample","currTime","_ftyp","ftypBuf","track","moovBuf","init","time","_this3","_fileStream","startOffset","outStream","inStream","fragment","_generateFragment","finalize","writeFragment","frag","moof","nextFrag","trackInd","scaledTime","firstSample","currTrack","_findSampleBefore","startDts","totalLen","MIN_FRAGMENT_DURATION","_generateMoof","lastSample","trunVersion","trafs","countName","_entries","_countName","_index","_offset","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","connect","magnetURL","videoRef","WebTorrent","add","torrent","log","files","find","video","current","videostream","VideoStream","errorCode","appendTo","StyledStreamer","styled","React","controls","ref","StyledTextArea","textarea","pageQuery","VideoStreamingPage","location","siteTitle","useState","changeMagnet","onChange","Uint8Array","byteOffset","byteLength","isBuffer","arrayCopy","lenByte","tag","tagToName","contentsLen","DescriptorArray","ESDescriptor","Decoder","pump","mediaElem","_elemWrapper","_waitingFired","_trackMeta","preload","_createMuxer","_onError","_onWaiting","_muxer","_pump","autoplay","trackData","mediaSource","muxed","initFlushed","onInitFlushed","seek","pumpTrack","boxes","containers","_encode","childType","otherBoxes","readHeaders","headersLen","contentLen","decodeWithoutHeaders","contents","emitter","ERR_INVALID_OPT_VALUE","getHighWaterMark","duplexKey","isDuplex","hwm","highWaterMarkFrom","isFinite","objectMode","haystack","needle","comparator","low","high","mid","cmp","superCtor","super_","TempCtor","ReadableState","EElistenerCount","listeners","OurUint8Array","debugUtil","debuglog","createReadableStreamAsyncIterator","destroyImpl","ERR_INVALID_ARG_TYPE","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kProxyEvents","readableObjectMode","pipes","pipesCount","flowing","emittedReadable","readableListening","resumeScheduled","paused","defaultEncoding","awaitDrain","readingMore","decoder","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","unshift","get","set","_undestroy","isPaused","setEncoding","clear","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","listenerCount","resume","nReadingNextTick","resume_","fromList","first","consume","endReadable","endReadableNT","xs","x","l","parseInt","nOrig","doRead","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","ondrain","ondata","cleanedUp","needDrain","pipeOnDrain","pause","event","prependListener","_events","dests","index","ev","res","addListener","removeAllListeners","_fromList","ReflectOwnKeys","R","ReflectApply","receiver","getOwnPropertyNames","NumberIsNaN","Number","eventListener","errorListener","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","m","events","existing","warning","newListener","w","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","setMaxListeners","getMaxListeners","doError","handler","prependOnceListener","position","originalListener","spliceOne","off","rawListeners","eventNames","CorkedRequest","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","WritableState","internalUtil","deprecate","realHasInstance","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","noDecode","decodeStrings","corked","bufferProcessing","onwrite","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","getBuffer","out","hasInstance","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","objectKeys","allowHalfOpen","onEndNT","nextEvent","EMPTY","_stream$Writable","_pending","_missing","_ignoreEmpty","_buf","_str","_ondrain","_writeBuffer","_writeCb","_kick","consumed","bufferHeaders","additionalBuf","_headers","_this4","_this5","_readBox","_this6","hasFullSupport","fillWithNumber","isSingleByte","fillWithBuffer"],"mappings":"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","file":"component---src-pages-videostream-tsx-bc4898db1ce2f97a9109.js","sourcesContent":["module.exports = require('events').EventEmitter;","(function (f) {\n  if (\"object\" == typeof exports && \"undefined\" != typeof module) module.exports = f();else if (\"function\" == typeof define && define.amd) define([], f);else {\n    var g;\n    g = \"undefined\" == typeof window ? \"undefined\" == typeof global ? \"undefined\" == typeof self ? this : self : global : window, g.WebTorrent = f();\n  }\n})(function () {\n  return function () {\n    function r(e, n, t) {\n      function o(i, f) {\n        if (!n[i]) {\n          if (!e[i]) {\n            var c = \"function\" == typeof require && require;\n            if (!f && c) return c(i, !0);\n            if (u) return u(i, !0);\n            var a = new Error(\"Cannot find module '\" + i + \"'\");\n            throw a.code = \"MODULE_NOT_FOUND\", a;\n          }\n\n          var p = n[i] = {\n            exports: {}\n          };\n          e[i][0].call(p.exports, function (r) {\n            var n = e[i][1][r];\n            return o(n || r);\n          }, p, p.exports, r, e, n, t);\n        }\n\n        return n[i].exports;\n      }\n\n      for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) {\n        o(t[i]);\n      }\n\n      return o;\n    }\n\n    return r;\n  }()({\n    1: [function () {}, {}]\n  }, {}, [1])(1);\n});","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar stream = require('readable-stream');\n\nvar Box = require('mp4-box-encoding');\n\nfunction noop() {}\n\nvar Encoder = /*#__PURE__*/function (_stream$Readable) {\n  \"use strict\";\n\n  _inherits(Encoder, _stream$Readable);\n\n  var _super = _createSuper(Encoder);\n\n  function Encoder(opts) {\n    var _this;\n\n    _classCallCheck(this, Encoder);\n\n    _this = _super.call(this, opts);\n    _this.destroyed = false;\n    _this._finalized = false;\n    _this._reading = false;\n    _this._stream = null;\n    _this._drain = null;\n    _this._want = false;\n\n    _this._onreadable = function () {\n      if (!_this._want) return;\n      _this._want = false;\n\n      _this._read();\n    };\n\n    _this._onend = function () {\n      _this._stream = null;\n    };\n\n    return _this;\n  }\n\n  _createClass(Encoder, [{\n    key: \"mdat\",\n    value: function mdat(size, cb) {\n      this.mediaData(size, cb);\n    }\n  }, {\n    key: \"mediaData\",\n    value: function mediaData(size, cb) {\n      var stream = new MediaData(this);\n      this.box({\n        type: 'mdat',\n        contentLength: size,\n        encodeBufferLen: 8,\n        stream: stream\n      }, cb);\n      return stream;\n    }\n  }, {\n    key: \"box\",\n    value: function box(_box, cb) {\n      if (!cb) cb = noop;\n      if (this.destroyed) return cb(new Error('Encoder is destroyed'));\n      var buf;\n\n      if (_box.encodeBufferLen) {\n        buf = Buffer.alloc(_box.encodeBufferLen);\n      }\n\n      if (_box.stream) {\n        _box.buffer = null;\n        buf = Box.encode(_box, buf);\n        this.push(buf);\n        this._stream = _box.stream;\n\n        this._stream.on('readable', this._onreadable);\n\n        this._stream.on('end', this._onend);\n\n        this._stream.on('end', cb);\n\n        this._forward();\n      } else {\n        buf = Box.encode(_box, buf);\n        var drained = this.push(buf);\n        if (drained) return process.nextTick(cb);\n        this._drain = cb;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n      if (this._stream && this._stream.destroy) this._stream.destroy();\n      this._stream = null;\n\n      if (this._drain) {\n        var cb = this._drain;\n        this._drain = null;\n        cb(err);\n      }\n\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this._finalized = true;\n\n      if (!this._stream && !this._drain) {\n        this.push(null);\n      }\n    }\n  }, {\n    key: \"_forward\",\n    value: function _forward() {\n      if (!this._stream) return;\n\n      while (!this.destroyed) {\n        var buf = this._stream.read();\n\n        if (!buf) {\n          this._want = !!this._stream;\n          return;\n        }\n\n        if (!this.push(buf)) return;\n      }\n    }\n  }, {\n    key: \"_read\",\n    value: function _read() {\n      if (this._reading || this.destroyed) return;\n      this._reading = true;\n      if (this._stream) this._forward();\n\n      if (this._drain) {\n        var drain = this._drain;\n        this._drain = null;\n        drain();\n      }\n\n      this._reading = false;\n\n      if (this._finalized) {\n        this.push(null);\n      }\n    }\n  }]);\n\n  return Encoder;\n}(stream.Readable);\n\nvar MediaData = /*#__PURE__*/function (_stream$PassThrough) {\n  \"use strict\";\n\n  _inherits(MediaData, _stream$PassThrough);\n\n  var _super2 = _createSuper(MediaData);\n\n  function MediaData(parent) {\n    var _this2;\n\n    _classCallCheck(this, MediaData);\n\n    _this2 = _super2.call(this);\n    _this2._parent = parent;\n    _this2.destroyed = false;\n    return _this2;\n  }\n\n  _createClass(MediaData, [{\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n\n      this._parent.destroy(err);\n\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }]);\n\n  return MediaData;\n}(stream.PassThrough);\n\nmodule.exports = Encoder;","function allocUnsafe(size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  }\n\n  if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n\n  if (Buffer.allocUnsafe) {\n    return Buffer.allocUnsafe(size);\n  } else {\n    return new Buffer(size);\n  }\n}\n\nmodule.exports = allocUnsafe;","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError = /*#__PURE__*/function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n    case 'raw':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n\n      default:\n        if (retried) return; // undefined\n\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n}\n\n; // Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\n\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n} // StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\n\n\nexports.StringDecoder = StringDecoder;\n\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End; // Returns only complete characters in a Buffer\n\nStringDecoder.prototype.text = utf8Text; // Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\n\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n}; // Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\n\n\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n} // Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\n\n\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n\n    return nb;\n  }\n\n  return 0;\n} // Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\n\n\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return \"\\uFFFD\";\n  }\n\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return \"\\uFFFD\";\n    }\n\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return \"\\uFFFD\";\n      }\n    }\n  }\n} // Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\n\n\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n} // Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\n\n\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n} // For UTF-8, a replacement character is added when ending on a partial\n// character.\n\n\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + \"\\uFFFD\";\n  return r;\n} // UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\n\n\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n\n    return r;\n  }\n\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n} // For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\n\n\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n} // Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\n\n\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","// This is an intentionally recursive require. I don't like it either.\nvar Box = require('./index');\n\nvar Descriptor = require('./descriptor');\n\nvar uint64be = require('uint64be');\n\nvar TIME_OFFSET = 2082844800000;\n/*\nTODO:\ntest these\nadd new box versions\n*/\n// These have 'version' and 'flags' fields in the headers\n\nexports.fullBoxes = {};\nvar fullBoxes = ['mvhd', 'tkhd', 'mdhd', 'vmhd', 'smhd', 'stsd', 'esds', 'stsz', 'stco', 'co64', 'stss', 'stts', 'ctts', 'stsc', 'dref', 'elst', 'hdlr', 'mehd', 'trex', 'mfhd', 'tfhd', 'tfdt', 'trun'];\nfullBoxes.forEach(function (type) {\n  exports.fullBoxes[type] = true;\n});\nexports.ftyp = {};\n\nexports.ftyp.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.ftyp.encodingLength(box));\n  var brands = box.compatibleBrands || [];\n  buf.write(box.brand, 0, 4, 'ascii');\n  buf.writeUInt32BE(box.brandVersion, 4);\n\n  for (var i = 0; i < brands.length; i++) {\n    buf.write(brands[i], 8 + i * 4, 4, 'ascii');\n  }\n\n  exports.ftyp.encode.bytes = 8 + brands.length * 4;\n  return buf;\n};\n\nexports.ftyp.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var brand = buf.toString('ascii', 0, 4);\n  var version = buf.readUInt32BE(4);\n  var compatibleBrands = [];\n\n  for (var i = 8; i < buf.length; i += 4) {\n    compatibleBrands.push(buf.toString('ascii', i, i + 4));\n  }\n\n  return {\n    brand: brand,\n    brandVersion: version,\n    compatibleBrands: compatibleBrands\n  };\n};\n\nexports.ftyp.encodingLength = function (box) {\n  return 8 + (box.compatibleBrands || []).length * 4;\n};\n\nexports.mvhd = {};\n\nexports.mvhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(96);\n  writeDate(box.ctime || new Date(), buf, 0);\n  writeDate(box.mtime || new Date(), buf, 4);\n  buf.writeUInt32BE(box.timeScale || 0, 8);\n  buf.writeUInt32BE(box.duration || 0, 12);\n  writeFixed32(box.preferredRate || 0, buf, 16);\n  writeFixed16(box.preferredVolume || 0, buf, 20);\n  writeReserved(buf, 22, 32);\n  writeMatrix(box.matrix, buf, 32);\n  buf.writeUInt32BE(box.previewTime || 0, 68);\n  buf.writeUInt32BE(box.previewDuration || 0, 72);\n  buf.writeUInt32BE(box.posterTime || 0, 76);\n  buf.writeUInt32BE(box.selectionTime || 0, 80);\n  buf.writeUInt32BE(box.selectionDuration || 0, 84);\n  buf.writeUInt32BE(box.currentTime || 0, 88);\n  buf.writeUInt32BE(box.nextTrackId || 0, 92);\n  exports.mvhd.encode.bytes = 96;\n  return buf;\n};\n\nexports.mvhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    ctime: readDate(buf, 0),\n    mtime: readDate(buf, 4),\n    timeScale: buf.readUInt32BE(8),\n    duration: buf.readUInt32BE(12),\n    preferredRate: readFixed32(buf, 16),\n    preferredVolume: readFixed16(buf, 20),\n    matrix: readMatrix(buf.slice(32, 68)),\n    previewTime: buf.readUInt32BE(68),\n    previewDuration: buf.readUInt32BE(72),\n    posterTime: buf.readUInt32BE(76),\n    selectionTime: buf.readUInt32BE(80),\n    selectionDuration: buf.readUInt32BE(84),\n    currentTime: buf.readUInt32BE(88),\n    nextTrackId: buf.readUInt32BE(92)\n  };\n};\n\nexports.mvhd.encodingLength = function (box) {\n  return 96;\n};\n\nexports.tkhd = {};\n\nexports.tkhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(80);\n  writeDate(box.ctime || new Date(), buf, 0);\n  writeDate(box.mtime || new Date(), buf, 4);\n  buf.writeUInt32BE(box.trackId || 0, 8);\n  writeReserved(buf, 12, 16);\n  buf.writeUInt32BE(box.duration || 0, 16);\n  writeReserved(buf, 20, 28);\n  buf.writeUInt16BE(box.layer || 0, 28);\n  buf.writeUInt16BE(box.alternateGroup || 0, 30);\n  buf.writeUInt16BE(box.volume || 0, 32);\n  writeMatrix(box.matrix, buf, 36);\n  buf.writeUInt32BE(box.trackWidth || 0, 72);\n  buf.writeUInt32BE(box.trackHeight || 0, 76);\n  exports.tkhd.encode.bytes = 80;\n  return buf;\n};\n\nexports.tkhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    ctime: readDate(buf, 0),\n    mtime: readDate(buf, 4),\n    trackId: buf.readUInt32BE(8),\n    duration: buf.readUInt32BE(16),\n    layer: buf.readUInt16BE(28),\n    alternateGroup: buf.readUInt16BE(30),\n    volume: buf.readUInt16BE(32),\n    matrix: readMatrix(buf.slice(36, 72)),\n    trackWidth: buf.readUInt32BE(72),\n    trackHeight: buf.readUInt32BE(76)\n  };\n};\n\nexports.tkhd.encodingLength = function (box) {\n  return 80;\n};\n\nexports.mdhd = {};\n\nexports.mdhd.encode = function (box, buf, offset) {\n  if (box.version === 1) {\n    buf = buf ? buf.slice(offset) : Buffer.alloc(32);\n    writeDate64(box.ctime || new Date(), buf, 0);\n    writeDate64(box.mtime || new Date(), buf, 8);\n    buf.writeUInt32BE(box.timeScale || 0, 16); // Node only supports integer <= 48bit. Waiting for BigInt!\n\n    buf.writeUIntBE(box.duration || 0, 20, 6);\n    buf.writeUInt16BE(box.language || 0, 28);\n    buf.writeUInt16BE(box.quality || 0, 30);\n    exports.mdhd.encode.bytes = 32;\n    return buf;\n  }\n\n  buf = buf ? buf.slice(offset) : Buffer.alloc(20);\n  writeDate(box.ctime || new Date(), buf, 0);\n  writeDate(box.mtime || new Date(), buf, 4);\n  buf.writeUInt32BE(box.timeScale || 0, 8);\n  buf.writeUInt32BE(box.duration || 0, 12);\n  buf.writeUInt16BE(box.language || 0, 16);\n  buf.writeUInt16BE(box.quality || 0, 18);\n  exports.mdhd.encode.bytes = 20;\n  return buf;\n};\n\nexports.mdhd.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  var version1 = end - offset !== 20; // In version 1 creation time and modification time are unsigned long\n\n  if (version1) {\n    return {\n      ctime: readDate64(buf, 0),\n      mtime: readDate64(buf, 8),\n      timeScale: buf.readUInt32BE(16),\n      // Node only supports integer <= 48bit. Waiting for BigInt!\n      duration: buf.readUIntBE(20, 6),\n      language: buf.readUInt16BE(28),\n      quality: buf.readUInt16BE(30)\n    };\n  }\n\n  return {\n    ctime: readDate(buf, 0),\n    mtime: readDate(buf, 4),\n    timeScale: buf.readUInt32BE(8),\n    duration: buf.readUInt32BE(12),\n    language: buf.readUInt16BE(16),\n    quality: buf.readUInt16BE(18)\n  };\n};\n\nexports.mdhd.encodingLength = function (box) {\n  if (box.version === 1) return 32;\n  return 20;\n};\n\nexports.vmhd = {};\n\nexports.vmhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(8);\n  buf.writeUInt16BE(box.graphicsMode || 0, 0);\n  var opcolor = box.opcolor || [0, 0, 0];\n  buf.writeUInt16BE(opcolor[0], 2);\n  buf.writeUInt16BE(opcolor[1], 4);\n  buf.writeUInt16BE(opcolor[2], 6);\n  exports.vmhd.encode.bytes = 8;\n  return buf;\n};\n\nexports.vmhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    graphicsMode: buf.readUInt16BE(0),\n    opcolor: [buf.readUInt16BE(2), buf.readUInt16BE(4), buf.readUInt16BE(6)]\n  };\n};\n\nexports.vmhd.encodingLength = function (box) {\n  return 8;\n};\n\nexports.smhd = {};\n\nexports.smhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt16BE(box.balance || 0, 0);\n  writeReserved(buf, 2, 4);\n  exports.smhd.encode.bytes = 4;\n  return buf;\n};\n\nexports.smhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    balance: buf.readUInt16BE(0)\n  };\n};\n\nexports.smhd.encodingLength = function (box) {\n  return 4;\n};\n\nexports.stsd = {};\n\nexports.stsd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stsd.encodingLength(box));\n  var entries = box.entries || [];\n  buf.writeUInt32BE(entries.length, 0);\n  var ptr = 4;\n\n  for (var i = 0; i < entries.length; i++) {\n    var entry = entries[i];\n    Box.encode(entry, buf, ptr);\n    ptr += Box.encode.bytes;\n  }\n\n  exports.stsd.encode.bytes = ptr;\n  return buf;\n};\n\nexports.stsd.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n  var ptr = 4;\n\n  for (var i = 0; i < num; i++) {\n    var entry = Box.decode(buf, ptr, end);\n    entries[i] = entry;\n    ptr += entry.length;\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stsd.encodingLength = function (box) {\n  var totalSize = 4;\n  if (!box.entries) return totalSize;\n\n  for (var i = 0; i < box.entries.length; i++) {\n    totalSize += Box.encodingLength(box.entries[i]);\n  }\n\n  return totalSize;\n};\n\nexports.avc1 = exports.VisualSampleEntry = {};\n\nexports.VisualSampleEntry.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.VisualSampleEntry.encodingLength(box));\n  writeReserved(buf, 0, 6);\n  buf.writeUInt16BE(box.dataReferenceIndex || 0, 6);\n  writeReserved(buf, 8, 24);\n  buf.writeUInt16BE(box.width || 0, 24);\n  buf.writeUInt16BE(box.height || 0, 26);\n  buf.writeUInt32BE(box.hResolution || 0x480000, 28);\n  buf.writeUInt32BE(box.vResolution || 0x480000, 32);\n  writeReserved(buf, 36, 40);\n  buf.writeUInt16BE(box.frameCount || 1, 40);\n  var compressorName = box.compressorName || '';\n  var nameLen = Math.min(compressorName.length, 31);\n  buf.writeUInt8(nameLen, 42);\n  buf.write(compressorName, 43, nameLen, 'utf8');\n  buf.writeUInt16BE(box.depth || 0x18, 74);\n  buf.writeInt16BE(-1, 76);\n  var ptr = 78;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    Box.encode(child, buf, ptr);\n    ptr += Box.encode.bytes;\n  });\n  exports.VisualSampleEntry.encode.bytes = ptr;\n};\n\nexports.VisualSampleEntry.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  var length = end - offset;\n  var nameLen = Math.min(buf.readUInt8(42), 31);\n  var box = {\n    dataReferenceIndex: buf.readUInt16BE(6),\n    width: buf.readUInt16BE(24),\n    height: buf.readUInt16BE(26),\n    hResolution: buf.readUInt32BE(28),\n    vResolution: buf.readUInt32BE(32),\n    frameCount: buf.readUInt16BE(40),\n    compressorName: buf.toString('utf8', 43, 43 + nameLen),\n    depth: buf.readUInt16BE(74),\n    children: []\n  };\n  var ptr = 78;\n\n  while (length - ptr >= 8) {\n    var child = Box.decode(buf, ptr, length);\n    box.children.push(child);\n    box[child.type] = child;\n    ptr += child.length;\n  }\n\n  return box;\n};\n\nexports.VisualSampleEntry.encodingLength = function (box) {\n  var len = 78;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    len += Box.encodingLength(child);\n  });\n  return len;\n};\n\nexports.avcC = {};\n\nexports.avcC.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(box.buffer.length);\n  box.buffer.copy(buf);\n  exports.avcC.encode.bytes = box.buffer.length;\n};\n\nexports.avcC.decode = function (buf, offset, end) {\n  buf = buf.slice(offset, end);\n  return {\n    mimeCodec: buf.toString('hex', 1, 4),\n    buffer: Buffer.from(buf)\n  };\n};\n\nexports.avcC.encodingLength = function (box) {\n  return box.buffer.length;\n};\n\nexports.mp4a = exports.AudioSampleEntry = {};\n\nexports.AudioSampleEntry.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.AudioSampleEntry.encodingLength(box));\n  writeReserved(buf, 0, 6);\n  buf.writeUInt16BE(box.dataReferenceIndex || 0, 6);\n  writeReserved(buf, 8, 16);\n  buf.writeUInt16BE(box.channelCount || 2, 16);\n  buf.writeUInt16BE(box.sampleSize || 16, 18);\n  writeReserved(buf, 20, 24);\n  buf.writeUInt32BE(box.sampleRate || 0, 24);\n  var ptr = 28;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    Box.encode(child, buf, ptr);\n    ptr += Box.encode.bytes;\n  });\n  exports.AudioSampleEntry.encode.bytes = ptr;\n};\n\nexports.AudioSampleEntry.decode = function (buf, offset, end) {\n  buf = buf.slice(offset, end);\n  var length = end - offset;\n  var box = {\n    dataReferenceIndex: buf.readUInt16BE(6),\n    channelCount: buf.readUInt16BE(16),\n    sampleSize: buf.readUInt16BE(18),\n    sampleRate: buf.readUInt32BE(24),\n    children: []\n  };\n  var ptr = 28;\n\n  while (length - ptr >= 8) {\n    var child = Box.decode(buf, ptr, length);\n    box.children.push(child);\n    box[child.type] = child;\n    ptr += child.length;\n  }\n\n  return box;\n};\n\nexports.AudioSampleEntry.encodingLength = function (box) {\n  var len = 28;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    len += Box.encodingLength(child);\n  });\n  return len;\n};\n\nexports.esds = {};\n\nexports.esds.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(box.buffer.length);\n  box.buffer.copy(buf, 0);\n  exports.esds.encode.bytes = box.buffer.length;\n};\n\nexports.esds.decode = function (buf, offset, end) {\n  buf = buf.slice(offset, end);\n  var desc = Descriptor.Descriptor.decode(buf, 0, buf.length);\n  var esd = desc.tagName === 'ESDescriptor' ? desc : {};\n  var dcd = esd.DecoderConfigDescriptor || {};\n  var oti = dcd.oti || 0;\n  var dsi = dcd.DecoderSpecificInfo;\n  var audioConfig = dsi ? (dsi.buffer.readUInt8(0) & 0xf8) >> 3 : 0;\n  var mimeCodec = null;\n\n  if (oti) {\n    mimeCodec = oti.toString(16);\n\n    if (audioConfig) {\n      mimeCodec += '.' + audioConfig;\n    }\n  }\n\n  return {\n    mimeCodec: mimeCodec,\n    buffer: Buffer.from(buf.slice(0))\n  };\n};\n\nexports.esds.encodingLength = function (box) {\n  return box.buffer.length;\n}; // TODO: integrate the two versions in a saner way\n\n\nexports.stsz = {};\n\nexports.stsz.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stsz.encodingLength(box));\n  buf.writeUInt32BE(0, 0);\n  buf.writeUInt32BE(entries.length, 4);\n\n  for (var i = 0; i < entries.length; i++) {\n    buf.writeUInt32BE(entries[i], i * 4 + 8);\n  }\n\n  exports.stsz.encode.bytes = 8 + entries.length * 4;\n  return buf;\n};\n\nexports.stsz.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var size = buf.readUInt32BE(0);\n  var num = buf.readUInt32BE(4);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    if (size === 0) {\n      entries[i] = buf.readUInt32BE(i * 4 + 8);\n    } else {\n      entries[i] = size;\n    }\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stsz.encodingLength = function (box) {\n  return 8 + box.entries.length * 4;\n};\n\nexports.stss = exports.stco = {};\n\nexports.stco.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stco.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    buf.writeUInt32BE(entries[i], i * 4 + 4);\n  }\n\n  exports.stco.encode.bytes = 4 + entries.length * 4;\n  return buf;\n};\n\nexports.stco.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    entries[i] = buf.readUInt32BE(i * 4 + 4);\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stco.encodingLength = function (box) {\n  return 4 + box.entries.length * 4;\n};\n\nexports.co64 = {};\n\nexports.co64.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.co64.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    uint64be.encode(entries[i], buf, i * 8 + 4);\n  }\n\n  exports.co64.encode.bytes = 4 + entries.length * 8;\n  return buf;\n};\n\nexports.co64.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    entries[i] = uint64be.decode(buf, i * 8 + 4);\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.co64.encodingLength = function (box) {\n  return 4 + box.entries.length * 8;\n};\n\nexports.stts = {};\n\nexports.stts.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stts.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 8 + 4;\n    buf.writeUInt32BE(entries[i].count || 0, ptr);\n    buf.writeUInt32BE(entries[i].duration || 0, ptr + 4);\n  }\n\n  exports.stts.encode.bytes = 4 + box.entries.length * 8;\n  return buf;\n};\n\nexports.stts.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 8 + 4;\n    entries[i] = {\n      count: buf.readUInt32BE(ptr),\n      duration: buf.readUInt32BE(ptr + 4)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stts.encodingLength = function (box) {\n  return 4 + box.entries.length * 8;\n};\n\nexports.ctts = {};\n\nexports.ctts.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.ctts.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 8 + 4;\n    buf.writeUInt32BE(entries[i].count || 0, ptr);\n    buf.writeUInt32BE(entries[i].compositionOffset || 0, ptr + 4);\n  }\n\n  exports.ctts.encode.bytes = 4 + entries.length * 8;\n  return buf;\n};\n\nexports.ctts.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 8 + 4;\n    entries[i] = {\n      count: buf.readUInt32BE(ptr),\n      compositionOffset: buf.readInt32BE(ptr + 4)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.ctts.encodingLength = function (box) {\n  return 4 + box.entries.length * 8;\n};\n\nexports.stsc = {};\n\nexports.stsc.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stsc.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 12 + 4;\n    buf.writeUInt32BE(entries[i].firstChunk || 0, ptr);\n    buf.writeUInt32BE(entries[i].samplesPerChunk || 0, ptr + 4);\n    buf.writeUInt32BE(entries[i].sampleDescriptionId || 0, ptr + 8);\n  }\n\n  exports.stsc.encode.bytes = 4 + entries.length * 12;\n  return buf;\n};\n\nexports.stsc.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 12 + 4;\n    entries[i] = {\n      firstChunk: buf.readUInt32BE(ptr),\n      samplesPerChunk: buf.readUInt32BE(ptr + 4),\n      sampleDescriptionId: buf.readUInt32BE(ptr + 8)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stsc.encodingLength = function (box) {\n  return 4 + box.entries.length * 12;\n};\n\nexports.dref = {};\n\nexports.dref.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.dref.encodingLength(box));\n  var entries = box.entries || [];\n  buf.writeUInt32BE(entries.length, 0);\n  var ptr = 4;\n\n  for (var i = 0; i < entries.length; i++) {\n    var entry = entries[i];\n    var size = (entry.buf ? entry.buf.length : 0) + 4 + 4;\n    buf.writeUInt32BE(size, ptr);\n    ptr += 4;\n    buf.write(entry.type, ptr, 4, 'ascii');\n    ptr += 4;\n\n    if (entry.buf) {\n      entry.buf.copy(buf, ptr);\n      ptr += entry.buf.length;\n    }\n  }\n\n  exports.dref.encode.bytes = ptr;\n  return buf;\n};\n\nexports.dref.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n  var ptr = 4;\n\n  for (var i = 0; i < num; i++) {\n    var size = buf.readUInt32BE(ptr);\n    var type = buf.toString('ascii', ptr + 4, ptr + 8);\n    var tmp = buf.slice(ptr + 8, ptr + size);\n    ptr += size;\n    entries[i] = {\n      type: type,\n      buf: tmp\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.dref.encodingLength = function (box) {\n  var totalSize = 4;\n  if (!box.entries) return totalSize;\n\n  for (var i = 0; i < box.entries.length; i++) {\n    var buf = box.entries[i].buf;\n    totalSize += (buf ? buf.length : 0) + 4 + 4;\n  }\n\n  return totalSize;\n};\n\nexports.elst = {};\n\nexports.elst.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.elst.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 12 + 4;\n    buf.writeUInt32BE(entries[i].trackDuration || 0, ptr);\n    buf.writeUInt32BE(entries[i].mediaTime || 0, ptr + 4);\n    writeFixed32(entries[i].mediaRate || 0, buf, ptr + 8);\n  }\n\n  exports.elst.encode.bytes = 4 + entries.length * 12;\n  return buf;\n};\n\nexports.elst.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 12 + 4;\n    entries[i] = {\n      trackDuration: buf.readUInt32BE(ptr),\n      mediaTime: buf.readInt32BE(ptr + 4),\n      mediaRate: readFixed32(buf, ptr + 8)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.elst.encodingLength = function (box) {\n  return 4 + box.entries.length * 12;\n};\n\nexports.hdlr = {};\n\nexports.hdlr.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.hdlr.encodingLength(box));\n  var len = 21 + (box.name || '').length;\n  buf.fill(0, 0, len);\n  buf.write(box.handlerType || '', 4, 4, 'ascii');\n  writeString(box.name || '', buf, 20);\n  exports.hdlr.encode.bytes = len;\n  return buf;\n};\n\nexports.hdlr.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  return {\n    handlerType: buf.toString('ascii', 4, 8),\n    name: readString(buf, 20, end)\n  };\n};\n\nexports.hdlr.encodingLength = function (box) {\n  return 21 + (box.name || '').length;\n};\n\nexports.mehd = {};\n\nexports.mehd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.fragmentDuration || 0, 0);\n  exports.mehd.encode.bytes = 4;\n  return buf;\n};\n\nexports.mehd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    fragmentDuration: buf.readUInt32BE(0)\n  };\n};\n\nexports.mehd.encodingLength = function (box) {\n  return 4;\n};\n\nexports.trex = {};\n\nexports.trex.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(20);\n  buf.writeUInt32BE(box.trackId || 0, 0);\n  buf.writeUInt32BE(box.defaultSampleDescriptionIndex || 0, 4);\n  buf.writeUInt32BE(box.defaultSampleDuration || 0, 8);\n  buf.writeUInt32BE(box.defaultSampleSize || 0, 12);\n  buf.writeUInt32BE(box.defaultSampleFlags || 0, 16);\n  exports.trex.encode.bytes = 20;\n  return buf;\n};\n\nexports.trex.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    trackId: buf.readUInt32BE(0),\n    defaultSampleDescriptionIndex: buf.readUInt32BE(4),\n    defaultSampleDuration: buf.readUInt32BE(8),\n    defaultSampleSize: buf.readUInt32BE(12),\n    defaultSampleFlags: buf.readUInt32BE(16)\n  };\n};\n\nexports.trex.encodingLength = function (box) {\n  return 20;\n};\n\nexports.mfhd = {};\n\nexports.mfhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.sequenceNumber || 0, 0);\n  exports.mfhd.encode.bytes = 4;\n  return buf;\n};\n\nexports.mfhd.decode = function (buf, offset) {\n  return {\n    sequenceNumber: buf.readUInt32BE(0)\n  };\n};\n\nexports.mfhd.encodingLength = function (box) {\n  return 4;\n};\n\nexports.tfhd = {};\n\nexports.tfhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.trackId, 0);\n  exports.tfhd.encode.bytes = 4;\n  return buf;\n};\n\nexports.tfhd.decode = function (buf, offset) {// TODO: this\n};\n\nexports.tfhd.encodingLength = function (box) {\n  // TODO: this is wrong!\n  return 4;\n};\n\nexports.tfdt = {};\n\nexports.tfdt.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.baseMediaDecodeTime || 0, 0);\n  exports.tfdt.encode.bytes = 4;\n  return buf;\n};\n\nexports.tfdt.decode = function (buf, offset) {// TODO: this\n};\n\nexports.tfdt.encodingLength = function (box) {\n  return 4;\n};\n\nexports.trun = {};\n\nexports.trun.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(8 + box.entries.length * 16); // TODO: this is wrong\n\n  buf.writeUInt32BE(box.entries.length, 0);\n  buf.writeInt32BE(box.dataOffset, 4);\n  var ptr = 8;\n\n  for (var i = 0; i < box.entries.length; i++) {\n    var entry = box.entries[i];\n    buf.writeUInt32BE(entry.sampleDuration, ptr);\n    ptr += 4;\n    buf.writeUInt32BE(entry.sampleSize, ptr);\n    ptr += 4;\n    buf.writeUInt32BE(entry.sampleFlags, ptr);\n    ptr += 4;\n\n    if ((box.version || 0) === 0) {\n      buf.writeUInt32BE(entry.sampleCompositionTimeOffset, ptr);\n    } else {\n      buf.writeInt32BE(entry.sampleCompositionTimeOffset, ptr);\n    }\n\n    ptr += 4;\n  }\n\n  exports.trun.encode.bytes = ptr;\n};\n\nexports.trun.decode = function (buf, offset) {// TODO: this\n};\n\nexports.trun.encodingLength = function (box) {\n  // TODO: this is wrong\n  return 8 + box.entries.length * 16;\n};\n\nexports.mdat = {};\n\nexports.mdat.encode = function (box, buf, offset) {\n  if (box.buffer) {\n    box.buffer.copy(buf, offset);\n    exports.mdat.encode.bytes = box.buffer.length;\n  } else {\n    exports.mdat.encode.bytes = exports.mdat.encodingLength(box);\n  }\n};\n\nexports.mdat.decode = function (buf, start, end) {\n  return {\n    buffer: Buffer.from(buf.slice(start, end))\n  };\n};\n\nexports.mdat.encodingLength = function (box) {\n  return box.buffer ? box.buffer.length : box.contentLength;\n};\n\nfunction writeReserved(buf, offset, end) {\n  for (var i = offset; i < end; i++) {\n    buf[i] = 0;\n  }\n}\n\nfunction writeDate(date, buf, offset) {\n  buf.writeUInt32BE(Math.floor((date.getTime() + TIME_OFFSET) / 1000), offset);\n}\n\nfunction writeDate64(date, buf, offset) {\n  // Node only supports integer <= 48bit. Waiting for BigInt!\n  buf.writeUIntBE(Math.floor((date.getTime() + TIME_OFFSET) / 1000), offset, 6);\n} // TODO: think something is wrong here\n\n\nfunction writeFixed32(num, buf, offset) {\n  buf.writeUInt16BE(Math.floor(num) % (256 * 256), offset);\n  buf.writeUInt16BE(Math.floor(num * 256 * 256) % (256 * 256), offset + 2);\n}\n\nfunction writeFixed16(num, buf, offset) {\n  buf[offset] = Math.floor(num) % 256;\n  buf[offset + 1] = Math.floor(num * 256) % 256;\n}\n\nfunction writeMatrix(list, buf, offset) {\n  if (!list) list = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n  for (var i = 0; i < list.length; i++) {\n    writeFixed32(list[i], buf, offset + i * 4);\n  }\n}\n\nfunction writeString(str, buf, offset) {\n  var strBuffer = Buffer.from(str, 'utf8');\n  strBuffer.copy(buf, offset);\n  buf[offset + strBuffer.length] = 0;\n}\n\nfunction readMatrix(buf) {\n  var list = new Array(buf.length / 4);\n\n  for (var i = 0; i < list.length; i++) {\n    list[i] = readFixed32(buf, i * 4);\n  }\n\n  return list;\n}\n\nfunction readDate64(buf, offset) {\n  // Node only supports integer <= 48bit. Waiting for BigInt!\n  return new Date(buf.readUIntBE(offset, 6) * 1000 - TIME_OFFSET);\n}\n\nfunction readDate(buf, offset) {\n  return new Date(buf.readUInt32BE(offset) * 1000 - TIME_OFFSET);\n}\n\nfunction readFixed32(buf, offset) {\n  return buf.readUInt16BE(offset) + buf.readUInt16BE(offset + 2) / (256 * 256);\n}\n\nfunction readFixed16(buf, offset) {\n  return buf[offset] + buf[offset + 1] / 256;\n}\n\nfunction readString(buf, offset, length) {\n  var i;\n\n  for (i = 0; i < length; i++) {\n    if (buf[offset + i] === 0) {\n      break;\n    }\n  }\n\n  return buf.toString('utf8', offset, offset + i);\n}","module.exports = MediaElementWrapper;\n\nvar inherits = require('inherits');\n\nvar stream = require('readable-stream');\n\nvar toArrayBuffer = require('to-arraybuffer');\n\nvar MediaSource = typeof window !== 'undefined' && window.MediaSource;\nvar DEFAULT_BUFFER_DURATION = 60; // seconds\n\nfunction MediaElementWrapper(elem, opts) {\n  var self = this;\n  if (!(self instanceof MediaElementWrapper)) return new MediaElementWrapper(elem, opts);\n  if (!MediaSource) throw new Error('web browser lacks MediaSource support');\n  if (!opts) opts = {};\n  self._debug = opts.debug;\n  self._bufferDuration = opts.bufferDuration || DEFAULT_BUFFER_DURATION;\n  self._elem = elem;\n  self._mediaSource = new MediaSource();\n  self._streams = [];\n  self.detailedError = null;\n\n  self._errorHandler = function () {\n    self._elem.removeEventListener('error', self._errorHandler);\n\n    var streams = self._streams.slice();\n\n    streams.forEach(function (stream) {\n      stream.destroy(self._elem.error);\n    });\n  };\n\n  self._elem.addEventListener('error', self._errorHandler);\n\n  self._elem.src = window.URL.createObjectURL(self._mediaSource);\n}\n/*\n * `obj` can be a previous value returned by this function\n * or a string\n */\n\n\nMediaElementWrapper.prototype.createWriteStream = function (obj) {\n  var self = this;\n  return new MediaSourceStream(self, obj);\n};\n/*\n * Use to trigger an error on the underlying media element\n */\n\n\nMediaElementWrapper.prototype.error = function (err) {\n  var self = this; // be careful not to overwrite any existing detailedError values\n\n  if (!self.detailedError) {\n    self.detailedError = err;\n  }\n\n  self._dumpDebugData();\n\n  try {\n    self._mediaSource.endOfStream('decode');\n  } catch (err) {}\n\n  try {\n    // Attempt to clean up object URL\n    window.URL.revokeObjectURL(self._elem.src);\n  } catch (err) {}\n};\n/*\n * When self._debug is set, dump all data to files\n */\n\n\nMediaElementWrapper.prototype._dumpDebugData = function () {\n  var self = this;\n\n  if (self._debug) {\n    self._debug = false; // prevent multiple dumps on multiple errors\n\n    self._streams.forEach(function (stream, i) {\n      downloadBuffers(stream._debugBuffers, 'mediasource-stream-' + i);\n    });\n  }\n};\n\ninherits(MediaSourceStream, stream.Writable);\n\nfunction MediaSourceStream(wrapper, obj) {\n  var self = this;\n  stream.Writable.call(self);\n  self._wrapper = wrapper;\n  self._elem = wrapper._elem;\n  self._mediaSource = wrapper._mediaSource;\n  self._allStreams = wrapper._streams;\n\n  self._allStreams.push(self);\n\n  self._bufferDuration = wrapper._bufferDuration;\n  self._sourceBuffer = null;\n  self._debugBuffers = [];\n\n  self._openHandler = function () {\n    self._onSourceOpen();\n  };\n\n  self._flowHandler = function () {\n    self._flow();\n  };\n\n  self._errorHandler = function (err) {\n    if (!self.destroyed) {\n      self.emit('error', err);\n    }\n  };\n\n  if (typeof obj === 'string') {\n    self._type = obj; // Need to create a new sourceBuffer\n\n    if (self._mediaSource.readyState === 'open') {\n      self._createSourceBuffer();\n    } else {\n      self._mediaSource.addEventListener('sourceopen', self._openHandler);\n    }\n  } else if (obj._sourceBuffer === null) {\n    obj.destroy();\n    self._type = obj._type; // The old stream was created but hasn't finished initializing\n\n    self._mediaSource.addEventListener('sourceopen', self._openHandler);\n  } else if (obj._sourceBuffer) {\n    obj.destroy();\n    self._type = obj._type;\n    self._sourceBuffer = obj._sourceBuffer; // Copy over the old sourceBuffer\n\n    self._debugBuffers = obj._debugBuffers; // Copy over previous debug data\n\n    self._sourceBuffer.addEventListener('updateend', self._flowHandler);\n\n    self._sourceBuffer.addEventListener('error', self._errorHandler);\n  } else {\n    throw new Error('The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function');\n  }\n\n  self._elem.addEventListener('timeupdate', self._flowHandler);\n\n  self.on('error', function (err) {\n    self._wrapper.error(err);\n  });\n  self.on('finish', function () {\n    if (self.destroyed) return;\n    self._finished = true;\n\n    if (self._allStreams.every(function (other) {\n      return other._finished;\n    })) {\n      self._wrapper._dumpDebugData();\n\n      try {\n        self._mediaSource.endOfStream();\n      } catch (err) {}\n    }\n  });\n}\n\nMediaSourceStream.prototype._onSourceOpen = function () {\n  var self = this;\n  if (self.destroyed) return;\n\n  self._mediaSource.removeEventListener('sourceopen', self._openHandler);\n\n  self._createSourceBuffer();\n};\n\nMediaSourceStream.prototype.destroy = function (err) {\n  var self = this;\n  if (self.destroyed) return;\n  self.destroyed = true; // Remove from allStreams\n\n  self._allStreams.splice(self._allStreams.indexOf(self), 1);\n\n  self._mediaSource.removeEventListener('sourceopen', self._openHandler);\n\n  self._elem.removeEventListener('timeupdate', self._flowHandler);\n\n  if (self._sourceBuffer) {\n    self._sourceBuffer.removeEventListener('updateend', self._flowHandler);\n\n    self._sourceBuffer.removeEventListener('error', self._errorHandler);\n\n    if (self._mediaSource.readyState === 'open') {\n      self._sourceBuffer.abort();\n    }\n  }\n\n  if (err) self.emit('error', err);\n  self.emit('close');\n};\n\nMediaSourceStream.prototype._createSourceBuffer = function () {\n  var self = this;\n  if (self.destroyed) return;\n\n  if (MediaSource.isTypeSupported(self._type)) {\n    self._sourceBuffer = self._mediaSource.addSourceBuffer(self._type);\n\n    self._sourceBuffer.addEventListener('updateend', self._flowHandler);\n\n    self._sourceBuffer.addEventListener('error', self._errorHandler);\n\n    if (self._cb) {\n      var cb = self._cb;\n      self._cb = null;\n      cb();\n    }\n  } else {\n    self.destroy(new Error('The provided type is not supported'));\n  }\n};\n\nMediaSourceStream.prototype._write = function (chunk, encoding, cb) {\n  var self = this;\n  if (self.destroyed) return;\n\n  if (!self._sourceBuffer) {\n    self._cb = function (err) {\n      if (err) return cb(err);\n\n      self._write(chunk, encoding, cb);\n    };\n\n    return;\n  }\n\n  if (self._sourceBuffer.updating) {\n    return cb(new Error('Cannot append buffer while source buffer updating'));\n  }\n\n  var arr = toArrayBuffer(chunk);\n\n  if (self._wrapper._debug) {\n    self._debugBuffers.push(arr);\n  }\n\n  try {\n    self._sourceBuffer.appendBuffer(arr);\n  } catch (err) {\n    // appendBuffer can throw for a number of reasons, most notably when the data\n    // being appended is invalid or if appendBuffer is called after another error\n    // already occurred on the media element. In Chrome, there may be useful debugging\n    // info in chrome://media-internals\n    self.destroy(err);\n    return;\n  }\n\n  self._cb = cb;\n};\n\nMediaSourceStream.prototype._flow = function () {\n  var self = this;\n\n  if (self.destroyed || !self._sourceBuffer || self._sourceBuffer.updating) {\n    return;\n  }\n\n  if (self._mediaSource.readyState === 'open') {\n    // check buffer size\n    if (self._getBufferDuration() > self._bufferDuration) {\n      return;\n    }\n  }\n\n  if (self._cb) {\n    var cb = self._cb;\n    self._cb = null;\n    cb();\n  }\n}; // TODO: if zero actually works in all browsers, remove the logic associated with this below\n\n\nvar EPSILON = 0;\n\nMediaSourceStream.prototype._getBufferDuration = function () {\n  var self = this;\n  var buffered = self._sourceBuffer.buffered;\n  var currentTime = self._elem.currentTime;\n  var bufferEnd = -1; // end of the buffer\n  // This is a little over complex because some browsers seem to separate the\n  // buffered region into multiple sections with slight gaps.\n\n  for (var i = 0; i < buffered.length; i++) {\n    var start = buffered.start(i);\n    var end = buffered.end(i) + EPSILON;\n\n    if (start > currentTime) {\n      // Reached past the joined buffer\n      break;\n    } else if (bufferEnd >= 0 || currentTime <= end) {\n      // Found the start/continuation of the joined buffer\n      bufferEnd = end;\n    }\n  }\n\n  var bufferedTime = bufferEnd - currentTime;\n\n  if (bufferedTime < 0) {\n    bufferedTime = 0;\n  }\n\n  return bufferedTime;\n};\n\nfunction downloadBuffers(bufs, name) {\n  var a = document.createElement('a');\n  a.href = window.URL.createObjectURL(new window.Blob(bufs));\n  a.download = name;\n  a.click();\n}","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');","import * as React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { graphql, useStaticQuery } from \"gatsby\"\nimport { Helmet } from \"react-helmet\"\n/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\ninterface Props {\n  description: string\n  lang: string\n  meta: {\n    name: string\n    content: string\n  }[]\n  title: string\n}\n\nconst SEO = ({ description, lang, meta, title }: Props) => {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            social {\n              twitter\n            }\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.social.twitter,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ].concat(meta)}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  description: ``,\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.arrayOf(PropTypes.object),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n","var once = require('once');\n\nvar eos = require('end-of-stream');\n\nvar fs = require('fs'); // we only need fs to get the ReadStream and WriteStream prototypes\n\n\nvar noop = function noop() {};\n\nvar ancient = /^v?\\.0/.test(process.version);\n\nvar isFn = function isFn(fn) {\n  return typeof fn === 'function';\n};\n\nvar isFS = function isFS(stream) {\n  if (!ancient) return false; // newer node version do not need to care about fs is a special way\n\n  if (!fs) return false; // browser\n\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close);\n};\n\nvar isRequest = function isRequest(stream) {\n  return stream.setHeader && isFn(stream.abort);\n};\n\nvar destroyer = function destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true;\n    if (isFS(stream)) return stream.close(noop); // use close for fs streams to avoid fd leaks\n\n    if (isRequest(stream)) return stream.abort(); // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy();\n    callback(err || new Error('stream was destroyed'));\n  };\n};\n\nvar call = function call(fn) {\n  fn();\n};\n\nvar pipe = function pipe(from, to) {\n  return from.pipe(to);\n};\n\nvar pump = function pump() {\n  var streams = Array.prototype.slice.call(arguments);\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop;\n  if (Array.isArray(streams[0])) streams = streams[0];\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum');\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n};\n\nmodule.exports = pump;","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer');\n\nvar Buffer = buffer.Buffer; // alternative to using Object.keys for old browsers\n\nfunction copyProps(src, dst) {\n  for (var key in src) {\n    dst[key] = src[key];\n  }\n}\n\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer;\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports);\n  exports.Buffer = SafeBuffer;\n}\n\nfunction SafeBuffer(arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length);\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype); // Copy static methods from Buffer\n\ncopyProps(Buffer, SafeBuffer);\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number');\n  }\n\n  return Buffer(arg, encodingOrOffset, length);\n};\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  var buf = Buffer(size);\n\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding);\n    } else {\n      buf.fill(fill);\n    }\n  } else {\n    buf.fill(0);\n  }\n\n  return buf;\n};\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  return Buffer(size);\n};\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  return buffer.SlowBuffer(size);\n};","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy;\n\nfunction wrappy(fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb);\n  if (typeof fn !== 'function') throw new TypeError('need wrapper function');\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k];\n  });\n  return wrapper;\n\n  function wrapper() {\n    var args = new Array(arguments.length);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    var ret = fn.apply(this, args);\n    var cb = args[args.length - 1];\n\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k];\n      });\n    }\n\n    return ret;\n  }\n}","var wrappy = require('wrappy');\n\nmodule.exports = wrappy(once);\nmodule.exports.strict = wrappy(onceStrict);\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function value() {\n      return once(this);\n    },\n    configurable: true\n  });\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function value() {\n      return onceStrict(this);\n    },\n    configurable: true\n  });\n});\n\nfunction once(fn) {\n  var f = function f() {\n    if (f.called) return f.value;\n    f.called = true;\n    return f.value = fn.apply(this, arguments);\n  };\n\n  f.called = false;\n  return f;\n}\n\nfunction onceStrict(fn) {\n  var f = function f() {\n    if (f.called) throw new Error(f.onceError);\n    f.called = true;\n    return f.value = fn.apply(this, arguments);\n  };\n\n  var name = fn.name || 'Function wrapped with `once`';\n  f.onceError = name + \" shouldn't be called more than once\";\n  f.called = false;\n  return f;\n}","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","/**\n * Module exports.\n */\nmodule.exports = deprecate;\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate(fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n\n      warned = true;\n    }\n\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\n\nfunction config(name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","var bufferFill = require('buffer-fill');\n\nvar allocUnsafe = require('buffer-alloc-unsafe');\n\nmodule.exports = function alloc(size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  }\n\n  if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n\n  if (Buffer.alloc) {\n    return Buffer.alloc(size, fill, encoding);\n  }\n\n  var buffer = allocUnsafe(size);\n\n  if (size === 0) {\n    return buffer;\n  }\n\n  if (fill === undefined) {\n    return bufferFill(buffer, 0);\n  }\n\n  if (typeof encoding !== 'string') {\n    encoding = undefined;\n  }\n\n  return bufferFill(buffer, fill, encoding);\n};","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","module.exports = require(\"regenerator-runtime\");\n","var bufferAlloc = require('buffer-alloc');\n\nvar UINT_32_MAX = Math.pow(2, 32);\n\nexports.encodingLength = function () {\n  return 8;\n};\n\nexports.encode = function (num, buf, offset) {\n  if (!buf) buf = bufferAlloc(8);\n  if (!offset) offset = 0;\n  var top = Math.floor(num / UINT_32_MAX);\n  var rem = num - top * UINT_32_MAX;\n  buf.writeUInt32BE(top, offset);\n  buf.writeUInt32BE(rem, offset + 4);\n  return buf;\n};\n\nexports.decode = function (buf, offset) {\n  if (!offset) offset = 0;\n  var top = buf.readUInt32BE(offset);\n  var rem = buf.readUInt32BE(offset + 4);\n  return top * UINT_32_MAX + rem;\n};\n\nexports.encode.bytes = 8;\nexports.decode.bytes = 8;","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this; // if we have detected an error in the meanwhile\n    // reject straight away\n\n\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this; // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n\n\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nInstance of writable stream.\n\ncall .get(length) or .discard(length) to get a stream (relative to the last end)\n\nemits 'stalled' once everything is written\n\n*/\nvar _require = require('readable-stream'),\n    Writable = _require.Writable,\n    PassThrough = _require.PassThrough;\n\nvar RangeSliceStream = /*#__PURE__*/function (_Writable) {\n  \"use strict\";\n\n  _inherits(RangeSliceStream, _Writable);\n\n  var _super = _createSuper(RangeSliceStream);\n\n  function RangeSliceStream(offset) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, RangeSliceStream);\n\n    _this = _super.call(this, opts);\n    _this.destroyed = false;\n    _this._queue = [];\n    _this._position = offset || 0;\n    _this._cb = null;\n    _this._buffer = null;\n    _this._out = null;\n    return _this;\n  }\n\n  _createClass(RangeSliceStream, [{\n    key: \"_write\",\n    value: function _write(chunk, encoding, cb) {\n      var drained = true;\n\n      while (true) {\n        if (this.destroyed) {\n          return;\n        } // Wait for more queue entries\n\n\n        if (this._queue.length === 0) {\n          this._buffer = chunk;\n          this._cb = cb;\n          return;\n        }\n\n        this._buffer = null;\n        var currRange = this._queue[0]; // Relative to the start of chunk, what data do we need?\n\n        var writeStart = Math.max(currRange.start - this._position, 0);\n        var writeEnd = currRange.end - this._position; // Check if we need to throw it all away\n\n        if (writeStart >= chunk.length) {\n          this._position += chunk.length;\n          return cb(null);\n        } // Check if we need to use it all\n\n\n        var toWrite = void 0;\n\n        if (writeEnd > chunk.length) {\n          this._position += chunk.length;\n\n          if (writeStart === 0) {\n            toWrite = chunk;\n          } else {\n            toWrite = chunk.slice(writeStart);\n          }\n\n          drained = currRange.stream.write(toWrite) && drained;\n          break;\n        }\n\n        this._position += writeEnd;\n        toWrite = writeStart === 0 && writeEnd === chunk.length ? chunk : chunk.slice(writeStart, writeEnd);\n        drained = currRange.stream.write(toWrite) && drained;\n\n        if (currRange.last) {\n          currRange.stream.end();\n        }\n\n        chunk = chunk.slice(writeEnd);\n\n        this._queue.shift();\n      }\n\n      if (drained) {\n        cb(null);\n      } else {\n        currRange.stream.once('drain', cb.bind(null, null));\n      }\n    }\n  }, {\n    key: \"slice\",\n    value: function slice(ranges) {\n      var _this2 = this;\n\n      if (this.destroyed) return null;\n      if (!Array.isArray(ranges)) ranges = [ranges];\n      var str = new PassThrough();\n      ranges.forEach(function (range, i) {\n        _this2._queue.push({\n          start: range.start,\n          end: range.end,\n          stream: str,\n          last: i === ranges.length - 1\n        });\n      });\n\n      if (this._buffer) {\n        this._write(this._buffer, null, this._cb);\n      }\n\n      return str;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n      if (err) this.emit('error', err);\n    }\n  }]);\n\n  return RangeSliceStream;\n}(Writable);\n\nmodule.exports = RangeSliceStream;","var once = require('once');\n\nvar noop = function noop() {};\n\nvar isRequest = function isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function isChildProcess(stream) {\n  return stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3;\n};\n\nvar eos = function eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n  var cancelled = false;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var onfinish = function onfinish() {\n    writable = false;\n    if (!readable) callback.call(stream);\n  };\n\n  var onend = function onend() {\n    readable = false;\n    if (!writable) callback.call(stream);\n  };\n\n  var onexit = function onexit(exitCode) {\n    callback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    process.nextTick(onclosenexttick);\n  };\n\n  var onclosenexttick = function onclosenexttick() {\n    if (cancelled) return;\n    if (readable && !(rs && rs.ended && !rs.destroyed)) return callback.call(stream, new Error('premature close'));\n    if (writable && !(ws && ws.ended && !ws.destroyed)) return callback.call(stream, new Error('premature close'));\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !ws) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  if (isChildProcess(stream)) stream.on('exit', onexit);\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    cancelled = true;\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('exit', onexit);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n};\n\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser');\n};","'use strict';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports = /*#__PURE__*/function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar bs = require('binary-search');\n\nvar EventEmitter = require('events');\n\nvar mp4 = require('mp4-stream');\n\nvar Box = require('mp4-box-encoding');\n\nvar RangeSliceStream = require('range-slice-stream'); // if we want to ignore more than this many bytes, request a new stream.\n// if we want to ignore fewer, just skip them.\n\n\nvar FIND_MOOV_SEEK_SIZE = 4096;\n\nvar MP4Remuxer = /*#__PURE__*/function (_EventEmitter) {\n  \"use strict\";\n\n  _inherits(MP4Remuxer, _EventEmitter);\n\n  var _super = _createSuper(MP4Remuxer);\n\n  function MP4Remuxer(file) {\n    var _this;\n\n    _classCallCheck(this, MP4Remuxer);\n\n    _this = _super.call(this);\n    _this._tracks = [];\n    _this._file = file;\n    _this._decoder = null;\n\n    _this._findMoov(0);\n\n    return _this;\n  }\n\n  _createClass(MP4Remuxer, [{\n    key: \"_findMoov\",\n    value: function _findMoov(offset) {\n      var _this2 = this;\n\n      if (this._decoder) {\n        this._decoder.destroy();\n      }\n\n      var toSkip = 0;\n      this._decoder = mp4.decode();\n\n      var fileStream = this._file.createReadStream({\n        start: offset\n      });\n\n      fileStream.pipe(this._decoder);\n\n      var boxHandler = function boxHandler(headers) {\n        if (headers.type === 'moov') {\n          _this2._decoder.removeListener('box', boxHandler);\n\n          _this2._decoder.decode(function (moov) {\n            fileStream.destroy();\n\n            try {\n              _this2._processMoov(moov);\n            } catch (err) {\n              err.message = \"Cannot parse mp4 file: \".concat(err.message);\n\n              _this2.emit('error', err);\n            }\n          });\n        } else if (headers.length < FIND_MOOV_SEEK_SIZE) {\n          toSkip += headers.length;\n\n          _this2._decoder.ignore();\n        } else {\n          _this2._decoder.removeListener('box', boxHandler);\n\n          toSkip += headers.length;\n          fileStream.destroy();\n\n          _this2._decoder.destroy();\n\n          _this2._findMoov(offset + toSkip);\n        }\n      };\n\n      this._decoder.on('box', boxHandler);\n    }\n  }, {\n    key: \"_processMoov\",\n    value: function _processMoov(moov) {\n      var traks = moov.traks;\n      this._tracks = [];\n      this._hasVideo = false;\n      this._hasAudio = false;\n\n      for (var i = 0; i < traks.length; i++) {\n        var trak = traks[i];\n        var stbl = trak.mdia.minf.stbl;\n        var stsdEntry = stbl.stsd.entries[0];\n        var handlerType = trak.mdia.hdlr.handlerType;\n        var codec = void 0;\n        var mime = void 0;\n\n        if (handlerType === 'vide' && stsdEntry.type === 'avc1') {\n          if (this._hasVideo) {\n            continue;\n          }\n\n          this._hasVideo = true;\n          codec = 'avc1';\n\n          if (stsdEntry.avcC) {\n            codec += \".\".concat(stsdEntry.avcC.mimeCodec);\n          }\n\n          mime = \"video/mp4; codecs=\\\"\".concat(codec, \"\\\"\");\n        } else if (handlerType === 'soun' && stsdEntry.type === 'mp4a') {\n          if (this._hasAudio) {\n            continue;\n          }\n\n          this._hasAudio = true;\n          codec = 'mp4a';\n\n          if (stsdEntry.esds && stsdEntry.esds.mimeCodec) {\n            codec += \".\".concat(stsdEntry.esds.mimeCodec);\n          }\n\n          mime = \"audio/mp4; codecs=\\\"\".concat(codec, \"\\\"\");\n        } else {\n          continue;\n        }\n\n        var samples = [];\n        var sample = 0; // Chunk/position data\n\n        var sampleInChunk = 0;\n        var chunk = 0;\n        var offsetInChunk = 0;\n        var sampleToChunkIndex = 0; // Time data\n\n        var dts = 0;\n        var decodingTimeEntry = new RunLengthIndex(stbl.stts.entries);\n        var presentationOffsetEntry = null;\n\n        if (stbl.ctts) {\n          presentationOffsetEntry = new RunLengthIndex(stbl.ctts.entries);\n        } // Sync table index\n\n\n        var syncSampleIndex = 0;\n\n        while (true) {\n          var currChunkEntry = stbl.stsc.entries[sampleToChunkIndex]; // Compute size\n\n          var size = stbl.stsz.entries[sample]; // Compute time data\n\n          var duration = decodingTimeEntry.value.duration;\n          var presentationOffset = presentationOffsetEntry ? presentationOffsetEntry.value.compositionOffset : 0; // Compute sync\n\n          var sync = true;\n\n          if (stbl.stss) {\n            sync = stbl.stss.entries[syncSampleIndex] === sample + 1;\n          } // Create new sample entry\n\n\n          var chunkOffsetTable = stbl.stco || stbl.co64;\n          samples.push({\n            size: size,\n            duration: duration,\n            dts: dts,\n            presentationOffset: presentationOffset,\n            sync: sync,\n            offset: offsetInChunk + chunkOffsetTable.entries[chunk]\n          }); // Go to next sample\n\n          sample++;\n\n          if (sample >= stbl.stsz.entries.length) {\n            break;\n          } // Move position/chunk\n\n\n          sampleInChunk++;\n          offsetInChunk += size;\n\n          if (sampleInChunk >= currChunkEntry.samplesPerChunk) {\n            // Move to new chunk\n            sampleInChunk = 0;\n            offsetInChunk = 0;\n            chunk++; // Move sample to chunk box index\n\n            var nextChunkEntry = stbl.stsc.entries[sampleToChunkIndex + 1];\n\n            if (nextChunkEntry && chunk + 1 >= nextChunkEntry.firstChunk) {\n              sampleToChunkIndex++;\n            }\n          } // Move time forward\n\n\n          dts += duration;\n          decodingTimeEntry.inc();\n          presentationOffsetEntry && presentationOffsetEntry.inc(); // Move sync table index\n\n          if (sync) {\n            syncSampleIndex++;\n          }\n        }\n\n        trak.mdia.mdhd.duration = 0;\n        trak.tkhd.duration = 0;\n        var defaultSampleDescriptionIndex = currChunkEntry.sampleDescriptionId;\n        var trackMoov = {\n          type: 'moov',\n          mvhd: moov.mvhd,\n          traks: [{\n            tkhd: trak.tkhd,\n            mdia: {\n              mdhd: trak.mdia.mdhd,\n              hdlr: trak.mdia.hdlr,\n              elng: trak.mdia.elng,\n              minf: {\n                vmhd: trak.mdia.minf.vmhd,\n                smhd: trak.mdia.minf.smhd,\n                dinf: trak.mdia.minf.dinf,\n                stbl: {\n                  stsd: stbl.stsd,\n                  stts: empty(),\n                  ctts: empty(),\n                  stsc: empty(),\n                  stsz: empty(),\n                  stco: empty(),\n                  stss: empty()\n                }\n              }\n            }\n          }],\n          mvex: {\n            mehd: {\n              fragmentDuration: moov.mvhd.duration\n            },\n            trexs: [{\n              trackId: trak.tkhd.trackId,\n              defaultSampleDescriptionIndex: defaultSampleDescriptionIndex,\n              defaultSampleDuration: 0,\n              defaultSampleSize: 0,\n              defaultSampleFlags: 0\n            }]\n          }\n        };\n\n        this._tracks.push({\n          fragmentSequence: 1,\n          trackId: trak.tkhd.trackId,\n          timeScale: trak.mdia.mdhd.timeScale,\n          samples: samples,\n          currSample: null,\n          currTime: null,\n          moov: trackMoov,\n          mime: mime\n        });\n      }\n\n      if (this._tracks.length === 0) {\n        this.emit('error', new Error('no playable tracks'));\n        return;\n      } // Must be set last since this is used above\n\n\n      moov.mvhd.duration = 0;\n      this._ftyp = {\n        type: 'ftyp',\n        brand: 'iso5',\n        brandVersion: 0,\n        compatibleBrands: ['iso5']\n      };\n      var ftypBuf = Box.encode(this._ftyp);\n\n      var data = this._tracks.map(function (track) {\n        var moovBuf = Box.encode(track.moov);\n        return {\n          mime: track.mime,\n          init: Buffer.concat([ftypBuf, moovBuf])\n        };\n      });\n\n      this.emit('ready', data);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      var _this3 = this;\n\n      if (!this._tracks) {\n        throw new Error('Not ready yet; wait for \\'ready\\' event');\n      }\n\n      if (this._fileStream) {\n        this._fileStream.destroy();\n\n        this._fileStream = null;\n      }\n\n      var startOffset = -1;\n\n      this._tracks.map(function (track, i) {\n        // find the keyframe before the time\n        // stream from there\n        if (track.outStream) {\n          track.outStream.destroy();\n        }\n\n        if (track.inStream) {\n          track.inStream.destroy();\n          track.inStream = null;\n        }\n\n        var outStream = track.outStream = mp4.encode();\n\n        var fragment = _this3._generateFragment(i, time);\n\n        if (!fragment) {\n          return outStream.finalize();\n        }\n\n        if (startOffset === -1 || fragment.ranges[0].start < startOffset) {\n          startOffset = fragment.ranges[0].start;\n        }\n\n        var writeFragment = function writeFragment(frag) {\n          if (outStream.destroyed) return;\n          outStream.box(frag.moof, function (err) {\n            if (err) return _this3.emit('error', err);\n            if (outStream.destroyed) return;\n            var slicedStream = track.inStream.slice(frag.ranges);\n            slicedStream.pipe(outStream.mediaData(frag.length, function (err) {\n              if (err) return _this3.emit('error', err);\n              if (outStream.destroyed) return;\n\n              var nextFrag = _this3._generateFragment(i);\n\n              if (!nextFrag) {\n                return outStream.finalize();\n              }\n\n              writeFragment(nextFrag);\n            }));\n          });\n        };\n\n        writeFragment(fragment);\n      });\n\n      if (startOffset >= 0) {\n        var fileStream = this._fileStream = this._file.createReadStream({\n          start: startOffset\n        });\n\n        this._tracks.forEach(function (track) {\n          track.inStream = new RangeSliceStream(startOffset, {\n            // Allow up to a 10MB offset between audio and video,\n            // which should be fine for any reasonable interleaving\n            // interval and bitrate\n            highWaterMark: 10000000\n          });\n          fileStream.pipe(track.inStream);\n        });\n      }\n\n      return this._tracks.map(function (track) {\n        return track.outStream;\n      });\n    }\n  }, {\n    key: \"_findSampleBefore\",\n    value: function _findSampleBefore(trackInd, time) {\n      var track = this._tracks[trackInd];\n      var scaledTime = Math.floor(track.timeScale * time);\n      var sample = bs(track.samples, scaledTime, function (sample, t) {\n        var pts = sample.dts + sample.presentationOffset; // - track.editShift\n\n        return pts - t;\n      });\n\n      if (sample === -1) {\n        sample = 0;\n      } else if (sample < 0) {\n        sample = -sample - 2;\n      } // sample is now the last sample with dts <= time\n      // Find the preceeding sync sample\n\n\n      while (!track.samples[sample].sync) {\n        sample--;\n      }\n\n      return sample;\n    }\n  }, {\n    key: \"_generateFragment\",\n    value: function _generateFragment(track, time) {\n      /*\n          1. Find correct sample\n          2. Process backward until sync sample found\n          3. Process forward until next sync sample after MIN_FRAGMENT_DURATION found\n          */\n      var currTrack = this._tracks[track];\n      var firstSample;\n\n      if (time !== undefined) {\n        firstSample = this._findSampleBefore(track, time);\n      } else {\n        firstSample = currTrack.currSample;\n      }\n\n      if (firstSample >= currTrack.samples.length) {\n        return null;\n      }\n\n      var startDts = currTrack.samples[firstSample].dts;\n      var totalLen = 0;\n      var ranges = [];\n\n      for (var currSample = firstSample; currSample < currTrack.samples.length; currSample++) {\n        var sample = currTrack.samples[currSample];\n\n        if (sample.sync && sample.dts - startDts >= currTrack.timeScale * MIN_FRAGMENT_DURATION) {\n          break; // This is a reasonable place to end the fragment\n        }\n\n        totalLen += sample.size;\n        var currRange = ranges.length - 1;\n\n        if (currRange < 0 || ranges[currRange].end !== sample.offset) {\n          // Push a new range\n          ranges.push({\n            start: sample.offset,\n            end: sample.offset + sample.size\n          });\n        } else {\n          ranges[currRange].end += sample.size;\n        }\n      }\n\n      currTrack.currSample = currSample;\n      return {\n        moof: this._generateMoof(track, firstSample, currSample),\n        ranges: ranges,\n        length: totalLen\n      };\n    }\n  }, {\n    key: \"_generateMoof\",\n    value: function _generateMoof(track, firstSample, lastSample) {\n      var currTrack = this._tracks[track];\n      var entries = [];\n      var trunVersion = 0;\n\n      for (var j = firstSample; j < lastSample; j++) {\n        var currSample = currTrack.samples[j];\n\n        if (currSample.presentationOffset < 0) {\n          trunVersion = 1;\n        }\n\n        entries.push({\n          sampleDuration: currSample.duration,\n          sampleSize: currSample.size,\n          sampleFlags: currSample.sync ? 0x2000000 : 0x1010000,\n          sampleCompositionTimeOffset: currSample.presentationOffset\n        });\n      }\n\n      var moof = {\n        type: 'moof',\n        mfhd: {\n          sequenceNumber: currTrack.fragmentSequence++\n        },\n        trafs: [{\n          tfhd: {\n            flags: 0x20000,\n            // default-base-is-moof\n            trackId: currTrack.trackId\n          },\n          tfdt: {\n            baseMediaDecodeTime: currTrack.samples[firstSample].dts\n          },\n          trun: {\n            flags: 0xf01,\n            dataOffset: 8,\n            // The moof size has to be added to this later as well\n            entries: entries,\n            version: trunVersion\n          }\n        }]\n      }; // Update the offset\n\n      moof.trafs[0].trun.dataOffset += Box.encodingLength(moof);\n      return moof;\n    }\n  }]);\n\n  return MP4Remuxer;\n}(EventEmitter);\n\nvar RunLengthIndex = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function RunLengthIndex(entries, countName) {\n    _classCallCheck(this, RunLengthIndex);\n\n    this._entries = entries;\n    this._countName = countName || 'count';\n    this._index = 0;\n    this._offset = 0;\n    this.value = this._entries[0];\n  }\n\n  _createClass(RunLengthIndex, [{\n    key: \"inc\",\n    value: function inc() {\n      this._offset++;\n\n      if (this._offset >= this._entries[this._index][this._countName]) {\n        this._index++;\n        this._offset = 0;\n      }\n\n      this.value = this._entries[this._index];\n    }\n  }]);\n\n  return RunLengthIndex;\n}();\n\nfunction empty() {\n  return {\n    version: 0,\n    flags: 0,\n    entries: []\n  };\n}\n\nvar MIN_FRAGMENT_DURATION = 1; // second\n\nmodule.exports = MP4Remuxer;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import * as React from \"react\"\nimport VideoStream from \"videostream\"\nimport WebTorrent from \"@devcontainer/webtorrent/webtorrent.min\"\n\nconst connect = async (magnetURL: string, videoRef: any) => {\n  const client = new WebTorrent()\n\n  client.add(magnetURL, async function (torrent: any) {\n    console.log(torrent.files)\n    torrent.files.find(function (file: any) {\n      if (file.name.endsWith(\".mp4\")) {\n        if (file.createReadStream) {\n          try {\n            const video = videoRef.current\n            const videostream = new VideoStream(file, video)\n\n            video.addEventListener(\"error\", () => {\n              const errorCode = videostream.error\n              const detailedError = videostream.detailedError\n              console.log(errorCode, detailedError)\n              file.appendTo(\"body\")\n            })\n          } catch (e) {\n            console.log(e)\n          }\n        }\n      }\n    })\n  })\n}\n\nexport const Streamer: React.FC<{ magnetURL: string }> = ({ magnetURL }) => {\n  const video = React.useRef(null)\n\n  React.useEffect(() => {\n    connect(magnetURL, video)\n  }, [])\n  return <video controls ref={video} />\n}\n","import Layout from \"../components/layout\"\nimport React from \"react\"\nimport SEO from \"../components/seo\"\nimport { graphql } from \"gatsby\"\nimport {Streamer} from \"@zed-vision/video-streamer\"\nimport styled from \"styled-components\"\n\nconst StyledStreamer = styled(Streamer)`\nvideo{\n  display: block;\n  width: 100%;\n}\n`\n\nconst StyledTextArea = styled.textarea`\n    display: block;\n    width: 100%\n`\n\ninterface Props {\n  data: {\n    site: {\n      siteMetadata: {\n        title: string\n      }\n    }\n  }\n  location: Location\n}\n\nconst VideoStreamingPage = ({ data, location }: Props) => {\n  const siteTitle = data.site.siteMetadata.title\n\n\n  const magnet = 'magnet:?xt=urn:btih:08ada5a7a6183aae1e09d831df6748d566095a10&dn=Sintel&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.fastcast.nz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com&ws=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2F&xs=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2Fsintel.torrent'\n\n\n  const [magnetURL, changeMagnet] = React.useState(magnet)\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO title=\"404: Not Found\" />\n\n      <StyledStreamer magnetURL={magnetURL} />\n\n      <StyledTextArea value={magnetURL} onChange={(e: any)=>changeMagnet(e.target.value)}></StyledTextArea>\n\n    </Layout>\n  )\n}\n\nexport default VideoStreamingPage\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n","var Buffer = require('buffer').Buffer;\n\nmodule.exports = function (buf) {\n  // If the buffer is backed by a Uint8Array, a faster version will work\n  if (buf instanceof Uint8Array) {\n    // If the buffer isn't a subarray, return the underlying ArrayBuffer\n    if (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n      return buf.buffer;\n    } else if (typeof buf.buffer.slice === 'function') {\n      // Otherwise we need to get a proper copy\n      return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n    }\n  }\n\n  if (Buffer.isBuffer(buf)) {\n    // This is the slow version that will work with any Buffer\n    // implementation (even in old browsers)\n    var arrayCopy = new Uint8Array(buf.length);\n    var len = buf.length;\n\n    for (var i = 0; i < len; i++) {\n      arrayCopy[i] = buf[i];\n    }\n\n    return arrayCopy.buffer;\n  } else {\n    throw new Error('Argument must be a Buffer');\n  }\n};","var tagToName = {\n  0x03: 'ESDescriptor',\n  0x04: 'DecoderConfigDescriptor',\n  0x05: 'DecoderSpecificInfo',\n  0x06: 'SLConfigDescriptor'\n};\nexports.Descriptor = {};\n\nexports.Descriptor.decode = function (buf, start, end) {\n  var tag = buf.readUInt8(start);\n  var ptr = start + 1;\n  var lenByte;\n  var len = 0;\n\n  do {\n    lenByte = buf.readUInt8(ptr++);\n    len = len << 7 | lenByte & 0x7f;\n  } while (lenByte & 0x80);\n\n  var obj;\n  var tagName = tagToName[tag]; // May be undefined; that's ok\n\n  if (exports[tagName]) {\n    obj = exports[tagName].decode(buf, ptr, end);\n  } else {\n    obj = {\n      buffer: Buffer.from(buf.slice(ptr, ptr + len))\n    };\n  }\n\n  obj.tag = tag;\n  obj.tagName = tagName;\n  obj.length = ptr - start + len;\n  obj.contentsLen = len;\n  return obj;\n};\n\nexports.DescriptorArray = {};\n\nexports.DescriptorArray.decode = function (buf, start, end) {\n  var ptr = start;\n  var obj = {};\n\n  while (ptr + 2 <= end) {\n    var descriptor = exports.Descriptor.decode(buf, ptr, end);\n    ptr += descriptor.length;\n    var tagName = tagToName[descriptor.tag] || 'Descriptor' + descriptor.tag;\n    obj[tagName] = descriptor;\n  }\n\n  return obj;\n};\n\nexports.ESDescriptor = {};\n\nexports.ESDescriptor.decode = function (buf, start, end) {\n  var flags = buf.readUInt8(start + 2);\n  var ptr = start + 3;\n\n  if (flags & 0x80) {\n    ptr += 2;\n  }\n\n  if (flags & 0x40) {\n    var len = buf.readUInt8(ptr);\n    ptr += len + 1;\n  }\n\n  if (flags & 0x20) {\n    ptr += 2;\n  }\n\n  return exports.DescriptorArray.decode(buf, ptr, end);\n};\n\nexports.DecoderConfigDescriptor = {};\n\nexports.DecoderConfigDescriptor.decode = function (buf, start, end) {\n  var oti = buf.readUInt8(start);\n  var obj = exports.DescriptorArray.decode(buf, start + 13, end);\n  obj.oti = oti;\n  return obj;\n};","var Decoder = require('./decode');\n\nvar Encoder = require('./encode');\n\nexports.decode = function (opts) {\n  return new Decoder(opts);\n};\n\nexports.encode = function (opts) {\n  return new Encoder(opts);\n};","var MediaElementWrapper = require('mediasource');\n\nvar pump = require('pump');\n\nvar MP4Remuxer = require('./mp4-remuxer');\n\nfunction VideoStream(file, mediaElem) {\n  var _this = this;\n\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!(this instanceof VideoStream)) {\n    console.warn(\"don't invoked VideoStream without 'new'\");\n    return new VideoStream(file, mediaElem, opts);\n  }\n\n  this.detailedError = null;\n  this._elem = mediaElem;\n  this._elemWrapper = new MediaElementWrapper(mediaElem);\n  this._waitingFired = false;\n  this._trackMeta = null;\n  this._file = file;\n  this._tracks = null;\n\n  if (this._elem.preload !== 'none') {\n    this._createMuxer();\n  }\n\n  this._onError = function () {\n    _this.detailedError = _this._elemWrapper.detailedError;\n\n    _this.destroy(); // don't pass err though so the user doesn't need to listen for errors\n\n  };\n\n  this._onWaiting = function () {\n    _this._waitingFired = true;\n\n    if (!_this._muxer) {\n      _this._createMuxer();\n    } else if (_this._tracks) {\n      _this._pump();\n    }\n  };\n\n  if (mediaElem.autoplay) {\n    mediaElem.preload = 'auto';\n  }\n\n  mediaElem.addEventListener('waiting', this._onWaiting);\n  mediaElem.addEventListener('error', this._onError);\n}\n\nVideoStream.prototype = {\n  _createMuxer: function _createMuxer() {\n    var _this2 = this;\n\n    this._muxer = new MP4Remuxer(this._file);\n\n    this._muxer.on('ready', function (data) {\n      _this2._tracks = data.map(function (trackData) {\n        var mediaSource = _this2._elemWrapper.createWriteStream(trackData.mime);\n\n        mediaSource.on('error', function (err) {\n          _this2._elemWrapper.error(err);\n        });\n        var track = {\n          muxed: null,\n          mediaSource: mediaSource,\n          initFlushed: false,\n          onInitFlushed: null\n        };\n        mediaSource.write(trackData.init, function (err) {\n          track.initFlushed = true;\n\n          if (track.onInitFlushed) {\n            track.onInitFlushed(err);\n          }\n        });\n        return track;\n      });\n\n      if (_this2._waitingFired || _this2._elem.preload === 'auto') {\n        _this2._pump();\n      }\n    });\n\n    this._muxer.on('error', function (err) {\n      _this2._elemWrapper.error(err);\n    });\n  },\n  _pump: function _pump() {\n    var _this3 = this;\n\n    var muxed = this._muxer.seek(this._elem.currentTime, !this._tracks);\n\n    this._tracks.forEach(function (track, i) {\n      var pumpTrack = function pumpTrack() {\n        if (track.muxed) {\n          track.muxed.destroy();\n          track.mediaSource = _this3._elemWrapper.createWriteStream(track.mediaSource);\n          track.mediaSource.on('error', function (err) {\n            _this3._elemWrapper.error(err);\n          });\n        }\n\n        track.muxed = muxed[i];\n        pump(track.muxed, track.mediaSource);\n      };\n\n      if (!track.initFlushed) {\n        track.onInitFlushed = function (err) {\n          if (err) {\n            _this3._elemWrapper.error(err);\n\n            return;\n          }\n\n          pumpTrack();\n        };\n      } else {\n        pumpTrack();\n      }\n    });\n  },\n  destroy: function destroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n\n    this._elem.removeEventListener('waiting', this._onWaiting);\n\n    this._elem.removeEventListener('error', this._onError);\n\n    if (this._tracks) {\n      this._tracks.forEach(function (track) {\n        if (track.muxed) {\n          track.muxed.destroy();\n        }\n      });\n    }\n\n    this._elem.src = '';\n  }\n};\nmodule.exports = VideoStream;","// var assert = require('assert')\nvar uint64be = require('uint64be');\n\nvar boxes = require('./boxes');\n\nvar UINT32_MAX = 4294967295;\nvar Box = exports;\n/*\n * Lists the proper order for boxes inside containers.\n * Five-character names ending in 's' indicate arrays instead of single elements.\n */\n\nvar containers = exports.containers = {\n  'moov': ['mvhd', 'meta', 'traks', 'mvex'],\n  'trak': ['tkhd', 'tref', 'trgr', 'edts', 'meta', 'mdia', 'udta'],\n  'edts': ['elst'],\n  'mdia': ['mdhd', 'hdlr', 'elng', 'minf'],\n  'minf': ['vmhd', 'smhd', 'hmhd', 'sthd', 'nmhd', 'dinf', 'stbl'],\n  'dinf': ['dref'],\n  'stbl': ['stsd', 'stts', 'ctts', 'cslg', 'stsc', 'stsz', 'stz2', 'stco', 'co64', 'stss', 'stsh', 'padb', 'stdp', 'sdtp', 'sbgps', 'sgpds', 'subss', 'saizs', 'saios'],\n  'mvex': ['mehd', 'trexs', 'leva'],\n  'moof': ['mfhd', 'meta', 'trafs'],\n  'traf': ['tfhd', 'tfdt', 'trun', 'sbgps', 'sgpds', 'subss', 'saizs', 'saios', 'meta']\n};\n\nBox.encode = function (obj, buffer, offset) {\n  Box.encodingLength(obj); // sets every level appropriately\n\n  offset = offset || 0;\n  buffer = buffer || Buffer.alloc(obj.length);\n  return Box._encode(obj, buffer, offset);\n};\n\nBox._encode = function (obj, buffer, offset) {\n  var type = obj.type;\n  var len = obj.length;\n\n  if (len > UINT32_MAX) {\n    len = 1;\n  }\n\n  buffer.writeUInt32BE(len, offset);\n  buffer.write(obj.type, offset + 4, 4, 'ascii');\n  var ptr = offset + 8;\n\n  if (len === 1) {\n    uint64be.encode(obj.length, buffer, ptr);\n    ptr += 8;\n  }\n\n  if (boxes.fullBoxes[type]) {\n    buffer.writeUInt32BE(obj.flags || 0, ptr);\n    buffer.writeUInt8(obj.version || 0, ptr);\n    ptr += 4;\n  }\n\n  if (containers[type]) {\n    var contents = containers[type];\n    contents.forEach(function (childType) {\n      if (childType.length === 5) {\n        var entry = obj[childType] || [];\n        childType = childType.substr(0, 4);\n        entry.forEach(function (child) {\n          Box._encode(child, buffer, ptr);\n\n          ptr += Box.encode.bytes;\n        });\n      } else if (obj[childType]) {\n        Box._encode(obj[childType], buffer, ptr);\n\n        ptr += Box.encode.bytes;\n      }\n    });\n\n    if (obj.otherBoxes) {\n      obj.otherBoxes.forEach(function (child) {\n        Box._encode(child, buffer, ptr);\n\n        ptr += Box.encode.bytes;\n      });\n    }\n  } else if (boxes[type]) {\n    var encode = boxes[type].encode;\n    encode(obj, buffer, ptr);\n    ptr += encode.bytes;\n  } else if (obj.buffer) {\n    var buf = obj.buffer;\n    buf.copy(buffer, ptr);\n    ptr += obj.buffer.length;\n  } else {\n    throw new Error('Either `type` must be set to a known type (not\\'' + type + '\\') or `buffer` must be set');\n  }\n\n  Box.encode.bytes = ptr - offset; // assert.equal(ptr - offset, obj.length, 'Error encoding \\'' + type + '\\': wrote ' + ptr - offset + ' bytes, expecting ' + obj.length)\n\n  return buffer;\n};\n/*\n * Returns an object with `type` and `size` fields,\n * or if there isn't enough data, returns the total\n * number of bytes needed to read the headers\n */\n\n\nBox.readHeaders = function (buffer, start, end) {\n  start = start || 0;\n  end = end || buffer.length;\n\n  if (end - start < 8) {\n    return 8;\n  }\n\n  var len = buffer.readUInt32BE(start);\n  var type = buffer.toString('ascii', start + 4, start + 8);\n  var ptr = start + 8;\n\n  if (len === 1) {\n    if (end - start < 16) {\n      return 16;\n    }\n\n    len = uint64be.decode(buffer, ptr);\n    ptr += 8;\n  }\n\n  var version;\n  var flags;\n\n  if (boxes.fullBoxes[type]) {\n    version = buffer.readUInt8(ptr);\n    flags = buffer.readUInt32BE(ptr) & 0xffffff;\n    ptr += 4;\n  }\n\n  return {\n    length: len,\n    headersLen: ptr - start,\n    contentLen: len - (ptr - start),\n    type: type,\n    version: version,\n    flags: flags\n  };\n};\n\nBox.decode = function (buffer, start, end) {\n  start = start || 0;\n  end = end || buffer.length;\n  var headers = Box.readHeaders(buffer, start, end);\n\n  if (!headers || headers.length > end - start) {\n    throw new Error('Data too short');\n  }\n\n  return Box.decodeWithoutHeaders(headers, buffer, start + headers.headersLen, start + headers.length);\n};\n\nBox.decodeWithoutHeaders = function (headers, buffer, start, end) {\n  start = start || 0;\n  end = end || buffer.length;\n  var type = headers.type;\n  var obj = {};\n\n  if (containers[type]) {\n    obj.otherBoxes = [];\n    var contents = containers[type];\n    var ptr = start;\n\n    while (end - ptr >= 8) {\n      var child = Box.decode(buffer, ptr, end);\n      ptr += child.length;\n\n      if (contents.indexOf(child.type) >= 0) {\n        obj[child.type] = child;\n      } else if (contents.indexOf(child.type + 's') >= 0) {\n        var childType = child.type + 's';\n        var entry = obj[childType] = obj[childType] || [];\n        entry.push(child);\n      } else {\n        obj.otherBoxes.push(child);\n      }\n    }\n  } else if (boxes[type]) {\n    var decode = boxes[type].decode;\n    obj = decode(buffer, start, end);\n  } else {\n    obj.buffer = Buffer.from(buffer.slice(start, end));\n  }\n\n  obj.length = headers.length;\n  obj.contentLen = headers.contentLen;\n  obj.type = headers.type;\n  obj.version = headers.version;\n  obj.flags = headers.flags;\n  return obj;\n};\n\nBox.encodingLength = function (obj) {\n  var type = obj.type;\n  var len = 8;\n\n  if (boxes.fullBoxes[type]) {\n    len += 4;\n  }\n\n  if (containers[type]) {\n    var contents = containers[type];\n    contents.forEach(function (childType) {\n      if (childType.length === 5) {\n        var entry = obj[childType] || [];\n        childType = childType.substr(0, 4);\n        entry.forEach(function (child) {\n          child.type = childType;\n          len += Box.encodingLength(child);\n        });\n      } else if (obj[childType]) {\n        var child = obj[childType];\n        child.type = childType;\n        len += Box.encodingLength(child);\n      }\n    });\n\n    if (obj.otherBoxes) {\n      obj.otherBoxes.forEach(function (child) {\n        len += Box.encodingLength(child);\n      });\n    }\n  } else if (boxes[type]) {\n    len += boxes[type].encodingLength(obj);\n  } else if (obj.buffer) {\n    len += obj.buffer.length;\n  } else {\n    throw new Error('Either `type` must be set to a known type (not\\'' + type + '\\') or `buffer` must be set');\n  }\n\n  if (len > UINT32_MAX) {\n    len += 8;\n  }\n\n  obj.length = len;\n  return len;\n};","module.exports = nextEvent;\n\nfunction nextEvent(emitter, name) {\n  var next = null;\n  emitter.on(name, function (data) {\n    if (!next) return;\n    var fn = next;\n    next = null;\n    fn(data);\n  });\n  return function (once) {\n    next = once;\n  };\n}","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","module.exports = function (haystack, needle, comparator, low, high) {\n  var mid, cmp;\n  if (low === undefined) low = 0;else {\n    low = low | 0;\n    if (low < 0 || low >= haystack.length) throw new RangeError(\"invalid lower bound\");\n  }\n  if (high === undefined) high = haystack.length - 1;else {\n    high = high | 0;\n    if (high < low || high >= haystack.length) throw new RangeError(\"invalid upper bound\");\n  }\n\n  while (low <= high) {\n    // The naive `low + high >>> 1` could fail for array lengths > 2**31\n    // because `>>>` converts its operands to int32. `low + (high - low >>> 1)`\n    // works for array lengths <= 2**32-1 which is also Javascript's max array\n    // length.\n    mid = low + (high - low >>> 1);\n    cmp = +comparator(haystack[mid], needle, mid, haystack); // Too low.\n\n    if (cmp < 0.0) low = mid + 1; // Too high.\n    else if (cmp > 0.0) high = mid - 1; // Key found.\n      else return mid;\n  } // Key not found.\n\n\n  return ~low;\n};","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n\n      var TempCtor = function TempCtor() {};\n\n      TempCtor.prototype = superCtor.prototype;\n      ctor.prototype = new TempCtor();\n      ctor.prototype.constructor = ctor;\n    }\n  };\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.once = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    ;\n    var errorListener; // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar stream = require('readable-stream');\n\nvar nextEvent = require('next-event');\n\nvar Box = require('mp4-box-encoding');\n\nvar EMPTY = Buffer.alloc(0);\n\nvar Decoder = /*#__PURE__*/function (_stream$Writable) {\n  \"use strict\";\n\n  _inherits(Decoder, _stream$Writable);\n\n  var _super = _createSuper(Decoder);\n\n  function Decoder(opts) {\n    var _this;\n\n    _classCallCheck(this, Decoder);\n\n    _this = _super.call(this, opts);\n    _this.destroyed = false;\n    _this._pending = 0;\n    _this._missing = 0;\n    _this._ignoreEmpty = false;\n    _this._buf = null;\n    _this._str = null;\n    _this._cb = null;\n    _this._ondrain = null;\n    _this._writeBuffer = null;\n    _this._writeCb = null;\n    _this._ondrain = null;\n\n    _this._kick();\n\n    return _this;\n  }\n\n  _createClass(Decoder, [{\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }, {\n    key: \"_write\",\n    value: function _write(data, enc, next) {\n      if (this.destroyed) return;\n      var drained = !this._str || !this._str._writableState.needDrain;\n\n      while (data.length && !this.destroyed) {\n        if (!this._missing && !this._ignoreEmpty) {\n          this._writeBuffer = data;\n          this._writeCb = next;\n          return;\n        }\n\n        var consumed = data.length < this._missing ? data.length : this._missing;\n        if (this._buf) data.copy(this._buf, this._buf.length - this._missing);else if (this._str) drained = this._str.write(consumed === data.length ? data : data.slice(0, consumed));\n        this._missing -= consumed;\n\n        if (!this._missing) {\n          var buf = this._buf;\n          var cb = this._cb;\n          var stream = this._str;\n          this._buf = this._cb = this._str = this._ondrain = null;\n          drained = true;\n          this._ignoreEmpty = false;\n          if (stream) stream.end();\n          if (cb) cb(buf);\n        }\n\n        data = consumed === data.length ? EMPTY : data.slice(consumed);\n      }\n\n      if (this._pending && !this._missing) {\n        this._writeBuffer = data;\n        this._writeCb = next;\n        return;\n      }\n\n      if (drained) next();else this._ondrain(next);\n    }\n  }, {\n    key: \"_buffer\",\n    value: function _buffer(size, cb) {\n      this._missing = size;\n      this._buf = Buffer.alloc(size);\n      this._cb = cb;\n    }\n  }, {\n    key: \"_stream\",\n    value: function _stream(size, cb) {\n      var _this2 = this;\n\n      this._missing = size;\n      this._str = new MediaData(this);\n      this._ondrain = nextEvent(this._str, 'drain');\n      this._pending++;\n\n      this._str.on('end', function () {\n        _this2._pending--;\n\n        _this2._kick();\n      });\n\n      this._cb = cb;\n      return this._str;\n    }\n  }, {\n    key: \"_readBox\",\n    value: function _readBox() {\n      var _this3 = this;\n\n      var bufferHeaders = function bufferHeaders(len, buf) {\n        _this3._buffer(len, function (additionalBuf) {\n          if (buf) {\n            buf = Buffer.concat([buf, additionalBuf]);\n          } else {\n            buf = additionalBuf;\n          }\n\n          var headers = Box.readHeaders(buf);\n\n          if (typeof headers === 'number') {\n            bufferHeaders(headers - buf.length, buf);\n          } else {\n            _this3._pending++;\n            _this3._headers = headers;\n\n            _this3.emit('box', headers);\n          }\n        });\n      };\n\n      bufferHeaders(8);\n    }\n  }, {\n    key: \"stream\",\n    value: function stream() {\n      if (!this._headers) throw new Error('this function can only be called once after \\'box\\' is emitted');\n      var headers = this._headers;\n      this._headers = null;\n      return this._stream(headers.contentLen, null);\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(cb) {\n      var _this4 = this;\n\n      if (!this._headers) throw new Error('this function can only be called once after \\'box\\' is emitted');\n      var headers = this._headers;\n      this._headers = null;\n\n      this._buffer(headers.contentLen, function (buf) {\n        var box = Box.decodeWithoutHeaders(headers, buf);\n        cb(box);\n        _this4._pending--;\n\n        _this4._kick();\n      });\n    }\n  }, {\n    key: \"ignore\",\n    value: function ignore() {\n      var _this5 = this;\n\n      if (!this._headers) throw new Error('this function can only be called once after \\'box\\' is emitted');\n      var headers = this._headers;\n      this._headers = null;\n      this._missing = headers.contentLen;\n\n      if (this._missing === 0) {\n        this._ignoreEmpty = true;\n      }\n\n      this._cb = function () {\n        _this5._pending--;\n\n        _this5._kick();\n      };\n    }\n  }, {\n    key: \"_kick\",\n    value: function _kick() {\n      if (this._pending) return;\n      if (!this._buf && !this._str) this._readBox();\n\n      if (this._writeBuffer) {\n        var next = this._writeCb;\n        var buffer = this._writeBuffer;\n        this._writeBuffer = null;\n        this._writeCb = null;\n\n        this._write(buffer, null, next);\n      }\n    }\n  }]);\n\n  return Decoder;\n}(stream.Writable);\n\nvar MediaData = /*#__PURE__*/function (_stream$PassThrough) {\n  \"use strict\";\n\n  _inherits(MediaData, _stream$PassThrough);\n\n  var _super2 = _createSuper(MediaData);\n\n  function MediaData(parent) {\n    var _this6;\n\n    _classCallCheck(this, MediaData);\n\n    _this6 = _super2.call(this);\n    _this6._parent = parent;\n    _this6.destroyed = false;\n    return _this6;\n  }\n\n  _createClass(MediaData, [{\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n\n      this._parent.destroy(err);\n\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }]);\n\n  return MediaData;\n}(stream.PassThrough);\n\nmodule.exports = Decoder;","/* Node.js 6.4.0 and up has full support */\nvar hasFullSupport = function () {\n  try {\n    if (!Buffer.isEncoding('latin1')) {\n      return false;\n    }\n\n    var buf = Buffer.alloc ? Buffer.alloc(4) : new Buffer(4);\n    buf.fill('ab', 'ucs2');\n    return buf.toString('hex') === '61006200';\n  } catch (_) {\n    return false;\n  }\n}();\n\nfunction isSingleByte(val) {\n  return val.length === 1 && val.charCodeAt(0) < 256;\n}\n\nfunction fillWithNumber(buffer, val, start, end) {\n  if (start < 0 || end > buffer.length) {\n    throw new RangeError('Out of range index');\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? buffer.length : end >>> 0;\n\n  if (end > start) {\n    buffer.fill(val, start, end);\n  }\n\n  return buffer;\n}\n\nfunction fillWithBuffer(buffer, val, start, end) {\n  if (start < 0 || end > buffer.length) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return buffer;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? buffer.length : end >>> 0;\n  var pos = start;\n  var len = val.length;\n\n  while (pos <= end - len) {\n    val.copy(buffer, pos);\n    pos += len;\n  }\n\n  if (pos !== end) {\n    val.copy(buffer, pos, 0, end - pos);\n  }\n\n  return buffer;\n}\n\nfunction fill(buffer, val, start, end, encoding) {\n  if (hasFullSupport) {\n    return buffer.fill(val, start, end, encoding);\n  }\n\n  if (typeof val === 'number') {\n    return fillWithNumber(buffer, val, start, end);\n  }\n\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = buffer.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = buffer.length;\n    }\n\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string');\n    }\n\n    if (encoding === 'latin1') {\n      encoding = 'binary';\n    }\n\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding);\n    }\n\n    if (val === '') {\n      return fillWithNumber(buffer, 0, start, end);\n    }\n\n    if (isSingleByte(val)) {\n      return fillWithNumber(buffer, val.charCodeAt(0), start, end);\n    }\n\n    val = new Buffer(val, encoding);\n  }\n\n  if (Buffer.isBuffer(val)) {\n    return fillWithBuffer(buffer, val, start, end);\n  } // Other values (e.g. undefined, boolean, object) results in zero-fill\n\n\n  return fillWithNumber(buffer, 0, start, end);\n}\n\nmodule.exports = fill;"],"sourceRoot":""}