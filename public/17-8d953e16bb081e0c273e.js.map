{"version":3,"sources":["webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-stream/encode.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/buffer-alloc-unsafe/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/errors-browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/string_decoder/lib/string_decoder.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_transform.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-box-encoding/boxes.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mediasource/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/readable-browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/pump/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/safe-buffer/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/wrappy/wrappy.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/once/once.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/util-deprecate/browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/buffer-alloc/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/uint64be/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/range-slice-stream/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/end-of-stream/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/videostream/mp4-remuxer.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/to-arraybuffer/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-box-encoding/descriptor.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-stream/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/videostream/videostream.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-box-encoding/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/next-event/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/internal/streams/state.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/binary-search/index.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/inherits/inherits_browser.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_readable.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/events/events.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_passthrough.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_writable.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/readable-stream/lib/_stream_duplex.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/mp4-stream/decode.js","webpack:////home/zed/Developer/zed-vision-site/node_modules/buffer-fill/index.js"],"names":["module","exports","EventEmitter","_createClass","_inherits","_possibleConstructorReturn","_getPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","stream","Box","noop","Encoder","_stream$Readable","_super","opts","_this","_classCallCheck","destroyed","_finalized","_reading","_stream","_drain","_want","_onreadable","_read","_onend","key","value","size","cb","mediaData","MediaData","box","type","contentLength","encodeBufferLen","_box","Error","buf","Buffer","alloc","buffer","encode","push","on","_forward","process","nextTick","err","destroy","emit","read","drain","Readable","_stream$PassThrough","_super2","parent","_this2","_parent","PassThrough","TypeError","RangeError","allocUnsafe","codes","createErrorType","code","message","Base","NodeError","_Base","subClass","superClass","arg1","arg2","arg3","getMessage","Object","create","__proto__","name","oneOf","expected","thing","Array","isArray","len","length","map","i","String","concat","slice","join","actual","determiner","search","pos","msg","substr","replace","str","this_len","undefined","substring","endsWith","start","indexOf","includes","arg","isEncoding","encoding","toLowerCase","StringDecoder","nb","enc","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","end","utf16End","fillLast","utf8FillLast","base64Text","base64End","write","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","p","r","self","utf8CheckExtraBytes","copy","c","charCodeAt","n","total","j","utf8CheckIncomplete","setPrototypeOf","writable","configurable","_setPrototypeOf","o","eos","_require$codes","ERR_MISSING_ARGS","ERR_STREAM_DESTROYED","destroyer","reading","writing","callback","called","once","closed","readable","setHeader","abort","isRequest","fn","pipe","from","to","popCallback","streams","pop","_len","_key","error","destroys","forEach","reduce","Transform","ERR_METHOD_NOT_IMPLEMENTED","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","Duplex","afterTransform","er","data","ts","_transformState","transforming","writecb","writechunk","rs","_readableState","needReadable","highWaterMark","options","bind","needTransform","writeencoding","sync","transform","_transform","flush","_flush","prefinish","done","_writableState","chunk","_write","_destroy","err2","getPrototypeOf","Descriptor","uint64be","fullBoxes","writeReserved","offset","writeDate","date","writeUInt32BE","Math","floor","getTime","writeDate64","writeUIntBE","writeFixed32","num","writeUInt16BE","writeMatrix","list","readMatrix","readFixed32","readDate64","readUIntBE","readDate","readUInt32BE","readUInt16BE","readFixed16","readString","ftyp","encodingLength","brands","compatibleBrands","brand","brandVersion","bytes","decode","version","mvhd","ctime","mtime","timeScale","duration","preferredRate","writeFixed16","preferredVolume","matrix","previewTime","previewDuration","posterTime","selectionTime","selectionDuration","currentTime","nextTrackId","tkhd","trackId","layer","alternateGroup","volume","trackWidth","trackHeight","mdhd","language","quality","vmhd","graphicsMode","opcolor","smhd","balance","stsd","entries","ptr","entry","totalSize","avc1","VisualSampleEntry","dataReferenceIndex","width","height","hResolution","vResolution","frameCount","compressorName","nameLen","min","writeUInt8","depth","writeInt16BE","children","child","readUInt8","avcC","mimeCodec","mp4a","AudioSampleEntry","channelCount","sampleSize","sampleRate","esds","desc","dcd","tagName","DecoderConfigDescriptor","oti","dsi","DecoderSpecificInfo","audioConfig","stsz","stss","stco","co64","stts","count","ctts","compositionOffset","readInt32BE","stsc","firstChunk","samplesPerChunk","sampleDescriptionId","dref","tmp","elst","trackDuration","mediaTime","mediaRate","hdlr","fill","handlerType","strBuffer","writeString","mehd","fragmentDuration","trex","defaultSampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","mfhd","sequenceNumber","tfhd","tfdt","baseMediaDecodeTime","trun","writeInt32BE","dataOffset","sampleDuration","sampleFlags","sampleCompositionTimeOffset","mdat","MediaElementWrapper","inherits","toArrayBuffer","MediaSource","window","elem","_debug","debug","_bufferDuration","bufferDuration","_elem","_mediaSource","_streams","detailedError","_errorHandler","removeEventListener","addEventListener","src","URL","createObjectURL","MediaSourceStream","wrapper","obj","Writable","_wrapper","_allStreams","_sourceBuffer","_debugBuffers","_openHandler","_onSourceOpen","_flowHandler","_flow","_type","readyState","_createSourceBuffer","_finished","every","other","_dumpDebugData","endOfStream","createWriteStream","revokeObjectURL","bufs","a","document","createElement","href","Blob","download","click","splice","isTypeSupported","addSourceBuffer","_cb","updating","arr","appendBuffer","_getBufferDuration","buffered","bufferEnd","bufferedTime","Stream","finished","pipeline","fs","ancient","test","isFn","ReadStream","WriteStream","close","isFS","copyProps","dst","SafeBuffer","encodingOrOffset","allocUnsafeSlow","SlowBuffer","wrappy","keys","k","args","ret","f","onceStrict","onceError","strict","proto","defineProperty","Function","_typeof","assertThisInitialized","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","emitClose","readableDestroyed","writableDestroyed","errorEmitted","undestroy","ended","endEmitted","ending","finalCalled","prefinished","errorOrDestroy","rState","wState","autoDestroy","config","global","localStorage","_","val","warned","console","trace","warn","ERR_STREAM_PREMATURE_CLOSE","onlegacyfinish","onfinish","writableEnded","readableEnded","onend","onerror","onclose","onrequest","req","removeListener","bufferFill","instance","Constructor","bufferAlloc","UINT_32_MAX","pow","top","rem","_Object$setPrototypeO","_defineProperty","enumerable","kLastResolve","Symbol","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","iter","resolve","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","next","Promise","reject","promise","lastPromise","then","wrapForNext","asyncIterator","_Object$create","iterator","_defineProperties","target","props","descriptor","protoProps","staticProps","_require","RangeSliceStream","_Writable","_queue","_position","_buffer","_out","drained","currRange","writeStart","max","writeEnd","toWrite","last","shift","ranges","range","ws","cancelled","onexit","exitCode","onclosenexttick","stdio","isChildProcess","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","inspect","custom","BufferList","head","tail","v","s","hasStrings","_getString","_getBuffer","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","customInspect","bs","mp4","MP4Remuxer","_EventEmitter","file","_tracks","_file","_decoder","_findMoov","toSkip","fileStream","createReadStream","boxHandler","headers","moov","_processMoov","ignore","traks","_hasVideo","_hasAudio","trak","stbl","mdia","minf","stsdEntry","codec","mime","samples","sample","sampleInChunk","offsetInChunk","sampleToChunkIndex","dts","decodingTimeEntry","RunLengthIndex","presentationOffsetEntry","syncSampleIndex","currChunkEntry","presentationOffset","chunkOffsetTable","nextChunkEntry","inc","trackMoov","elng","dinf","flags","mvex","trexs","fragmentSequence","currSample","currTime","_ftyp","ftypBuf","track","moovBuf","init","time","_this3","_fileStream","startOffset","outStream","inStream","fragment","_generateFragment","finalize","writeFragment","frag","moof","nextFrag","trackInd","scaledTime","t","firstSample","currTrack","_findSampleBefore","startDts","totalLen","MIN_FRAGMENT_DURATION","_generateMoof","lastSample","trunVersion","trafs","countName","_entries","_countName","_index","_offset","Uint8Array","byteOffset","byteLength","isBuffer","arrayCopy","lenByte","tag","tagToName","contentsLen","DescriptorArray","ESDescriptor","Decoder","pump","VideoStream","mediaElem","_elemWrapper","_waitingFired","_trackMeta","preload","_createMuxer","_onError","_onWaiting","_muxer","_pump","autoplay","trackData","mediaSource","muxed","initFlushed","onInitFlushed","seek","pumpTrack","boxes","containers","_encode","childType","otherBoxes","readHeaders","headersLen","contentLen","decodeWithoutHeaders","contents","emitter","ERR_INVALID_OPT_VALUE","getHighWaterMark","state","duplexKey","isDuplex","hwm","highWaterMarkFrom","isFinite","objectMode","haystack","needle","comparator","low","high","mid","cmp","ctor","superCtor","super_","TempCtor","ReadableState","EElistenerCount","listeners","OurUint8Array","debugUtil","debuglog","createReadableStreamAsyncIterator","destroyImpl","ERR_INVALID_ARG_TYPE","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kProxyEvents","readableObjectMode","pipes","pipesCount","flowing","emittedReadable","readableListening","resumeScheduled","paused","defaultEncoding","awaitDrain","readingMore","decoder","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","unshift","get","set","_undestroy","isPaused","setEncoding","content","clear","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","listenerCount","resume","nReadingNextTick","resume_","fromList","first","consume","endReadable","endReadableNT","xs","x","l","parseInt","nOrig","doRead","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","ondrain","ondata","cleanedUp","needDrain","pipeOnDrain","pause","event","prependListener","_events","dests","index","ev","res","addListener","removeAllListeners","wrap","method","_fromList","iterable","ReflectOwnKeys","R","ReflectApply","receiver","getOwnPropertyNames","NumberIsNaN","Number","isNaN","eventListener","errorListener","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","m","events","existing","warning","newListener","w","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","setMaxListeners","getMaxListeners","doError","context","handler","prependOnceListener","position","originalListener","spliceOne","off","rawListeners","eventNames","CorkedRequest","finish","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","WritableState","internalUtil","deprecate","realHasInstance","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","noDecode","decodeStrings","corked","bufferProcessing","onwrite","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","getBuffer","current","out","hasInstance","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","objectKeys","allowHalfOpen","onEndNT","nextEvent","EMPTY","_stream$Writable","_pending","_missing","_ignoreEmpty","_buf","_str","_ondrain","_writeBuffer","_writeCb","_kick","consumed","bufferHeaders","additionalBuf","_headers","_this4","_this5","_readBox","_this6","hasFullSupport","fillWithNumber","isSingleByte","fillWithBuffer"],"mappings":"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","file":"17-8d953e16bb081e0c273e.js","sourcesContent":["module.exports = require('events').EventEmitter;","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar stream = require('readable-stream');\n\nvar Box = require('mp4-box-encoding');\n\nfunction noop() {}\n\nvar Encoder = /*#__PURE__*/function (_stream$Readable) {\n  \"use strict\";\n\n  _inherits(Encoder, _stream$Readable);\n\n  var _super = _createSuper(Encoder);\n\n  function Encoder(opts) {\n    var _this;\n\n    _classCallCheck(this, Encoder);\n\n    _this = _super.call(this, opts);\n    _this.destroyed = false;\n    _this._finalized = false;\n    _this._reading = false;\n    _this._stream = null;\n    _this._drain = null;\n    _this._want = false;\n\n    _this._onreadable = function () {\n      if (!_this._want) return;\n      _this._want = false;\n\n      _this._read();\n    };\n\n    _this._onend = function () {\n      _this._stream = null;\n    };\n\n    return _this;\n  }\n\n  _createClass(Encoder, [{\n    key: \"mdat\",\n    value: function mdat(size, cb) {\n      this.mediaData(size, cb);\n    }\n  }, {\n    key: \"mediaData\",\n    value: function mediaData(size, cb) {\n      var stream = new MediaData(this);\n      this.box({\n        type: 'mdat',\n        contentLength: size,\n        encodeBufferLen: 8,\n        stream: stream\n      }, cb);\n      return stream;\n    }\n  }, {\n    key: \"box\",\n    value: function box(_box, cb) {\n      if (!cb) cb = noop;\n      if (this.destroyed) return cb(new Error('Encoder is destroyed'));\n      var buf;\n\n      if (_box.encodeBufferLen) {\n        buf = Buffer.alloc(_box.encodeBufferLen);\n      }\n\n      if (_box.stream) {\n        _box.buffer = null;\n        buf = Box.encode(_box, buf);\n        this.push(buf);\n        this._stream = _box.stream;\n\n        this._stream.on('readable', this._onreadable);\n\n        this._stream.on('end', this._onend);\n\n        this._stream.on('end', cb);\n\n        this._forward();\n      } else {\n        buf = Box.encode(_box, buf);\n        var drained = this.push(buf);\n        if (drained) return process.nextTick(cb);\n        this._drain = cb;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n      if (this._stream && this._stream.destroy) this._stream.destroy();\n      this._stream = null;\n\n      if (this._drain) {\n        var cb = this._drain;\n        this._drain = null;\n        cb(err);\n      }\n\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this._finalized = true;\n\n      if (!this._stream && !this._drain) {\n        this.push(null);\n      }\n    }\n  }, {\n    key: \"_forward\",\n    value: function _forward() {\n      if (!this._stream) return;\n\n      while (!this.destroyed) {\n        var buf = this._stream.read();\n\n        if (!buf) {\n          this._want = !!this._stream;\n          return;\n        }\n\n        if (!this.push(buf)) return;\n      }\n    }\n  }, {\n    key: \"_read\",\n    value: function _read() {\n      if (this._reading || this.destroyed) return;\n      this._reading = true;\n      if (this._stream) this._forward();\n\n      if (this._drain) {\n        var drain = this._drain;\n        this._drain = null;\n        drain();\n      }\n\n      this._reading = false;\n\n      if (this._finalized) {\n        this.push(null);\n      }\n    }\n  }]);\n\n  return Encoder;\n}(stream.Readable);\n\nvar MediaData = /*#__PURE__*/function (_stream$PassThrough) {\n  \"use strict\";\n\n  _inherits(MediaData, _stream$PassThrough);\n\n  var _super2 = _createSuper(MediaData);\n\n  function MediaData(parent) {\n    var _this2;\n\n    _classCallCheck(this, MediaData);\n\n    _this2 = _super2.call(this);\n    _this2._parent = parent;\n    _this2.destroyed = false;\n    return _this2;\n  }\n\n  _createClass(MediaData, [{\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n\n      this._parent.destroy(err);\n\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }]);\n\n  return MediaData;\n}(stream.PassThrough);\n\nmodule.exports = Encoder;","function allocUnsafe(size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  }\n\n  if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n\n  if (Buffer.allocUnsafe) {\n    return Buffer.allocUnsafe(size);\n  } else {\n    return new Buffer(size);\n  }\n}\n\nmodule.exports = allocUnsafe;","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError = /*#__PURE__*/function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n    case 'raw':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n\n      default:\n        if (retried) return; // undefined\n\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n}\n\n; // Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\n\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n} // StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\n\n\nexports.StringDecoder = StringDecoder;\n\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End; // Returns only complete characters in a Buffer\n\nStringDecoder.prototype.text = utf8Text; // Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\n\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n}; // Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\n\n\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n} // Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\n\n\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n\n    return nb;\n  }\n\n  return 0;\n} // Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\n\n\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return \"\\uFFFD\";\n  }\n\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return \"\\uFFFD\";\n    }\n\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return \"\\uFFFD\";\n      }\n    }\n  }\n} // Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\n\n\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n} // Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\n\n\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n} // For UTF-8, a replacement character is added when ending on a partial\n// character.\n\n\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + \"\\uFFFD\";\n  return r;\n} // UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\n\n\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n\n    return r;\n  }\n\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n} // For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\n\n\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n} // Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\n\n\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","// This is an intentionally recursive require. I don't like it either.\nvar Box = require('./index');\n\nvar Descriptor = require('./descriptor');\n\nvar uint64be = require('uint64be');\n\nvar TIME_OFFSET = 2082844800000;\n/*\nTODO:\ntest these\nadd new box versions\n*/\n// These have 'version' and 'flags' fields in the headers\n\nexports.fullBoxes = {};\nvar fullBoxes = ['mvhd', 'tkhd', 'mdhd', 'vmhd', 'smhd', 'stsd', 'esds', 'stsz', 'stco', 'co64', 'stss', 'stts', 'ctts', 'stsc', 'dref', 'elst', 'hdlr', 'mehd', 'trex', 'mfhd', 'tfhd', 'tfdt', 'trun'];\nfullBoxes.forEach(function (type) {\n  exports.fullBoxes[type] = true;\n});\nexports.ftyp = {};\n\nexports.ftyp.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.ftyp.encodingLength(box));\n  var brands = box.compatibleBrands || [];\n  buf.write(box.brand, 0, 4, 'ascii');\n  buf.writeUInt32BE(box.brandVersion, 4);\n\n  for (var i = 0; i < brands.length; i++) {\n    buf.write(brands[i], 8 + i * 4, 4, 'ascii');\n  }\n\n  exports.ftyp.encode.bytes = 8 + brands.length * 4;\n  return buf;\n};\n\nexports.ftyp.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var brand = buf.toString('ascii', 0, 4);\n  var version = buf.readUInt32BE(4);\n  var compatibleBrands = [];\n\n  for (var i = 8; i < buf.length; i += 4) {\n    compatibleBrands.push(buf.toString('ascii', i, i + 4));\n  }\n\n  return {\n    brand: brand,\n    brandVersion: version,\n    compatibleBrands: compatibleBrands\n  };\n};\n\nexports.ftyp.encodingLength = function (box) {\n  return 8 + (box.compatibleBrands || []).length * 4;\n};\n\nexports.mvhd = {};\n\nexports.mvhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(96);\n  writeDate(box.ctime || new Date(), buf, 0);\n  writeDate(box.mtime || new Date(), buf, 4);\n  buf.writeUInt32BE(box.timeScale || 0, 8);\n  buf.writeUInt32BE(box.duration || 0, 12);\n  writeFixed32(box.preferredRate || 0, buf, 16);\n  writeFixed16(box.preferredVolume || 0, buf, 20);\n  writeReserved(buf, 22, 32);\n  writeMatrix(box.matrix, buf, 32);\n  buf.writeUInt32BE(box.previewTime || 0, 68);\n  buf.writeUInt32BE(box.previewDuration || 0, 72);\n  buf.writeUInt32BE(box.posterTime || 0, 76);\n  buf.writeUInt32BE(box.selectionTime || 0, 80);\n  buf.writeUInt32BE(box.selectionDuration || 0, 84);\n  buf.writeUInt32BE(box.currentTime || 0, 88);\n  buf.writeUInt32BE(box.nextTrackId || 0, 92);\n  exports.mvhd.encode.bytes = 96;\n  return buf;\n};\n\nexports.mvhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    ctime: readDate(buf, 0),\n    mtime: readDate(buf, 4),\n    timeScale: buf.readUInt32BE(8),\n    duration: buf.readUInt32BE(12),\n    preferredRate: readFixed32(buf, 16),\n    preferredVolume: readFixed16(buf, 20),\n    matrix: readMatrix(buf.slice(32, 68)),\n    previewTime: buf.readUInt32BE(68),\n    previewDuration: buf.readUInt32BE(72),\n    posterTime: buf.readUInt32BE(76),\n    selectionTime: buf.readUInt32BE(80),\n    selectionDuration: buf.readUInt32BE(84),\n    currentTime: buf.readUInt32BE(88),\n    nextTrackId: buf.readUInt32BE(92)\n  };\n};\n\nexports.mvhd.encodingLength = function (box) {\n  return 96;\n};\n\nexports.tkhd = {};\n\nexports.tkhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(80);\n  writeDate(box.ctime || new Date(), buf, 0);\n  writeDate(box.mtime || new Date(), buf, 4);\n  buf.writeUInt32BE(box.trackId || 0, 8);\n  writeReserved(buf, 12, 16);\n  buf.writeUInt32BE(box.duration || 0, 16);\n  writeReserved(buf, 20, 28);\n  buf.writeUInt16BE(box.layer || 0, 28);\n  buf.writeUInt16BE(box.alternateGroup || 0, 30);\n  buf.writeUInt16BE(box.volume || 0, 32);\n  writeMatrix(box.matrix, buf, 36);\n  buf.writeUInt32BE(box.trackWidth || 0, 72);\n  buf.writeUInt32BE(box.trackHeight || 0, 76);\n  exports.tkhd.encode.bytes = 80;\n  return buf;\n};\n\nexports.tkhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    ctime: readDate(buf, 0),\n    mtime: readDate(buf, 4),\n    trackId: buf.readUInt32BE(8),\n    duration: buf.readUInt32BE(16),\n    layer: buf.readUInt16BE(28),\n    alternateGroup: buf.readUInt16BE(30),\n    volume: buf.readUInt16BE(32),\n    matrix: readMatrix(buf.slice(36, 72)),\n    trackWidth: buf.readUInt32BE(72),\n    trackHeight: buf.readUInt32BE(76)\n  };\n};\n\nexports.tkhd.encodingLength = function (box) {\n  return 80;\n};\n\nexports.mdhd = {};\n\nexports.mdhd.encode = function (box, buf, offset) {\n  if (box.version === 1) {\n    buf = buf ? buf.slice(offset) : Buffer.alloc(32);\n    writeDate64(box.ctime || new Date(), buf, 0);\n    writeDate64(box.mtime || new Date(), buf, 8);\n    buf.writeUInt32BE(box.timeScale || 0, 16); // Node only supports integer <= 48bit. Waiting for BigInt!\n\n    buf.writeUIntBE(box.duration || 0, 20, 6);\n    buf.writeUInt16BE(box.language || 0, 28);\n    buf.writeUInt16BE(box.quality || 0, 30);\n    exports.mdhd.encode.bytes = 32;\n    return buf;\n  }\n\n  buf = buf ? buf.slice(offset) : Buffer.alloc(20);\n  writeDate(box.ctime || new Date(), buf, 0);\n  writeDate(box.mtime || new Date(), buf, 4);\n  buf.writeUInt32BE(box.timeScale || 0, 8);\n  buf.writeUInt32BE(box.duration || 0, 12);\n  buf.writeUInt16BE(box.language || 0, 16);\n  buf.writeUInt16BE(box.quality || 0, 18);\n  exports.mdhd.encode.bytes = 20;\n  return buf;\n};\n\nexports.mdhd.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  var version1 = end - offset !== 20; // In version 1 creation time and modification time are unsigned long\n\n  if (version1) {\n    return {\n      ctime: readDate64(buf, 0),\n      mtime: readDate64(buf, 8),\n      timeScale: buf.readUInt32BE(16),\n      // Node only supports integer <= 48bit. Waiting for BigInt!\n      duration: buf.readUIntBE(20, 6),\n      language: buf.readUInt16BE(28),\n      quality: buf.readUInt16BE(30)\n    };\n  }\n\n  return {\n    ctime: readDate(buf, 0),\n    mtime: readDate(buf, 4),\n    timeScale: buf.readUInt32BE(8),\n    duration: buf.readUInt32BE(12),\n    language: buf.readUInt16BE(16),\n    quality: buf.readUInt16BE(18)\n  };\n};\n\nexports.mdhd.encodingLength = function (box) {\n  if (box.version === 1) return 32;\n  return 20;\n};\n\nexports.vmhd = {};\n\nexports.vmhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(8);\n  buf.writeUInt16BE(box.graphicsMode || 0, 0);\n  var opcolor = box.opcolor || [0, 0, 0];\n  buf.writeUInt16BE(opcolor[0], 2);\n  buf.writeUInt16BE(opcolor[1], 4);\n  buf.writeUInt16BE(opcolor[2], 6);\n  exports.vmhd.encode.bytes = 8;\n  return buf;\n};\n\nexports.vmhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    graphicsMode: buf.readUInt16BE(0),\n    opcolor: [buf.readUInt16BE(2), buf.readUInt16BE(4), buf.readUInt16BE(6)]\n  };\n};\n\nexports.vmhd.encodingLength = function (box) {\n  return 8;\n};\n\nexports.smhd = {};\n\nexports.smhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt16BE(box.balance || 0, 0);\n  writeReserved(buf, 2, 4);\n  exports.smhd.encode.bytes = 4;\n  return buf;\n};\n\nexports.smhd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    balance: buf.readUInt16BE(0)\n  };\n};\n\nexports.smhd.encodingLength = function (box) {\n  return 4;\n};\n\nexports.stsd = {};\n\nexports.stsd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stsd.encodingLength(box));\n  var entries = box.entries || [];\n  buf.writeUInt32BE(entries.length, 0);\n  var ptr = 4;\n\n  for (var i = 0; i < entries.length; i++) {\n    var entry = entries[i];\n    Box.encode(entry, buf, ptr);\n    ptr += Box.encode.bytes;\n  }\n\n  exports.stsd.encode.bytes = ptr;\n  return buf;\n};\n\nexports.stsd.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n  var ptr = 4;\n\n  for (var i = 0; i < num; i++) {\n    var entry = Box.decode(buf, ptr, end);\n    entries[i] = entry;\n    ptr += entry.length;\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stsd.encodingLength = function (box) {\n  var totalSize = 4;\n  if (!box.entries) return totalSize;\n\n  for (var i = 0; i < box.entries.length; i++) {\n    totalSize += Box.encodingLength(box.entries[i]);\n  }\n\n  return totalSize;\n};\n\nexports.avc1 = exports.VisualSampleEntry = {};\n\nexports.VisualSampleEntry.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.VisualSampleEntry.encodingLength(box));\n  writeReserved(buf, 0, 6);\n  buf.writeUInt16BE(box.dataReferenceIndex || 0, 6);\n  writeReserved(buf, 8, 24);\n  buf.writeUInt16BE(box.width || 0, 24);\n  buf.writeUInt16BE(box.height || 0, 26);\n  buf.writeUInt32BE(box.hResolution || 0x480000, 28);\n  buf.writeUInt32BE(box.vResolution || 0x480000, 32);\n  writeReserved(buf, 36, 40);\n  buf.writeUInt16BE(box.frameCount || 1, 40);\n  var compressorName = box.compressorName || '';\n  var nameLen = Math.min(compressorName.length, 31);\n  buf.writeUInt8(nameLen, 42);\n  buf.write(compressorName, 43, nameLen, 'utf8');\n  buf.writeUInt16BE(box.depth || 0x18, 74);\n  buf.writeInt16BE(-1, 76);\n  var ptr = 78;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    Box.encode(child, buf, ptr);\n    ptr += Box.encode.bytes;\n  });\n  exports.VisualSampleEntry.encode.bytes = ptr;\n};\n\nexports.VisualSampleEntry.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  var length = end - offset;\n  var nameLen = Math.min(buf.readUInt8(42), 31);\n  var box = {\n    dataReferenceIndex: buf.readUInt16BE(6),\n    width: buf.readUInt16BE(24),\n    height: buf.readUInt16BE(26),\n    hResolution: buf.readUInt32BE(28),\n    vResolution: buf.readUInt32BE(32),\n    frameCount: buf.readUInt16BE(40),\n    compressorName: buf.toString('utf8', 43, 43 + nameLen),\n    depth: buf.readUInt16BE(74),\n    children: []\n  };\n  var ptr = 78;\n\n  while (length - ptr >= 8) {\n    var child = Box.decode(buf, ptr, length);\n    box.children.push(child);\n    box[child.type] = child;\n    ptr += child.length;\n  }\n\n  return box;\n};\n\nexports.VisualSampleEntry.encodingLength = function (box) {\n  var len = 78;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    len += Box.encodingLength(child);\n  });\n  return len;\n};\n\nexports.avcC = {};\n\nexports.avcC.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(box.buffer.length);\n  box.buffer.copy(buf);\n  exports.avcC.encode.bytes = box.buffer.length;\n};\n\nexports.avcC.decode = function (buf, offset, end) {\n  buf = buf.slice(offset, end);\n  return {\n    mimeCodec: buf.toString('hex', 1, 4),\n    buffer: Buffer.from(buf)\n  };\n};\n\nexports.avcC.encodingLength = function (box) {\n  return box.buffer.length;\n};\n\nexports.mp4a = exports.AudioSampleEntry = {};\n\nexports.AudioSampleEntry.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.AudioSampleEntry.encodingLength(box));\n  writeReserved(buf, 0, 6);\n  buf.writeUInt16BE(box.dataReferenceIndex || 0, 6);\n  writeReserved(buf, 8, 16);\n  buf.writeUInt16BE(box.channelCount || 2, 16);\n  buf.writeUInt16BE(box.sampleSize || 16, 18);\n  writeReserved(buf, 20, 24);\n  buf.writeUInt32BE(box.sampleRate || 0, 24);\n  var ptr = 28;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    Box.encode(child, buf, ptr);\n    ptr += Box.encode.bytes;\n  });\n  exports.AudioSampleEntry.encode.bytes = ptr;\n};\n\nexports.AudioSampleEntry.decode = function (buf, offset, end) {\n  buf = buf.slice(offset, end);\n  var length = end - offset;\n  var box = {\n    dataReferenceIndex: buf.readUInt16BE(6),\n    channelCount: buf.readUInt16BE(16),\n    sampleSize: buf.readUInt16BE(18),\n    sampleRate: buf.readUInt32BE(24),\n    children: []\n  };\n  var ptr = 28;\n\n  while (length - ptr >= 8) {\n    var child = Box.decode(buf, ptr, length);\n    box.children.push(child);\n    box[child.type] = child;\n    ptr += child.length;\n  }\n\n  return box;\n};\n\nexports.AudioSampleEntry.encodingLength = function (box) {\n  var len = 28;\n  var children = box.children || [];\n  children.forEach(function (child) {\n    len += Box.encodingLength(child);\n  });\n  return len;\n};\n\nexports.esds = {};\n\nexports.esds.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(box.buffer.length);\n  box.buffer.copy(buf, 0);\n  exports.esds.encode.bytes = box.buffer.length;\n};\n\nexports.esds.decode = function (buf, offset, end) {\n  buf = buf.slice(offset, end);\n  var desc = Descriptor.Descriptor.decode(buf, 0, buf.length);\n  var esd = desc.tagName === 'ESDescriptor' ? desc : {};\n  var dcd = esd.DecoderConfigDescriptor || {};\n  var oti = dcd.oti || 0;\n  var dsi = dcd.DecoderSpecificInfo;\n  var audioConfig = dsi ? (dsi.buffer.readUInt8(0) & 0xf8) >> 3 : 0;\n  var mimeCodec = null;\n\n  if (oti) {\n    mimeCodec = oti.toString(16);\n\n    if (audioConfig) {\n      mimeCodec += '.' + audioConfig;\n    }\n  }\n\n  return {\n    mimeCodec: mimeCodec,\n    buffer: Buffer.from(buf.slice(0))\n  };\n};\n\nexports.esds.encodingLength = function (box) {\n  return box.buffer.length;\n}; // TODO: integrate the two versions in a saner way\n\n\nexports.stsz = {};\n\nexports.stsz.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stsz.encodingLength(box));\n  buf.writeUInt32BE(0, 0);\n  buf.writeUInt32BE(entries.length, 4);\n\n  for (var i = 0; i < entries.length; i++) {\n    buf.writeUInt32BE(entries[i], i * 4 + 8);\n  }\n\n  exports.stsz.encode.bytes = 8 + entries.length * 4;\n  return buf;\n};\n\nexports.stsz.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var size = buf.readUInt32BE(0);\n  var num = buf.readUInt32BE(4);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    if (size === 0) {\n      entries[i] = buf.readUInt32BE(i * 4 + 8);\n    } else {\n      entries[i] = size;\n    }\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stsz.encodingLength = function (box) {\n  return 8 + box.entries.length * 4;\n};\n\nexports.stss = exports.stco = {};\n\nexports.stco.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stco.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    buf.writeUInt32BE(entries[i], i * 4 + 4);\n  }\n\n  exports.stco.encode.bytes = 4 + entries.length * 4;\n  return buf;\n};\n\nexports.stco.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    entries[i] = buf.readUInt32BE(i * 4 + 4);\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stco.encodingLength = function (box) {\n  return 4 + box.entries.length * 4;\n};\n\nexports.co64 = {};\n\nexports.co64.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.co64.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    uint64be.encode(entries[i], buf, i * 8 + 4);\n  }\n\n  exports.co64.encode.bytes = 4 + entries.length * 8;\n  return buf;\n};\n\nexports.co64.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    entries[i] = uint64be.decode(buf, i * 8 + 4);\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.co64.encodingLength = function (box) {\n  return 4 + box.entries.length * 8;\n};\n\nexports.stts = {};\n\nexports.stts.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stts.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 8 + 4;\n    buf.writeUInt32BE(entries[i].count || 0, ptr);\n    buf.writeUInt32BE(entries[i].duration || 0, ptr + 4);\n  }\n\n  exports.stts.encode.bytes = 4 + box.entries.length * 8;\n  return buf;\n};\n\nexports.stts.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 8 + 4;\n    entries[i] = {\n      count: buf.readUInt32BE(ptr),\n      duration: buf.readUInt32BE(ptr + 4)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stts.encodingLength = function (box) {\n  return 4 + box.entries.length * 8;\n};\n\nexports.ctts = {};\n\nexports.ctts.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.ctts.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 8 + 4;\n    buf.writeUInt32BE(entries[i].count || 0, ptr);\n    buf.writeUInt32BE(entries[i].compositionOffset || 0, ptr + 4);\n  }\n\n  exports.ctts.encode.bytes = 4 + entries.length * 8;\n  return buf;\n};\n\nexports.ctts.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 8 + 4;\n    entries[i] = {\n      count: buf.readUInt32BE(ptr),\n      compositionOffset: buf.readInt32BE(ptr + 4)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.ctts.encodingLength = function (box) {\n  return 4 + box.entries.length * 8;\n};\n\nexports.stsc = {};\n\nexports.stsc.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.stsc.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 12 + 4;\n    buf.writeUInt32BE(entries[i].firstChunk || 0, ptr);\n    buf.writeUInt32BE(entries[i].samplesPerChunk || 0, ptr + 4);\n    buf.writeUInt32BE(entries[i].sampleDescriptionId || 0, ptr + 8);\n  }\n\n  exports.stsc.encode.bytes = 4 + entries.length * 12;\n  return buf;\n};\n\nexports.stsc.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 12 + 4;\n    entries[i] = {\n      firstChunk: buf.readUInt32BE(ptr),\n      samplesPerChunk: buf.readUInt32BE(ptr + 4),\n      sampleDescriptionId: buf.readUInt32BE(ptr + 8)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.stsc.encodingLength = function (box) {\n  return 4 + box.entries.length * 12;\n};\n\nexports.dref = {};\n\nexports.dref.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.dref.encodingLength(box));\n  var entries = box.entries || [];\n  buf.writeUInt32BE(entries.length, 0);\n  var ptr = 4;\n\n  for (var i = 0; i < entries.length; i++) {\n    var entry = entries[i];\n    var size = (entry.buf ? entry.buf.length : 0) + 4 + 4;\n    buf.writeUInt32BE(size, ptr);\n    ptr += 4;\n    buf.write(entry.type, ptr, 4, 'ascii');\n    ptr += 4;\n\n    if (entry.buf) {\n      entry.buf.copy(buf, ptr);\n      ptr += entry.buf.length;\n    }\n  }\n\n  exports.dref.encode.bytes = ptr;\n  return buf;\n};\n\nexports.dref.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n  var ptr = 4;\n\n  for (var i = 0; i < num; i++) {\n    var size = buf.readUInt32BE(ptr);\n    var type = buf.toString('ascii', ptr + 4, ptr + 8);\n    var tmp = buf.slice(ptr + 8, ptr + size);\n    ptr += size;\n    entries[i] = {\n      type: type,\n      buf: tmp\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.dref.encodingLength = function (box) {\n  var totalSize = 4;\n  if (!box.entries) return totalSize;\n\n  for (var i = 0; i < box.entries.length; i++) {\n    var buf = box.entries[i].buf;\n    totalSize += (buf ? buf.length : 0) + 4 + 4;\n  }\n\n  return totalSize;\n};\n\nexports.elst = {};\n\nexports.elst.encode = function (box, buf, offset) {\n  var entries = box.entries || [];\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.elst.encodingLength(box));\n  buf.writeUInt32BE(entries.length, 0);\n\n  for (var i = 0; i < entries.length; i++) {\n    var ptr = i * 12 + 4;\n    buf.writeUInt32BE(entries[i].trackDuration || 0, ptr);\n    buf.writeUInt32BE(entries[i].mediaTime || 0, ptr + 4);\n    writeFixed32(entries[i].mediaRate || 0, buf, ptr + 8);\n  }\n\n  exports.elst.encode.bytes = 4 + entries.length * 12;\n  return buf;\n};\n\nexports.elst.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  var num = buf.readUInt32BE(0);\n  var entries = new Array(num);\n\n  for (var i = 0; i < num; i++) {\n    var ptr = i * 12 + 4;\n    entries[i] = {\n      trackDuration: buf.readUInt32BE(ptr),\n      mediaTime: buf.readInt32BE(ptr + 4),\n      mediaRate: readFixed32(buf, ptr + 8)\n    };\n  }\n\n  return {\n    entries: entries\n  };\n};\n\nexports.elst.encodingLength = function (box) {\n  return 4 + box.entries.length * 12;\n};\n\nexports.hdlr = {};\n\nexports.hdlr.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(exports.hdlr.encodingLength(box));\n  var len = 21 + (box.name || '').length;\n  buf.fill(0, 0, len);\n  buf.write(box.handlerType || '', 4, 4, 'ascii');\n  writeString(box.name || '', buf, 20);\n  exports.hdlr.encode.bytes = len;\n  return buf;\n};\n\nexports.hdlr.decode = function (buf, offset, end) {\n  buf = buf.slice(offset);\n  return {\n    handlerType: buf.toString('ascii', 4, 8),\n    name: readString(buf, 20, end)\n  };\n};\n\nexports.hdlr.encodingLength = function (box) {\n  return 21 + (box.name || '').length;\n};\n\nexports.mehd = {};\n\nexports.mehd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.fragmentDuration || 0, 0);\n  exports.mehd.encode.bytes = 4;\n  return buf;\n};\n\nexports.mehd.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    fragmentDuration: buf.readUInt32BE(0)\n  };\n};\n\nexports.mehd.encodingLength = function (box) {\n  return 4;\n};\n\nexports.trex = {};\n\nexports.trex.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(20);\n  buf.writeUInt32BE(box.trackId || 0, 0);\n  buf.writeUInt32BE(box.defaultSampleDescriptionIndex || 0, 4);\n  buf.writeUInt32BE(box.defaultSampleDuration || 0, 8);\n  buf.writeUInt32BE(box.defaultSampleSize || 0, 12);\n  buf.writeUInt32BE(box.defaultSampleFlags || 0, 16);\n  exports.trex.encode.bytes = 20;\n  return buf;\n};\n\nexports.trex.decode = function (buf, offset) {\n  buf = buf.slice(offset);\n  return {\n    trackId: buf.readUInt32BE(0),\n    defaultSampleDescriptionIndex: buf.readUInt32BE(4),\n    defaultSampleDuration: buf.readUInt32BE(8),\n    defaultSampleSize: buf.readUInt32BE(12),\n    defaultSampleFlags: buf.readUInt32BE(16)\n  };\n};\n\nexports.trex.encodingLength = function (box) {\n  return 20;\n};\n\nexports.mfhd = {};\n\nexports.mfhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.sequenceNumber || 0, 0);\n  exports.mfhd.encode.bytes = 4;\n  return buf;\n};\n\nexports.mfhd.decode = function (buf, offset) {\n  return {\n    sequenceNumber: buf.readUInt32BE(0)\n  };\n};\n\nexports.mfhd.encodingLength = function (box) {\n  return 4;\n};\n\nexports.tfhd = {};\n\nexports.tfhd.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.trackId, 0);\n  exports.tfhd.encode.bytes = 4;\n  return buf;\n};\n\nexports.tfhd.decode = function (buf, offset) {// TODO: this\n};\n\nexports.tfhd.encodingLength = function (box) {\n  // TODO: this is wrong!\n  return 4;\n};\n\nexports.tfdt = {};\n\nexports.tfdt.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(4);\n  buf.writeUInt32BE(box.baseMediaDecodeTime || 0, 0);\n  exports.tfdt.encode.bytes = 4;\n  return buf;\n};\n\nexports.tfdt.decode = function (buf, offset) {// TODO: this\n};\n\nexports.tfdt.encodingLength = function (box) {\n  return 4;\n};\n\nexports.trun = {};\n\nexports.trun.encode = function (box, buf, offset) {\n  buf = buf ? buf.slice(offset) : Buffer.alloc(8 + box.entries.length * 16); // TODO: this is wrong\n\n  buf.writeUInt32BE(box.entries.length, 0);\n  buf.writeInt32BE(box.dataOffset, 4);\n  var ptr = 8;\n\n  for (var i = 0; i < box.entries.length; i++) {\n    var entry = box.entries[i];\n    buf.writeUInt32BE(entry.sampleDuration, ptr);\n    ptr += 4;\n    buf.writeUInt32BE(entry.sampleSize, ptr);\n    ptr += 4;\n    buf.writeUInt32BE(entry.sampleFlags, ptr);\n    ptr += 4;\n\n    if ((box.version || 0) === 0) {\n      buf.writeUInt32BE(entry.sampleCompositionTimeOffset, ptr);\n    } else {\n      buf.writeInt32BE(entry.sampleCompositionTimeOffset, ptr);\n    }\n\n    ptr += 4;\n  }\n\n  exports.trun.encode.bytes = ptr;\n};\n\nexports.trun.decode = function (buf, offset) {// TODO: this\n};\n\nexports.trun.encodingLength = function (box) {\n  // TODO: this is wrong\n  return 8 + box.entries.length * 16;\n};\n\nexports.mdat = {};\n\nexports.mdat.encode = function (box, buf, offset) {\n  if (box.buffer) {\n    box.buffer.copy(buf, offset);\n    exports.mdat.encode.bytes = box.buffer.length;\n  } else {\n    exports.mdat.encode.bytes = exports.mdat.encodingLength(box);\n  }\n};\n\nexports.mdat.decode = function (buf, start, end) {\n  return {\n    buffer: Buffer.from(buf.slice(start, end))\n  };\n};\n\nexports.mdat.encodingLength = function (box) {\n  return box.buffer ? box.buffer.length : box.contentLength;\n};\n\nfunction writeReserved(buf, offset, end) {\n  for (var i = offset; i < end; i++) {\n    buf[i] = 0;\n  }\n}\n\nfunction writeDate(date, buf, offset) {\n  buf.writeUInt32BE(Math.floor((date.getTime() + TIME_OFFSET) / 1000), offset);\n}\n\nfunction writeDate64(date, buf, offset) {\n  // Node only supports integer <= 48bit. Waiting for BigInt!\n  buf.writeUIntBE(Math.floor((date.getTime() + TIME_OFFSET) / 1000), offset, 6);\n} // TODO: think something is wrong here\n\n\nfunction writeFixed32(num, buf, offset) {\n  buf.writeUInt16BE(Math.floor(num) % (256 * 256), offset);\n  buf.writeUInt16BE(Math.floor(num * 256 * 256) % (256 * 256), offset + 2);\n}\n\nfunction writeFixed16(num, buf, offset) {\n  buf[offset] = Math.floor(num) % 256;\n  buf[offset + 1] = Math.floor(num * 256) % 256;\n}\n\nfunction writeMatrix(list, buf, offset) {\n  if (!list) list = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n  for (var i = 0; i < list.length; i++) {\n    writeFixed32(list[i], buf, offset + i * 4);\n  }\n}\n\nfunction writeString(str, buf, offset) {\n  var strBuffer = Buffer.from(str, 'utf8');\n  strBuffer.copy(buf, offset);\n  buf[offset + strBuffer.length] = 0;\n}\n\nfunction readMatrix(buf) {\n  var list = new Array(buf.length / 4);\n\n  for (var i = 0; i < list.length; i++) {\n    list[i] = readFixed32(buf, i * 4);\n  }\n\n  return list;\n}\n\nfunction readDate64(buf, offset) {\n  // Node only supports integer <= 48bit. Waiting for BigInt!\n  return new Date(buf.readUIntBE(offset, 6) * 1000 - TIME_OFFSET);\n}\n\nfunction readDate(buf, offset) {\n  return new Date(buf.readUInt32BE(offset) * 1000 - TIME_OFFSET);\n}\n\nfunction readFixed32(buf, offset) {\n  return buf.readUInt16BE(offset) + buf.readUInt16BE(offset + 2) / (256 * 256);\n}\n\nfunction readFixed16(buf, offset) {\n  return buf[offset] + buf[offset + 1] / 256;\n}\n\nfunction readString(buf, offset, length) {\n  var i;\n\n  for (i = 0; i < length; i++) {\n    if (buf[offset + i] === 0) {\n      break;\n    }\n  }\n\n  return buf.toString('utf8', offset, offset + i);\n}","module.exports = MediaElementWrapper;\n\nvar inherits = require('inherits');\n\nvar stream = require('readable-stream');\n\nvar toArrayBuffer = require('to-arraybuffer');\n\nvar MediaSource = typeof window !== 'undefined' && window.MediaSource;\nvar DEFAULT_BUFFER_DURATION = 60; // seconds\n\nfunction MediaElementWrapper(elem, opts) {\n  var self = this;\n  if (!(self instanceof MediaElementWrapper)) return new MediaElementWrapper(elem, opts);\n  if (!MediaSource) throw new Error('web browser lacks MediaSource support');\n  if (!opts) opts = {};\n  self._debug = opts.debug;\n  self._bufferDuration = opts.bufferDuration || DEFAULT_BUFFER_DURATION;\n  self._elem = elem;\n  self._mediaSource = new MediaSource();\n  self._streams = [];\n  self.detailedError = null;\n\n  self._errorHandler = function () {\n    self._elem.removeEventListener('error', self._errorHandler);\n\n    var streams = self._streams.slice();\n\n    streams.forEach(function (stream) {\n      stream.destroy(self._elem.error);\n    });\n  };\n\n  self._elem.addEventListener('error', self._errorHandler);\n\n  self._elem.src = window.URL.createObjectURL(self._mediaSource);\n}\n/*\n * `obj` can be a previous value returned by this function\n * or a string\n */\n\n\nMediaElementWrapper.prototype.createWriteStream = function (obj) {\n  var self = this;\n  return new MediaSourceStream(self, obj);\n};\n/*\n * Use to trigger an error on the underlying media element\n */\n\n\nMediaElementWrapper.prototype.error = function (err) {\n  var self = this; // be careful not to overwrite any existing detailedError values\n\n  if (!self.detailedError) {\n    self.detailedError = err;\n  }\n\n  self._dumpDebugData();\n\n  try {\n    self._mediaSource.endOfStream('decode');\n  } catch (err) {}\n\n  try {\n    // Attempt to clean up object URL\n    window.URL.revokeObjectURL(self._elem.src);\n  } catch (err) {}\n};\n/*\n * When self._debug is set, dump all data to files\n */\n\n\nMediaElementWrapper.prototype._dumpDebugData = function () {\n  var self = this;\n\n  if (self._debug) {\n    self._debug = false; // prevent multiple dumps on multiple errors\n\n    self._streams.forEach(function (stream, i) {\n      downloadBuffers(stream._debugBuffers, 'mediasource-stream-' + i);\n    });\n  }\n};\n\ninherits(MediaSourceStream, stream.Writable);\n\nfunction MediaSourceStream(wrapper, obj) {\n  var self = this;\n  stream.Writable.call(self);\n  self._wrapper = wrapper;\n  self._elem = wrapper._elem;\n  self._mediaSource = wrapper._mediaSource;\n  self._allStreams = wrapper._streams;\n\n  self._allStreams.push(self);\n\n  self._bufferDuration = wrapper._bufferDuration;\n  self._sourceBuffer = null;\n  self._debugBuffers = [];\n\n  self._openHandler = function () {\n    self._onSourceOpen();\n  };\n\n  self._flowHandler = function () {\n    self._flow();\n  };\n\n  self._errorHandler = function (err) {\n    if (!self.destroyed) {\n      self.emit('error', err);\n    }\n  };\n\n  if (typeof obj === 'string') {\n    self._type = obj; // Need to create a new sourceBuffer\n\n    if (self._mediaSource.readyState === 'open') {\n      self._createSourceBuffer();\n    } else {\n      self._mediaSource.addEventListener('sourceopen', self._openHandler);\n    }\n  } else if (obj._sourceBuffer === null) {\n    obj.destroy();\n    self._type = obj._type; // The old stream was created but hasn't finished initializing\n\n    self._mediaSource.addEventListener('sourceopen', self._openHandler);\n  } else if (obj._sourceBuffer) {\n    obj.destroy();\n    self._type = obj._type;\n    self._sourceBuffer = obj._sourceBuffer; // Copy over the old sourceBuffer\n\n    self._debugBuffers = obj._debugBuffers; // Copy over previous debug data\n\n    self._sourceBuffer.addEventListener('updateend', self._flowHandler);\n\n    self._sourceBuffer.addEventListener('error', self._errorHandler);\n  } else {\n    throw new Error('The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function');\n  }\n\n  self._elem.addEventListener('timeupdate', self._flowHandler);\n\n  self.on('error', function (err) {\n    self._wrapper.error(err);\n  });\n  self.on('finish', function () {\n    if (self.destroyed) return;\n    self._finished = true;\n\n    if (self._allStreams.every(function (other) {\n      return other._finished;\n    })) {\n      self._wrapper._dumpDebugData();\n\n      try {\n        self._mediaSource.endOfStream();\n      } catch (err) {}\n    }\n  });\n}\n\nMediaSourceStream.prototype._onSourceOpen = function () {\n  var self = this;\n  if (self.destroyed) return;\n\n  self._mediaSource.removeEventListener('sourceopen', self._openHandler);\n\n  self._createSourceBuffer();\n};\n\nMediaSourceStream.prototype.destroy = function (err) {\n  var self = this;\n  if (self.destroyed) return;\n  self.destroyed = true; // Remove from allStreams\n\n  self._allStreams.splice(self._allStreams.indexOf(self), 1);\n\n  self._mediaSource.removeEventListener('sourceopen', self._openHandler);\n\n  self._elem.removeEventListener('timeupdate', self._flowHandler);\n\n  if (self._sourceBuffer) {\n    self._sourceBuffer.removeEventListener('updateend', self._flowHandler);\n\n    self._sourceBuffer.removeEventListener('error', self._errorHandler);\n\n    if (self._mediaSource.readyState === 'open') {\n      self._sourceBuffer.abort();\n    }\n  }\n\n  if (err) self.emit('error', err);\n  self.emit('close');\n};\n\nMediaSourceStream.prototype._createSourceBuffer = function () {\n  var self = this;\n  if (self.destroyed) return;\n\n  if (MediaSource.isTypeSupported(self._type)) {\n    self._sourceBuffer = self._mediaSource.addSourceBuffer(self._type);\n\n    self._sourceBuffer.addEventListener('updateend', self._flowHandler);\n\n    self._sourceBuffer.addEventListener('error', self._errorHandler);\n\n    if (self._cb) {\n      var cb = self._cb;\n      self._cb = null;\n      cb();\n    }\n  } else {\n    self.destroy(new Error('The provided type is not supported'));\n  }\n};\n\nMediaSourceStream.prototype._write = function (chunk, encoding, cb) {\n  var self = this;\n  if (self.destroyed) return;\n\n  if (!self._sourceBuffer) {\n    self._cb = function (err) {\n      if (err) return cb(err);\n\n      self._write(chunk, encoding, cb);\n    };\n\n    return;\n  }\n\n  if (self._sourceBuffer.updating) {\n    return cb(new Error('Cannot append buffer while source buffer updating'));\n  }\n\n  var arr = toArrayBuffer(chunk);\n\n  if (self._wrapper._debug) {\n    self._debugBuffers.push(arr);\n  }\n\n  try {\n    self._sourceBuffer.appendBuffer(arr);\n  } catch (err) {\n    // appendBuffer can throw for a number of reasons, most notably when the data\n    // being appended is invalid or if appendBuffer is called after another error\n    // already occurred on the media element. In Chrome, there may be useful debugging\n    // info in chrome://media-internals\n    self.destroy(err);\n    return;\n  }\n\n  self._cb = cb;\n};\n\nMediaSourceStream.prototype._flow = function () {\n  var self = this;\n\n  if (self.destroyed || !self._sourceBuffer || self._sourceBuffer.updating) {\n    return;\n  }\n\n  if (self._mediaSource.readyState === 'open') {\n    // check buffer size\n    if (self._getBufferDuration() > self._bufferDuration) {\n      return;\n    }\n  }\n\n  if (self._cb) {\n    var cb = self._cb;\n    self._cb = null;\n    cb();\n  }\n}; // TODO: if zero actually works in all browsers, remove the logic associated with this below\n\n\nvar EPSILON = 0;\n\nMediaSourceStream.prototype._getBufferDuration = function () {\n  var self = this;\n  var buffered = self._sourceBuffer.buffered;\n  var currentTime = self._elem.currentTime;\n  var bufferEnd = -1; // end of the buffer\n  // This is a little over complex because some browsers seem to separate the\n  // buffered region into multiple sections with slight gaps.\n\n  for (var i = 0; i < buffered.length; i++) {\n    var start = buffered.start(i);\n    var end = buffered.end(i) + EPSILON;\n\n    if (start > currentTime) {\n      // Reached past the joined buffer\n      break;\n    } else if (bufferEnd >= 0 || currentTime <= end) {\n      // Found the start/continuation of the joined buffer\n      bufferEnd = end;\n    }\n  }\n\n  var bufferedTime = bufferEnd - currentTime;\n\n  if (bufferedTime < 0) {\n    bufferedTime = 0;\n  }\n\n  return bufferedTime;\n};\n\nfunction downloadBuffers(bufs, name) {\n  var a = document.createElement('a');\n  a.href = window.URL.createObjectURL(new window.Blob(bufs));\n  a.download = name;\n  a.click();\n}","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');","var once = require('once');\n\nvar eos = require('end-of-stream');\n\nvar fs = require('fs'); // we only need fs to get the ReadStream and WriteStream prototypes\n\n\nvar noop = function noop() {};\n\nvar ancient = /^v?\\.0/.test(process.version);\n\nvar isFn = function isFn(fn) {\n  return typeof fn === 'function';\n};\n\nvar isFS = function isFS(stream) {\n  if (!ancient) return false; // newer node version do not need to care about fs is a special way\n\n  if (!fs) return false; // browser\n\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close);\n};\n\nvar isRequest = function isRequest(stream) {\n  return stream.setHeader && isFn(stream.abort);\n};\n\nvar destroyer = function destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true;\n    if (isFS(stream)) return stream.close(noop); // use close for fs streams to avoid fd leaks\n\n    if (isRequest(stream)) return stream.abort(); // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy();\n    callback(err || new Error('stream was destroyed'));\n  };\n};\n\nvar call = function call(fn) {\n  fn();\n};\n\nvar pipe = function pipe(from, to) {\n  return from.pipe(to);\n};\n\nvar pump = function pump() {\n  var streams = Array.prototype.slice.call(arguments);\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop;\n  if (Array.isArray(streams[0])) streams = streams[0];\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum');\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n};\n\nmodule.exports = pump;","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer');\n\nvar Buffer = buffer.Buffer; // alternative to using Object.keys for old browsers\n\nfunction copyProps(src, dst) {\n  for (var key in src) {\n    dst[key] = src[key];\n  }\n}\n\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer;\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports);\n  exports.Buffer = SafeBuffer;\n}\n\nfunction SafeBuffer(arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length);\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype); // Copy static methods from Buffer\n\ncopyProps(Buffer, SafeBuffer);\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number');\n  }\n\n  return Buffer(arg, encodingOrOffset, length);\n};\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  var buf = Buffer(size);\n\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding);\n    } else {\n      buf.fill(fill);\n    }\n  } else {\n    buf.fill(0);\n  }\n\n  return buf;\n};\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  return Buffer(size);\n};\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  return buffer.SlowBuffer(size);\n};","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy;\n\nfunction wrappy(fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb);\n  if (typeof fn !== 'function') throw new TypeError('need wrapper function');\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k];\n  });\n  return wrapper;\n\n  function wrapper() {\n    var args = new Array(arguments.length);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    var ret = fn.apply(this, args);\n    var cb = args[args.length - 1];\n\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k];\n      });\n    }\n\n    return ret;\n  }\n}","var wrappy = require('wrappy');\n\nmodule.exports = wrappy(once);\nmodule.exports.strict = wrappy(onceStrict);\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function value() {\n      return once(this);\n    },\n    configurable: true\n  });\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function value() {\n      return onceStrict(this);\n    },\n    configurable: true\n  });\n});\n\nfunction once(fn) {\n  var f = function f() {\n    if (f.called) return f.value;\n    f.called = true;\n    return f.value = fn.apply(this, arguments);\n  };\n\n  f.called = false;\n  return f;\n}\n\nfunction onceStrict(fn) {\n  var f = function f() {\n    if (f.called) throw new Error(f.onceError);\n    f.called = true;\n    return f.value = fn.apply(this, arguments);\n  };\n\n  var name = fn.name || 'Function wrapped with `once`';\n  f.onceError = name + \" shouldn't be called more than once\";\n  f.called = false;\n  return f;\n}","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","/**\n * Module exports.\n */\nmodule.exports = deprecate;\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate(fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n\n      warned = true;\n    }\n\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\n\nfunction config(name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","var bufferFill = require('buffer-fill');\n\nvar allocUnsafe = require('buffer-alloc-unsafe');\n\nmodule.exports = function alloc(size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  }\n\n  if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n\n  if (Buffer.alloc) {\n    return Buffer.alloc(size, fill, encoding);\n  }\n\n  var buffer = allocUnsafe(size);\n\n  if (size === 0) {\n    return buffer;\n  }\n\n  if (fill === undefined) {\n    return bufferFill(buffer, 0);\n  }\n\n  if (typeof encoding !== 'string') {\n    encoding = undefined;\n  }\n\n  return bufferFill(buffer, fill, encoding);\n};","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var bufferAlloc = require('buffer-alloc');\n\nvar UINT_32_MAX = Math.pow(2, 32);\n\nexports.encodingLength = function () {\n  return 8;\n};\n\nexports.encode = function (num, buf, offset) {\n  if (!buf) buf = bufferAlloc(8);\n  if (!offset) offset = 0;\n  var top = Math.floor(num / UINT_32_MAX);\n  var rem = num - top * UINT_32_MAX;\n  buf.writeUInt32BE(top, offset);\n  buf.writeUInt32BE(rem, offset + 4);\n  return buf;\n};\n\nexports.decode = function (buf, offset) {\n  if (!offset) offset = 0;\n  var top = buf.readUInt32BE(offset);\n  var rem = buf.readUInt32BE(offset + 4);\n  return top * UINT_32_MAX + rem;\n};\n\nexports.encode.bytes = 8;\nexports.decode.bytes = 8;","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this; // if we have detected an error in the meanwhile\n    // reject straight away\n\n\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this; // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n\n\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nInstance of writable stream.\n\ncall .get(length) or .discard(length) to get a stream (relative to the last end)\n\nemits 'stalled' once everything is written\n\n*/\nvar _require = require('readable-stream'),\n    Writable = _require.Writable,\n    PassThrough = _require.PassThrough;\n\nvar RangeSliceStream = /*#__PURE__*/function (_Writable) {\n  \"use strict\";\n\n  _inherits(RangeSliceStream, _Writable);\n\n  var _super = _createSuper(RangeSliceStream);\n\n  function RangeSliceStream(offset) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, RangeSliceStream);\n\n    _this = _super.call(this, opts);\n    _this.destroyed = false;\n    _this._queue = [];\n    _this._position = offset || 0;\n    _this._cb = null;\n    _this._buffer = null;\n    _this._out = null;\n    return _this;\n  }\n\n  _createClass(RangeSliceStream, [{\n    key: \"_write\",\n    value: function _write(chunk, encoding, cb) {\n      var drained = true;\n\n      while (true) {\n        if (this.destroyed) {\n          return;\n        } // Wait for more queue entries\n\n\n        if (this._queue.length === 0) {\n          this._buffer = chunk;\n          this._cb = cb;\n          return;\n        }\n\n        this._buffer = null;\n        var currRange = this._queue[0]; // Relative to the start of chunk, what data do we need?\n\n        var writeStart = Math.max(currRange.start - this._position, 0);\n        var writeEnd = currRange.end - this._position; // Check if we need to throw it all away\n\n        if (writeStart >= chunk.length) {\n          this._position += chunk.length;\n          return cb(null);\n        } // Check if we need to use it all\n\n\n        var toWrite = void 0;\n\n        if (writeEnd > chunk.length) {\n          this._position += chunk.length;\n\n          if (writeStart === 0) {\n            toWrite = chunk;\n          } else {\n            toWrite = chunk.slice(writeStart);\n          }\n\n          drained = currRange.stream.write(toWrite) && drained;\n          break;\n        }\n\n        this._position += writeEnd;\n        toWrite = writeStart === 0 && writeEnd === chunk.length ? chunk : chunk.slice(writeStart, writeEnd);\n        drained = currRange.stream.write(toWrite) && drained;\n\n        if (currRange.last) {\n          currRange.stream.end();\n        }\n\n        chunk = chunk.slice(writeEnd);\n\n        this._queue.shift();\n      }\n\n      if (drained) {\n        cb(null);\n      } else {\n        currRange.stream.once('drain', cb.bind(null, null));\n      }\n    }\n  }, {\n    key: \"slice\",\n    value: function slice(ranges) {\n      var _this2 = this;\n\n      if (this.destroyed) return null;\n      if (!Array.isArray(ranges)) ranges = [ranges];\n      var str = new PassThrough();\n      ranges.forEach(function (range, i) {\n        _this2._queue.push({\n          start: range.start,\n          end: range.end,\n          stream: str,\n          last: i === ranges.length - 1\n        });\n      });\n\n      if (this._buffer) {\n        this._write(this._buffer, null, this._cb);\n      }\n\n      return str;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n      if (err) this.emit('error', err);\n    }\n  }]);\n\n  return RangeSliceStream;\n}(Writable);\n\nmodule.exports = RangeSliceStream;","var once = require('once');\n\nvar noop = function noop() {};\n\nvar isRequest = function isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function isChildProcess(stream) {\n  return stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3;\n};\n\nvar eos = function eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n  var cancelled = false;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var onfinish = function onfinish() {\n    writable = false;\n    if (!readable) callback.call(stream);\n  };\n\n  var onend = function onend() {\n    readable = false;\n    if (!writable) callback.call(stream);\n  };\n\n  var onexit = function onexit(exitCode) {\n    callback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    process.nextTick(onclosenexttick);\n  };\n\n  var onclosenexttick = function onclosenexttick() {\n    if (cancelled) return;\n    if (readable && !(rs && rs.ended && !rs.destroyed)) return callback.call(stream, new Error('premature close'));\n    if (writable && !(ws && ws.ended && !ws.destroyed)) return callback.call(stream, new Error('premature close'));\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !ws) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  if (isChildProcess(stream)) stream.on('exit', onexit);\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    cancelled = true;\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('exit', onexit);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n};\n\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser');\n};","'use strict';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports = /*#__PURE__*/function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar bs = require('binary-search');\n\nvar EventEmitter = require('events');\n\nvar mp4 = require('mp4-stream');\n\nvar Box = require('mp4-box-encoding');\n\nvar RangeSliceStream = require('range-slice-stream'); // if we want to ignore more than this many bytes, request a new stream.\n// if we want to ignore fewer, just skip them.\n\n\nvar FIND_MOOV_SEEK_SIZE = 4096;\n\nvar MP4Remuxer = /*#__PURE__*/function (_EventEmitter) {\n  \"use strict\";\n\n  _inherits(MP4Remuxer, _EventEmitter);\n\n  var _super = _createSuper(MP4Remuxer);\n\n  function MP4Remuxer(file) {\n    var _this;\n\n    _classCallCheck(this, MP4Remuxer);\n\n    _this = _super.call(this);\n    _this._tracks = [];\n    _this._file = file;\n    _this._decoder = null;\n\n    _this._findMoov(0);\n\n    return _this;\n  }\n\n  _createClass(MP4Remuxer, [{\n    key: \"_findMoov\",\n    value: function _findMoov(offset) {\n      var _this2 = this;\n\n      if (this._decoder) {\n        this._decoder.destroy();\n      }\n\n      var toSkip = 0;\n      this._decoder = mp4.decode();\n\n      var fileStream = this._file.createReadStream({\n        start: offset\n      });\n\n      fileStream.pipe(this._decoder);\n\n      var boxHandler = function boxHandler(headers) {\n        if (headers.type === 'moov') {\n          _this2._decoder.removeListener('box', boxHandler);\n\n          _this2._decoder.decode(function (moov) {\n            fileStream.destroy();\n\n            try {\n              _this2._processMoov(moov);\n            } catch (err) {\n              err.message = \"Cannot parse mp4 file: \".concat(err.message);\n\n              _this2.emit('error', err);\n            }\n          });\n        } else if (headers.length < FIND_MOOV_SEEK_SIZE) {\n          toSkip += headers.length;\n\n          _this2._decoder.ignore();\n        } else {\n          _this2._decoder.removeListener('box', boxHandler);\n\n          toSkip += headers.length;\n          fileStream.destroy();\n\n          _this2._decoder.destroy();\n\n          _this2._findMoov(offset + toSkip);\n        }\n      };\n\n      this._decoder.on('box', boxHandler);\n    }\n  }, {\n    key: \"_processMoov\",\n    value: function _processMoov(moov) {\n      var traks = moov.traks;\n      this._tracks = [];\n      this._hasVideo = false;\n      this._hasAudio = false;\n\n      for (var i = 0; i < traks.length; i++) {\n        var trak = traks[i];\n        var stbl = trak.mdia.minf.stbl;\n        var stsdEntry = stbl.stsd.entries[0];\n        var handlerType = trak.mdia.hdlr.handlerType;\n        var codec = void 0;\n        var mime = void 0;\n\n        if (handlerType === 'vide' && stsdEntry.type === 'avc1') {\n          if (this._hasVideo) {\n            continue;\n          }\n\n          this._hasVideo = true;\n          codec = 'avc1';\n\n          if (stsdEntry.avcC) {\n            codec += \".\".concat(stsdEntry.avcC.mimeCodec);\n          }\n\n          mime = \"video/mp4; codecs=\\\"\".concat(codec, \"\\\"\");\n        } else if (handlerType === 'soun' && stsdEntry.type === 'mp4a') {\n          if (this._hasAudio) {\n            continue;\n          }\n\n          this._hasAudio = true;\n          codec = 'mp4a';\n\n          if (stsdEntry.esds && stsdEntry.esds.mimeCodec) {\n            codec += \".\".concat(stsdEntry.esds.mimeCodec);\n          }\n\n          mime = \"audio/mp4; codecs=\\\"\".concat(codec, \"\\\"\");\n        } else {\n          continue;\n        }\n\n        var samples = [];\n        var sample = 0; // Chunk/position data\n\n        var sampleInChunk = 0;\n        var chunk = 0;\n        var offsetInChunk = 0;\n        var sampleToChunkIndex = 0; // Time data\n\n        var dts = 0;\n        var decodingTimeEntry = new RunLengthIndex(stbl.stts.entries);\n        var presentationOffsetEntry = null;\n\n        if (stbl.ctts) {\n          presentationOffsetEntry = new RunLengthIndex(stbl.ctts.entries);\n        } // Sync table index\n\n\n        var syncSampleIndex = 0;\n\n        while (true) {\n          var currChunkEntry = stbl.stsc.entries[sampleToChunkIndex]; // Compute size\n\n          var size = stbl.stsz.entries[sample]; // Compute time data\n\n          var duration = decodingTimeEntry.value.duration;\n          var presentationOffset = presentationOffsetEntry ? presentationOffsetEntry.value.compositionOffset : 0; // Compute sync\n\n          var sync = true;\n\n          if (stbl.stss) {\n            sync = stbl.stss.entries[syncSampleIndex] === sample + 1;\n          } // Create new sample entry\n\n\n          var chunkOffsetTable = stbl.stco || stbl.co64;\n          samples.push({\n            size: size,\n            duration: duration,\n            dts: dts,\n            presentationOffset: presentationOffset,\n            sync: sync,\n            offset: offsetInChunk + chunkOffsetTable.entries[chunk]\n          }); // Go to next sample\n\n          sample++;\n\n          if (sample >= stbl.stsz.entries.length) {\n            break;\n          } // Move position/chunk\n\n\n          sampleInChunk++;\n          offsetInChunk += size;\n\n          if (sampleInChunk >= currChunkEntry.samplesPerChunk) {\n            // Move to new chunk\n            sampleInChunk = 0;\n            offsetInChunk = 0;\n            chunk++; // Move sample to chunk box index\n\n            var nextChunkEntry = stbl.stsc.entries[sampleToChunkIndex + 1];\n\n            if (nextChunkEntry && chunk + 1 >= nextChunkEntry.firstChunk) {\n              sampleToChunkIndex++;\n            }\n          } // Move time forward\n\n\n          dts += duration;\n          decodingTimeEntry.inc();\n          presentationOffsetEntry && presentationOffsetEntry.inc(); // Move sync table index\n\n          if (sync) {\n            syncSampleIndex++;\n          }\n        }\n\n        trak.mdia.mdhd.duration = 0;\n        trak.tkhd.duration = 0;\n        var defaultSampleDescriptionIndex = currChunkEntry.sampleDescriptionId;\n        var trackMoov = {\n          type: 'moov',\n          mvhd: moov.mvhd,\n          traks: [{\n            tkhd: trak.tkhd,\n            mdia: {\n              mdhd: trak.mdia.mdhd,\n              hdlr: trak.mdia.hdlr,\n              elng: trak.mdia.elng,\n              minf: {\n                vmhd: trak.mdia.minf.vmhd,\n                smhd: trak.mdia.minf.smhd,\n                dinf: trak.mdia.minf.dinf,\n                stbl: {\n                  stsd: stbl.stsd,\n                  stts: empty(),\n                  ctts: empty(),\n                  stsc: empty(),\n                  stsz: empty(),\n                  stco: empty(),\n                  stss: empty()\n                }\n              }\n            }\n          }],\n          mvex: {\n            mehd: {\n              fragmentDuration: moov.mvhd.duration\n            },\n            trexs: [{\n              trackId: trak.tkhd.trackId,\n              defaultSampleDescriptionIndex: defaultSampleDescriptionIndex,\n              defaultSampleDuration: 0,\n              defaultSampleSize: 0,\n              defaultSampleFlags: 0\n            }]\n          }\n        };\n\n        this._tracks.push({\n          fragmentSequence: 1,\n          trackId: trak.tkhd.trackId,\n          timeScale: trak.mdia.mdhd.timeScale,\n          samples: samples,\n          currSample: null,\n          currTime: null,\n          moov: trackMoov,\n          mime: mime\n        });\n      }\n\n      if (this._tracks.length === 0) {\n        this.emit('error', new Error('no playable tracks'));\n        return;\n      } // Must be set last since this is used above\n\n\n      moov.mvhd.duration = 0;\n      this._ftyp = {\n        type: 'ftyp',\n        brand: 'iso5',\n        brandVersion: 0,\n        compatibleBrands: ['iso5']\n      };\n      var ftypBuf = Box.encode(this._ftyp);\n\n      var data = this._tracks.map(function (track) {\n        var moovBuf = Box.encode(track.moov);\n        return {\n          mime: track.mime,\n          init: Buffer.concat([ftypBuf, moovBuf])\n        };\n      });\n\n      this.emit('ready', data);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      var _this3 = this;\n\n      if (!this._tracks) {\n        throw new Error('Not ready yet; wait for \\'ready\\' event');\n      }\n\n      if (this._fileStream) {\n        this._fileStream.destroy();\n\n        this._fileStream = null;\n      }\n\n      var startOffset = -1;\n\n      this._tracks.map(function (track, i) {\n        // find the keyframe before the time\n        // stream from there\n        if (track.outStream) {\n          track.outStream.destroy();\n        }\n\n        if (track.inStream) {\n          track.inStream.destroy();\n          track.inStream = null;\n        }\n\n        var outStream = track.outStream = mp4.encode();\n\n        var fragment = _this3._generateFragment(i, time);\n\n        if (!fragment) {\n          return outStream.finalize();\n        }\n\n        if (startOffset === -1 || fragment.ranges[0].start < startOffset) {\n          startOffset = fragment.ranges[0].start;\n        }\n\n        var writeFragment = function writeFragment(frag) {\n          if (outStream.destroyed) return;\n          outStream.box(frag.moof, function (err) {\n            if (err) return _this3.emit('error', err);\n            if (outStream.destroyed) return;\n            var slicedStream = track.inStream.slice(frag.ranges);\n            slicedStream.pipe(outStream.mediaData(frag.length, function (err) {\n              if (err) return _this3.emit('error', err);\n              if (outStream.destroyed) return;\n\n              var nextFrag = _this3._generateFragment(i);\n\n              if (!nextFrag) {\n                return outStream.finalize();\n              }\n\n              writeFragment(nextFrag);\n            }));\n          });\n        };\n\n        writeFragment(fragment);\n      });\n\n      if (startOffset >= 0) {\n        var fileStream = this._fileStream = this._file.createReadStream({\n          start: startOffset\n        });\n\n        this._tracks.forEach(function (track) {\n          track.inStream = new RangeSliceStream(startOffset, {\n            // Allow up to a 10MB offset between audio and video,\n            // which should be fine for any reasonable interleaving\n            // interval and bitrate\n            highWaterMark: 10000000\n          });\n          fileStream.pipe(track.inStream);\n        });\n      }\n\n      return this._tracks.map(function (track) {\n        return track.outStream;\n      });\n    }\n  }, {\n    key: \"_findSampleBefore\",\n    value: function _findSampleBefore(trackInd, time) {\n      var track = this._tracks[trackInd];\n      var scaledTime = Math.floor(track.timeScale * time);\n      var sample = bs(track.samples, scaledTime, function (sample, t) {\n        var pts = sample.dts + sample.presentationOffset; // - track.editShift\n\n        return pts - t;\n      });\n\n      if (sample === -1) {\n        sample = 0;\n      } else if (sample < 0) {\n        sample = -sample - 2;\n      } // sample is now the last sample with dts <= time\n      // Find the preceeding sync sample\n\n\n      while (!track.samples[sample].sync) {\n        sample--;\n      }\n\n      return sample;\n    }\n  }, {\n    key: \"_generateFragment\",\n    value: function _generateFragment(track, time) {\n      /*\n          1. Find correct sample\n          2. Process backward until sync sample found\n          3. Process forward until next sync sample after MIN_FRAGMENT_DURATION found\n          */\n      var currTrack = this._tracks[track];\n      var firstSample;\n\n      if (time !== undefined) {\n        firstSample = this._findSampleBefore(track, time);\n      } else {\n        firstSample = currTrack.currSample;\n      }\n\n      if (firstSample >= currTrack.samples.length) {\n        return null;\n      }\n\n      var startDts = currTrack.samples[firstSample].dts;\n      var totalLen = 0;\n      var ranges = [];\n\n      for (var currSample = firstSample; currSample < currTrack.samples.length; currSample++) {\n        var sample = currTrack.samples[currSample];\n\n        if (sample.sync && sample.dts - startDts >= currTrack.timeScale * MIN_FRAGMENT_DURATION) {\n          break; // This is a reasonable place to end the fragment\n        }\n\n        totalLen += sample.size;\n        var currRange = ranges.length - 1;\n\n        if (currRange < 0 || ranges[currRange].end !== sample.offset) {\n          // Push a new range\n          ranges.push({\n            start: sample.offset,\n            end: sample.offset + sample.size\n          });\n        } else {\n          ranges[currRange].end += sample.size;\n        }\n      }\n\n      currTrack.currSample = currSample;\n      return {\n        moof: this._generateMoof(track, firstSample, currSample),\n        ranges: ranges,\n        length: totalLen\n      };\n    }\n  }, {\n    key: \"_generateMoof\",\n    value: function _generateMoof(track, firstSample, lastSample) {\n      var currTrack = this._tracks[track];\n      var entries = [];\n      var trunVersion = 0;\n\n      for (var j = firstSample; j < lastSample; j++) {\n        var currSample = currTrack.samples[j];\n\n        if (currSample.presentationOffset < 0) {\n          trunVersion = 1;\n        }\n\n        entries.push({\n          sampleDuration: currSample.duration,\n          sampleSize: currSample.size,\n          sampleFlags: currSample.sync ? 0x2000000 : 0x1010000,\n          sampleCompositionTimeOffset: currSample.presentationOffset\n        });\n      }\n\n      var moof = {\n        type: 'moof',\n        mfhd: {\n          sequenceNumber: currTrack.fragmentSequence++\n        },\n        trafs: [{\n          tfhd: {\n            flags: 0x20000,\n            // default-base-is-moof\n            trackId: currTrack.trackId\n          },\n          tfdt: {\n            baseMediaDecodeTime: currTrack.samples[firstSample].dts\n          },\n          trun: {\n            flags: 0xf01,\n            dataOffset: 8,\n            // The moof size has to be added to this later as well\n            entries: entries,\n            version: trunVersion\n          }\n        }]\n      }; // Update the offset\n\n      moof.trafs[0].trun.dataOffset += Box.encodingLength(moof);\n      return moof;\n    }\n  }]);\n\n  return MP4Remuxer;\n}(EventEmitter);\n\nvar RunLengthIndex = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function RunLengthIndex(entries, countName) {\n    _classCallCheck(this, RunLengthIndex);\n\n    this._entries = entries;\n    this._countName = countName || 'count';\n    this._index = 0;\n    this._offset = 0;\n    this.value = this._entries[0];\n  }\n\n  _createClass(RunLengthIndex, [{\n    key: \"inc\",\n    value: function inc() {\n      this._offset++;\n\n      if (this._offset >= this._entries[this._index][this._countName]) {\n        this._index++;\n        this._offset = 0;\n      }\n\n      this.value = this._entries[this._index];\n    }\n  }]);\n\n  return RunLengthIndex;\n}();\n\nfunction empty() {\n  return {\n    version: 0,\n    flags: 0,\n    entries: []\n  };\n}\n\nvar MIN_FRAGMENT_DURATION = 1; // second\n\nmodule.exports = MP4Remuxer;","var Buffer = require('buffer').Buffer;\n\nmodule.exports = function (buf) {\n  // If the buffer is backed by a Uint8Array, a faster version will work\n  if (buf instanceof Uint8Array) {\n    // If the buffer isn't a subarray, return the underlying ArrayBuffer\n    if (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n      return buf.buffer;\n    } else if (typeof buf.buffer.slice === 'function') {\n      // Otherwise we need to get a proper copy\n      return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n    }\n  }\n\n  if (Buffer.isBuffer(buf)) {\n    // This is the slow version that will work with any Buffer\n    // implementation (even in old browsers)\n    var arrayCopy = new Uint8Array(buf.length);\n    var len = buf.length;\n\n    for (var i = 0; i < len; i++) {\n      arrayCopy[i] = buf[i];\n    }\n\n    return arrayCopy.buffer;\n  } else {\n    throw new Error('Argument must be a Buffer');\n  }\n};","var tagToName = {\n  0x03: 'ESDescriptor',\n  0x04: 'DecoderConfigDescriptor',\n  0x05: 'DecoderSpecificInfo',\n  0x06: 'SLConfigDescriptor'\n};\nexports.Descriptor = {};\n\nexports.Descriptor.decode = function (buf, start, end) {\n  var tag = buf.readUInt8(start);\n  var ptr = start + 1;\n  var lenByte;\n  var len = 0;\n\n  do {\n    lenByte = buf.readUInt8(ptr++);\n    len = len << 7 | lenByte & 0x7f;\n  } while (lenByte & 0x80);\n\n  var obj;\n  var tagName = tagToName[tag]; // May be undefined; that's ok\n\n  if (exports[tagName]) {\n    obj = exports[tagName].decode(buf, ptr, end);\n  } else {\n    obj = {\n      buffer: Buffer.from(buf.slice(ptr, ptr + len))\n    };\n  }\n\n  obj.tag = tag;\n  obj.tagName = tagName;\n  obj.length = ptr - start + len;\n  obj.contentsLen = len;\n  return obj;\n};\n\nexports.DescriptorArray = {};\n\nexports.DescriptorArray.decode = function (buf, start, end) {\n  var ptr = start;\n  var obj = {};\n\n  while (ptr + 2 <= end) {\n    var descriptor = exports.Descriptor.decode(buf, ptr, end);\n    ptr += descriptor.length;\n    var tagName = tagToName[descriptor.tag] || 'Descriptor' + descriptor.tag;\n    obj[tagName] = descriptor;\n  }\n\n  return obj;\n};\n\nexports.ESDescriptor = {};\n\nexports.ESDescriptor.decode = function (buf, start, end) {\n  var flags = buf.readUInt8(start + 2);\n  var ptr = start + 3;\n\n  if (flags & 0x80) {\n    ptr += 2;\n  }\n\n  if (flags & 0x40) {\n    var len = buf.readUInt8(ptr);\n    ptr += len + 1;\n  }\n\n  if (flags & 0x20) {\n    ptr += 2;\n  }\n\n  return exports.DescriptorArray.decode(buf, ptr, end);\n};\n\nexports.DecoderConfigDescriptor = {};\n\nexports.DecoderConfigDescriptor.decode = function (buf, start, end) {\n  var oti = buf.readUInt8(start);\n  var obj = exports.DescriptorArray.decode(buf, start + 13, end);\n  obj.oti = oti;\n  return obj;\n};","var Decoder = require('./decode');\n\nvar Encoder = require('./encode');\n\nexports.decode = function (opts) {\n  return new Decoder(opts);\n};\n\nexports.encode = function (opts) {\n  return new Encoder(opts);\n};","var MediaElementWrapper = require('mediasource');\n\nvar pump = require('pump');\n\nvar MP4Remuxer = require('./mp4-remuxer');\n\nfunction VideoStream(file, mediaElem) {\n  var _this = this;\n\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!(this instanceof VideoStream)) {\n    console.warn(\"don't invoked VideoStream without 'new'\");\n    return new VideoStream(file, mediaElem, opts);\n  }\n\n  this.detailedError = null;\n  this._elem = mediaElem;\n  this._elemWrapper = new MediaElementWrapper(mediaElem);\n  this._waitingFired = false;\n  this._trackMeta = null;\n  this._file = file;\n  this._tracks = null;\n\n  if (this._elem.preload !== 'none') {\n    this._createMuxer();\n  }\n\n  this._onError = function () {\n    _this.detailedError = _this._elemWrapper.detailedError;\n\n    _this.destroy(); // don't pass err though so the user doesn't need to listen for errors\n\n  };\n\n  this._onWaiting = function () {\n    _this._waitingFired = true;\n\n    if (!_this._muxer) {\n      _this._createMuxer();\n    } else if (_this._tracks) {\n      _this._pump();\n    }\n  };\n\n  if (mediaElem.autoplay) {\n    mediaElem.preload = 'auto';\n  }\n\n  mediaElem.addEventListener('waiting', this._onWaiting);\n  mediaElem.addEventListener('error', this._onError);\n}\n\nVideoStream.prototype = {\n  _createMuxer: function _createMuxer() {\n    var _this2 = this;\n\n    this._muxer = new MP4Remuxer(this._file);\n\n    this._muxer.on('ready', function (data) {\n      _this2._tracks = data.map(function (trackData) {\n        var mediaSource = _this2._elemWrapper.createWriteStream(trackData.mime);\n\n        mediaSource.on('error', function (err) {\n          _this2._elemWrapper.error(err);\n        });\n        var track = {\n          muxed: null,\n          mediaSource: mediaSource,\n          initFlushed: false,\n          onInitFlushed: null\n        };\n        mediaSource.write(trackData.init, function (err) {\n          track.initFlushed = true;\n\n          if (track.onInitFlushed) {\n            track.onInitFlushed(err);\n          }\n        });\n        return track;\n      });\n\n      if (_this2._waitingFired || _this2._elem.preload === 'auto') {\n        _this2._pump();\n      }\n    });\n\n    this._muxer.on('error', function (err) {\n      _this2._elemWrapper.error(err);\n    });\n  },\n  _pump: function _pump() {\n    var _this3 = this;\n\n    var muxed = this._muxer.seek(this._elem.currentTime, !this._tracks);\n\n    this._tracks.forEach(function (track, i) {\n      var pumpTrack = function pumpTrack() {\n        if (track.muxed) {\n          track.muxed.destroy();\n          track.mediaSource = _this3._elemWrapper.createWriteStream(track.mediaSource);\n          track.mediaSource.on('error', function (err) {\n            _this3._elemWrapper.error(err);\n          });\n        }\n\n        track.muxed = muxed[i];\n        pump(track.muxed, track.mediaSource);\n      };\n\n      if (!track.initFlushed) {\n        track.onInitFlushed = function (err) {\n          if (err) {\n            _this3._elemWrapper.error(err);\n\n            return;\n          }\n\n          pumpTrack();\n        };\n      } else {\n        pumpTrack();\n      }\n    });\n  },\n  destroy: function destroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n\n    this._elem.removeEventListener('waiting', this._onWaiting);\n\n    this._elem.removeEventListener('error', this._onError);\n\n    if (this._tracks) {\n      this._tracks.forEach(function (track) {\n        if (track.muxed) {\n          track.muxed.destroy();\n        }\n      });\n    }\n\n    this._elem.src = '';\n  }\n};\nmodule.exports = VideoStream;","// var assert = require('assert')\nvar uint64be = require('uint64be');\n\nvar boxes = require('./boxes');\n\nvar UINT32_MAX = 4294967295;\nvar Box = exports;\n/*\n * Lists the proper order for boxes inside containers.\n * Five-character names ending in 's' indicate arrays instead of single elements.\n */\n\nvar containers = exports.containers = {\n  'moov': ['mvhd', 'meta', 'traks', 'mvex'],\n  'trak': ['tkhd', 'tref', 'trgr', 'edts', 'meta', 'mdia', 'udta'],\n  'edts': ['elst'],\n  'mdia': ['mdhd', 'hdlr', 'elng', 'minf'],\n  'minf': ['vmhd', 'smhd', 'hmhd', 'sthd', 'nmhd', 'dinf', 'stbl'],\n  'dinf': ['dref'],\n  'stbl': ['stsd', 'stts', 'ctts', 'cslg', 'stsc', 'stsz', 'stz2', 'stco', 'co64', 'stss', 'stsh', 'padb', 'stdp', 'sdtp', 'sbgps', 'sgpds', 'subss', 'saizs', 'saios'],\n  'mvex': ['mehd', 'trexs', 'leva'],\n  'moof': ['mfhd', 'meta', 'trafs'],\n  'traf': ['tfhd', 'tfdt', 'trun', 'sbgps', 'sgpds', 'subss', 'saizs', 'saios', 'meta']\n};\n\nBox.encode = function (obj, buffer, offset) {\n  Box.encodingLength(obj); // sets every level appropriately\n\n  offset = offset || 0;\n  buffer = buffer || Buffer.alloc(obj.length);\n  return Box._encode(obj, buffer, offset);\n};\n\nBox._encode = function (obj, buffer, offset) {\n  var type = obj.type;\n  var len = obj.length;\n\n  if (len > UINT32_MAX) {\n    len = 1;\n  }\n\n  buffer.writeUInt32BE(len, offset);\n  buffer.write(obj.type, offset + 4, 4, 'ascii');\n  var ptr = offset + 8;\n\n  if (len === 1) {\n    uint64be.encode(obj.length, buffer, ptr);\n    ptr += 8;\n  }\n\n  if (boxes.fullBoxes[type]) {\n    buffer.writeUInt32BE(obj.flags || 0, ptr);\n    buffer.writeUInt8(obj.version || 0, ptr);\n    ptr += 4;\n  }\n\n  if (containers[type]) {\n    var contents = containers[type];\n    contents.forEach(function (childType) {\n      if (childType.length === 5) {\n        var entry = obj[childType] || [];\n        childType = childType.substr(0, 4);\n        entry.forEach(function (child) {\n          Box._encode(child, buffer, ptr);\n\n          ptr += Box.encode.bytes;\n        });\n      } else if (obj[childType]) {\n        Box._encode(obj[childType], buffer, ptr);\n\n        ptr += Box.encode.bytes;\n      }\n    });\n\n    if (obj.otherBoxes) {\n      obj.otherBoxes.forEach(function (child) {\n        Box._encode(child, buffer, ptr);\n\n        ptr += Box.encode.bytes;\n      });\n    }\n  } else if (boxes[type]) {\n    var encode = boxes[type].encode;\n    encode(obj, buffer, ptr);\n    ptr += encode.bytes;\n  } else if (obj.buffer) {\n    var buf = obj.buffer;\n    buf.copy(buffer, ptr);\n    ptr += obj.buffer.length;\n  } else {\n    throw new Error('Either `type` must be set to a known type (not\\'' + type + '\\') or `buffer` must be set');\n  }\n\n  Box.encode.bytes = ptr - offset; // assert.equal(ptr - offset, obj.length, 'Error encoding \\'' + type + '\\': wrote ' + ptr - offset + ' bytes, expecting ' + obj.length)\n\n  return buffer;\n};\n/*\n * Returns an object with `type` and `size` fields,\n * or if there isn't enough data, returns the total\n * number of bytes needed to read the headers\n */\n\n\nBox.readHeaders = function (buffer, start, end) {\n  start = start || 0;\n  end = end || buffer.length;\n\n  if (end - start < 8) {\n    return 8;\n  }\n\n  var len = buffer.readUInt32BE(start);\n  var type = buffer.toString('ascii', start + 4, start + 8);\n  var ptr = start + 8;\n\n  if (len === 1) {\n    if (end - start < 16) {\n      return 16;\n    }\n\n    len = uint64be.decode(buffer, ptr);\n    ptr += 8;\n  }\n\n  var version;\n  var flags;\n\n  if (boxes.fullBoxes[type]) {\n    version = buffer.readUInt8(ptr);\n    flags = buffer.readUInt32BE(ptr) & 0xffffff;\n    ptr += 4;\n  }\n\n  return {\n    length: len,\n    headersLen: ptr - start,\n    contentLen: len - (ptr - start),\n    type: type,\n    version: version,\n    flags: flags\n  };\n};\n\nBox.decode = function (buffer, start, end) {\n  start = start || 0;\n  end = end || buffer.length;\n  var headers = Box.readHeaders(buffer, start, end);\n\n  if (!headers || headers.length > end - start) {\n    throw new Error('Data too short');\n  }\n\n  return Box.decodeWithoutHeaders(headers, buffer, start + headers.headersLen, start + headers.length);\n};\n\nBox.decodeWithoutHeaders = function (headers, buffer, start, end) {\n  start = start || 0;\n  end = end || buffer.length;\n  var type = headers.type;\n  var obj = {};\n\n  if (containers[type]) {\n    obj.otherBoxes = [];\n    var contents = containers[type];\n    var ptr = start;\n\n    while (end - ptr >= 8) {\n      var child = Box.decode(buffer, ptr, end);\n      ptr += child.length;\n\n      if (contents.indexOf(child.type) >= 0) {\n        obj[child.type] = child;\n      } else if (contents.indexOf(child.type + 's') >= 0) {\n        var childType = child.type + 's';\n        var entry = obj[childType] = obj[childType] || [];\n        entry.push(child);\n      } else {\n        obj.otherBoxes.push(child);\n      }\n    }\n  } else if (boxes[type]) {\n    var decode = boxes[type].decode;\n    obj = decode(buffer, start, end);\n  } else {\n    obj.buffer = Buffer.from(buffer.slice(start, end));\n  }\n\n  obj.length = headers.length;\n  obj.contentLen = headers.contentLen;\n  obj.type = headers.type;\n  obj.version = headers.version;\n  obj.flags = headers.flags;\n  return obj;\n};\n\nBox.encodingLength = function (obj) {\n  var type = obj.type;\n  var len = 8;\n\n  if (boxes.fullBoxes[type]) {\n    len += 4;\n  }\n\n  if (containers[type]) {\n    var contents = containers[type];\n    contents.forEach(function (childType) {\n      if (childType.length === 5) {\n        var entry = obj[childType] || [];\n        childType = childType.substr(0, 4);\n        entry.forEach(function (child) {\n          child.type = childType;\n          len += Box.encodingLength(child);\n        });\n      } else if (obj[childType]) {\n        var child = obj[childType];\n        child.type = childType;\n        len += Box.encodingLength(child);\n      }\n    });\n\n    if (obj.otherBoxes) {\n      obj.otherBoxes.forEach(function (child) {\n        len += Box.encodingLength(child);\n      });\n    }\n  } else if (boxes[type]) {\n    len += boxes[type].encodingLength(obj);\n  } else if (obj.buffer) {\n    len += obj.buffer.length;\n  } else {\n    throw new Error('Either `type` must be set to a known type (not\\'' + type + '\\') or `buffer` must be set');\n  }\n\n  if (len > UINT32_MAX) {\n    len += 8;\n  }\n\n  obj.length = len;\n  return len;\n};","module.exports = nextEvent;\n\nfunction nextEvent(emitter, name) {\n  var next = null;\n  emitter.on(name, function (data) {\n    if (!next) return;\n    var fn = next;\n    next = null;\n    fn(data);\n  });\n  return function (once) {\n    next = once;\n  };\n}","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","module.exports = function (haystack, needle, comparator, low, high) {\n  var mid, cmp;\n  if (low === undefined) low = 0;else {\n    low = low | 0;\n    if (low < 0 || low >= haystack.length) throw new RangeError(\"invalid lower bound\");\n  }\n  if (high === undefined) high = haystack.length - 1;else {\n    high = high | 0;\n    if (high < low || high >= haystack.length) throw new RangeError(\"invalid upper bound\");\n  }\n\n  while (low <= high) {\n    // The naive `low + high >>> 1` could fail for array lengths > 2**31\n    // because `>>>` converts its operands to int32. `low + (high - low >>> 1)`\n    // works for array lengths <= 2**32-1 which is also Javascript's max array\n    // length.\n    mid = low + (high - low >>> 1);\n    cmp = +comparator(haystack[mid], needle, mid, haystack); // Too low.\n\n    if (cmp < 0.0) low = mid + 1; // Too high.\n    else if (cmp > 0.0) high = mid - 1; // Key found.\n      else return mid;\n  } // Key not found.\n\n\n  return ~low;\n};","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n\n      var TempCtor = function TempCtor() {};\n\n      TempCtor.prototype = superCtor.prototype;\n      ctor.prototype = new TempCtor();\n      ctor.prototype.constructor = ctor;\n    }\n  };\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.once = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    ;\n    var errorListener; // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","var _classCallCheck = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/zed/Developer/zed-vision-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar stream = require('readable-stream');\n\nvar nextEvent = require('next-event');\n\nvar Box = require('mp4-box-encoding');\n\nvar EMPTY = Buffer.alloc(0);\n\nvar Decoder = /*#__PURE__*/function (_stream$Writable) {\n  \"use strict\";\n\n  _inherits(Decoder, _stream$Writable);\n\n  var _super = _createSuper(Decoder);\n\n  function Decoder(opts) {\n    var _this;\n\n    _classCallCheck(this, Decoder);\n\n    _this = _super.call(this, opts);\n    _this.destroyed = false;\n    _this._pending = 0;\n    _this._missing = 0;\n    _this._ignoreEmpty = false;\n    _this._buf = null;\n    _this._str = null;\n    _this._cb = null;\n    _this._ondrain = null;\n    _this._writeBuffer = null;\n    _this._writeCb = null;\n    _this._ondrain = null;\n\n    _this._kick();\n\n    return _this;\n  }\n\n  _createClass(Decoder, [{\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }, {\n    key: \"_write\",\n    value: function _write(data, enc, next) {\n      if (this.destroyed) return;\n      var drained = !this._str || !this._str._writableState.needDrain;\n\n      while (data.length && !this.destroyed) {\n        if (!this._missing && !this._ignoreEmpty) {\n          this._writeBuffer = data;\n          this._writeCb = next;\n          return;\n        }\n\n        var consumed = data.length < this._missing ? data.length : this._missing;\n        if (this._buf) data.copy(this._buf, this._buf.length - this._missing);else if (this._str) drained = this._str.write(consumed === data.length ? data : data.slice(0, consumed));\n        this._missing -= consumed;\n\n        if (!this._missing) {\n          var buf = this._buf;\n          var cb = this._cb;\n          var stream = this._str;\n          this._buf = this._cb = this._str = this._ondrain = null;\n          drained = true;\n          this._ignoreEmpty = false;\n          if (stream) stream.end();\n          if (cb) cb(buf);\n        }\n\n        data = consumed === data.length ? EMPTY : data.slice(consumed);\n      }\n\n      if (this._pending && !this._missing) {\n        this._writeBuffer = data;\n        this._writeCb = next;\n        return;\n      }\n\n      if (drained) next();else this._ondrain(next);\n    }\n  }, {\n    key: \"_buffer\",\n    value: function _buffer(size, cb) {\n      this._missing = size;\n      this._buf = Buffer.alloc(size);\n      this._cb = cb;\n    }\n  }, {\n    key: \"_stream\",\n    value: function _stream(size, cb) {\n      var _this2 = this;\n\n      this._missing = size;\n      this._str = new MediaData(this);\n      this._ondrain = nextEvent(this._str, 'drain');\n      this._pending++;\n\n      this._str.on('end', function () {\n        _this2._pending--;\n\n        _this2._kick();\n      });\n\n      this._cb = cb;\n      return this._str;\n    }\n  }, {\n    key: \"_readBox\",\n    value: function _readBox() {\n      var _this3 = this;\n\n      var bufferHeaders = function bufferHeaders(len, buf) {\n        _this3._buffer(len, function (additionalBuf) {\n          if (buf) {\n            buf = Buffer.concat([buf, additionalBuf]);\n          } else {\n            buf = additionalBuf;\n          }\n\n          var headers = Box.readHeaders(buf);\n\n          if (typeof headers === 'number') {\n            bufferHeaders(headers - buf.length, buf);\n          } else {\n            _this3._pending++;\n            _this3._headers = headers;\n\n            _this3.emit('box', headers);\n          }\n        });\n      };\n\n      bufferHeaders(8);\n    }\n  }, {\n    key: \"stream\",\n    value: function stream() {\n      if (!this._headers) throw new Error('this function can only be called once after \\'box\\' is emitted');\n      var headers = this._headers;\n      this._headers = null;\n      return this._stream(headers.contentLen, null);\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(cb) {\n      var _this4 = this;\n\n      if (!this._headers) throw new Error('this function can only be called once after \\'box\\' is emitted');\n      var headers = this._headers;\n      this._headers = null;\n\n      this._buffer(headers.contentLen, function (buf) {\n        var box = Box.decodeWithoutHeaders(headers, buf);\n        cb(box);\n        _this4._pending--;\n\n        _this4._kick();\n      });\n    }\n  }, {\n    key: \"ignore\",\n    value: function ignore() {\n      var _this5 = this;\n\n      if (!this._headers) throw new Error('this function can only be called once after \\'box\\' is emitted');\n      var headers = this._headers;\n      this._headers = null;\n      this._missing = headers.contentLen;\n\n      if (this._missing === 0) {\n        this._ignoreEmpty = true;\n      }\n\n      this._cb = function () {\n        _this5._pending--;\n\n        _this5._kick();\n      };\n    }\n  }, {\n    key: \"_kick\",\n    value: function _kick() {\n      if (this._pending) return;\n      if (!this._buf && !this._str) this._readBox();\n\n      if (this._writeBuffer) {\n        var next = this._writeCb;\n        var buffer = this._writeBuffer;\n        this._writeBuffer = null;\n        this._writeCb = null;\n\n        this._write(buffer, null, next);\n      }\n    }\n  }]);\n\n  return Decoder;\n}(stream.Writable);\n\nvar MediaData = /*#__PURE__*/function (_stream$PassThrough) {\n  \"use strict\";\n\n  _inherits(MediaData, _stream$PassThrough);\n\n  var _super2 = _createSuper(MediaData);\n\n  function MediaData(parent) {\n    var _this6;\n\n    _classCallCheck(this, MediaData);\n\n    _this6 = _super2.call(this);\n    _this6._parent = parent;\n    _this6.destroyed = false;\n    return _this6;\n  }\n\n  _createClass(MediaData, [{\n    key: \"destroy\",\n    value: function destroy(err) {\n      if (this.destroyed) return;\n      this.destroyed = true;\n\n      this._parent.destroy(err);\n\n      if (err) this.emit('error', err);\n      this.emit('close');\n    }\n  }]);\n\n  return MediaData;\n}(stream.PassThrough);\n\nmodule.exports = Decoder;","/* Node.js 6.4.0 and up has full support */\nvar hasFullSupport = function () {\n  try {\n    if (!Buffer.isEncoding('latin1')) {\n      return false;\n    }\n\n    var buf = Buffer.alloc ? Buffer.alloc(4) : new Buffer(4);\n    buf.fill('ab', 'ucs2');\n    return buf.toString('hex') === '61006200';\n  } catch (_) {\n    return false;\n  }\n}();\n\nfunction isSingleByte(val) {\n  return val.length === 1 && val.charCodeAt(0) < 256;\n}\n\nfunction fillWithNumber(buffer, val, start, end) {\n  if (start < 0 || end > buffer.length) {\n    throw new RangeError('Out of range index');\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? buffer.length : end >>> 0;\n\n  if (end > start) {\n    buffer.fill(val, start, end);\n  }\n\n  return buffer;\n}\n\nfunction fillWithBuffer(buffer, val, start, end) {\n  if (start < 0 || end > buffer.length) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return buffer;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? buffer.length : end >>> 0;\n  var pos = start;\n  var len = val.length;\n\n  while (pos <= end - len) {\n    val.copy(buffer, pos);\n    pos += len;\n  }\n\n  if (pos !== end) {\n    val.copy(buffer, pos, 0, end - pos);\n  }\n\n  return buffer;\n}\n\nfunction fill(buffer, val, start, end, encoding) {\n  if (hasFullSupport) {\n    return buffer.fill(val, start, end, encoding);\n  }\n\n  if (typeof val === 'number') {\n    return fillWithNumber(buffer, val, start, end);\n  }\n\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = buffer.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = buffer.length;\n    }\n\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string');\n    }\n\n    if (encoding === 'latin1') {\n      encoding = 'binary';\n    }\n\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding);\n    }\n\n    if (val === '') {\n      return fillWithNumber(buffer, 0, start, end);\n    }\n\n    if (isSingleByte(val)) {\n      return fillWithNumber(buffer, val.charCodeAt(0), start, end);\n    }\n\n    val = new Buffer(val, encoding);\n  }\n\n  if (Buffer.isBuffer(val)) {\n    return fillWithBuffer(buffer, val, start, end);\n  } // Other values (e.g. undefined, boolean, object) results in zero-fill\n\n\n  return fillWithNumber(buffer, 0, start, end);\n}\n\nmodule.exports = fill;"],"sourceRoot":""}