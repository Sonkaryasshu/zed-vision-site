{"version":3,"sources":["webpack:///./src/pages/fun.tsx","webpack:///./node_modules/@material-ui/core/esm/utils/debounce.js","webpack:///./node_modules/@material-ui/core/esm/TextareaAutosize/TextareaAutosize.js"],"names":["Styled","styled","div","DivContainer","StyledTextArea","TextareaAutosize","Sha256Writer","onNew","prevText","React","useState","text","changeText","useEffect","e","textContent","target","value","hash","sha256Hash","ShaContainer","x","useMotionValue","hashList","changeBoxes","locX","locY","activeText","setCords","map","hashToCoordinates","locationX","locationY","unHash","window","innerWidth","y","innerHeight","scale","rotate","position","includes","Container","Page","length","size","Math","pow","i","decNumber","parseInt","substr","multiplier","floor"],"mappings":"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","file":"component---src-pages-fun-tsx-626689eb19cb56dab20c.js","sourcesContent":["import React from \"react\";\nimport ScopedCssBaseline from \"@material-ui/core/ScopedCssBaseline\";\nimport styled, { css } from \"styled-components\";\nimport { hash, unHash } from \"../components/utils/sha\";\n// import { CounterTS } from \"../components/Counter\";\nimport { Helmet } from \"react-helmet\";\n\nimport {\n  motion,\n  useMotionValue,\n} from \"framer-motion\";\nimport { TextareaAutosize } from \"@material-ui/core\";\n\nconst Styled = styled.div`\n  text-align: center;\n  border-radius: 12px;\n  width: 200px;\n  height: 200px;\n  display: flex;\n  place-content: center;\n  place-items: center;\n  margin: 0;\n  padding: 0;\n  background: rgb(255, 255, 255) none repeat scroll 0% 0%;\n  user-select: none;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 3px 0px, rgba(0, 0, 0, 0.06) 0px 10px 15px 0px;\n`;\n\nconst DivContainer = styled.div`\ndisplay: block;\nwidth: 150px;\nheight: 150px;\noverflow: hidden;\n`;\n\nconst StyledTextArea = styled(TextareaAutosize)`\nwidth: 100%;\nmax-height: 100%;\n`;\n\nconst Sha256Writer: React.FC<\n  { prevText: string; onNew: (hash: string) => void }\n> = (\n  { onNew, prevText },\n) => {\n  const [{ text }, changeText] = React.useState(\n    { text: prevText },\n  );\n\n  React.useEffect(() => {\n    changeText({ text: prevText });\n  }, [prevText]);\n  return <DivContainer>\n    <p>Start to type</p>\n    <StyledTextArea\n      rowsMin={3}\n      rowsMax={3}\n      onChange={async (e) => {\n        const textContent = e.target.value;\n        const sha256Hash = await hash(textContent);\n        onNew(sha256Hash);\n        changeText({ text: textContent });\n      }}\n      value={text}\n    />\n  </DivContainer>;\n};\n\nexport const ShaContainer: React.FC = () => {\n  const x = useMotionValue(0);\n\n  const [hashList, changeBoxes] = React.useState<string[]>(\n    [],\n  );\n\n  const [{ locX, locY, activeText }, setCords] = React.useState(\n    { locX: 40, locY: 40, activeText: \"\" },\n  );\n\n  return (<div>\n    {hashList.map((hash) => {\n      const { locationX, locationY } = hashToCoordinates(hash);\n\n      return <div\n        onMouseEnter={(async () => {\n          const text = await unHash(hash);\n          const { locationX, locationY } = hashToCoordinates(hash);\n          setCords({ locX: locationX, locY: locationY, activeText: text });\n        })}\n        css={css\n          `font-size: small; display: inline-block; width:10px; height: 10px; border-radius: 5px; background: white; padding: 5px; top: ${locationY}%; left:${locationX}%; position: absolute`}\n        key={hash}\n      >\n      </div>;\n    })}\n\n    <motion.div\n      animate={{\n        x: locX * window.innerWidth / 105 - 100,\n        y: locY * window.innerHeight / 105 - 50,\n        scale: 1,\n        rotate: 0,\n      }}\n      style={{ position: \"absolute\", x }}\n    >\n      <Styled>\n        <ScopedCssBaseline>\n          <Sha256Writer\n            prevText={activeText}\n            onNew={(hash) => {\n              const { locationY, locationX } = hashToCoordinates(hash);\n              setCords(\n                { locX: locationX, locY: locationY, activeText: activeText },\n              );\n              if (hashList.includes(hash)) return;\n              changeBoxes([...hashList, hash]);\n            }}\n          />\n        </ScopedCssBaseline>\n      </Styled>\n    </motion.div>\n  </div>);\n};\n\nconst Container = styled.div`\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  text-align: center;\n  display: relative;\n  background: rgba(0, 85, 255, 1);\n  perspective: 1000px;\n`;\n\nexport default function Page() {\n  return <>\n    <Helmet>\n      <style type=\"text/css\">\n        {`\n      html {\n          height: 100vh;\n          width: 100vw;\n          overflow: hidden;\n      }`}\n      </style>\n    </Helmet>\n    <Container>\n      {typeof window !== \"undefined\" ? <ShaContainer /> : \"Loading\"}\n    </Container>\n  </>;\n}\n\nfunction hashToCoordinates(hash: string) {\n  const length = hash.length;\n  const size = 100 / Math.pow(4, length);\n\n  let locationX = 0;\n  let locationY = 0;\n\n  for (let i = 1; i <= hash.length; i++) {\n    let decNumber = parseInt(hash.substr(i - 1, 1), 16);\n\n    const multiplier = 100 / Math.pow(4, i);\n    locationY += (decNumber % 4) * multiplier;\n    // decNumber -= decNumber%4;\n    locationX += (Math.floor(decNumber / 4)) * multiplier;\n  }\n  return {\n    size,\n    locationX,\n    locationY,\n  };\n}\n","// Corresponds to 10 frames at 60 Hz.\n// A few bytes payload overhead when lodash/debounce is ~3 kB and debounce ~300 B.\nexport default function debounce(func) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 166;\n  var timeout;\n\n  function debounced() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    } // eslint-disable-next-line consistent-this\n\n\n    var that = this;\n\n    var later = function later() {\n      func.apply(that, args);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  }\n\n  debounced.clear = function () {\n    clearTimeout(timeout);\n  };\n\n  return debounced;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport debounce from '../utils/debounce';\nimport useForkRef from '../utils/useForkRef';\n\nfunction getStyleValue(computedStyle, property) {\n  return parseInt(computedStyle[property], 10) || 0;\n}\n\nvar useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\nvar styles = {\n  /* Styles applied to the shadow textarea element. */\n  shadow: {\n    // Visibility needed to hide the extra text area on iPads\n    visibility: 'hidden',\n    // Remove from the content flow\n    position: 'absolute',\n    // Ignore the scrollbar width\n    overflow: 'hidden',\n    height: 0,\n    top: 0,\n    left: 0,\n    // Create a new layer, increase the isolation of the computed values\n    transform: 'translateZ(0)'\n  }\n};\nvar TextareaAutosize = /*#__PURE__*/React.forwardRef(function TextareaAutosize(props, ref) {\n  var onChange = props.onChange,\n      rows = props.rows,\n      rowsMax = props.rowsMax,\n      _props$rowsMin = props.rowsMin,\n      rowsMinProp = _props$rowsMin === void 0 ? 1 : _props$rowsMin,\n      style = props.style,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"onChange\", \"rows\", \"rowsMax\", \"rowsMin\", \"style\", \"value\"]);\n\n  var rowsMin = rows || rowsMinProp;\n\n  var _React$useRef = React.useRef(value != null),\n      isControlled = _React$useRef.current;\n\n  var inputRef = React.useRef(null);\n  var handleRef = useForkRef(ref, inputRef);\n  var shadowRef = React.useRef(null);\n  var renders = React.useRef(0);\n\n  var _React$useState = React.useState({}),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var syncHeight = React.useCallback(function () {\n    var input = inputRef.current;\n    var computedStyle = window.getComputedStyle(input);\n    var inputShallow = shadowRef.current;\n    inputShallow.style.width = computedStyle.width;\n    inputShallow.value = input.value || props.placeholder || 'x';\n\n    if (inputShallow.value.slice(-1) === '\\n') {\n      // Certain fonts which overflow the line height will cause the textarea\n      // to report a different scrollHeight depending on whether the last line\n      // is empty. Make it non-empty to avoid this issue.\n      inputShallow.value += ' ';\n    }\n\n    var boxSizing = computedStyle['box-sizing'];\n    var padding = getStyleValue(computedStyle, 'padding-bottom') + getStyleValue(computedStyle, 'padding-top');\n    var border = getStyleValue(computedStyle, 'border-bottom-width') + getStyleValue(computedStyle, 'border-top-width'); // The height of the inner content\n\n    var innerHeight = inputShallow.scrollHeight - padding; // Measure height of a textarea with a single row\n\n    inputShallow.value = 'x';\n    var singleRowHeight = inputShallow.scrollHeight - padding; // The height of the outer content\n\n    var outerHeight = innerHeight;\n\n    if (rowsMin) {\n      outerHeight = Math.max(Number(rowsMin) * singleRowHeight, outerHeight);\n    }\n\n    if (rowsMax) {\n      outerHeight = Math.min(Number(rowsMax) * singleRowHeight, outerHeight);\n    }\n\n    outerHeight = Math.max(outerHeight, singleRowHeight); // Take the box sizing into account for applying this value as a style.\n\n    var outerHeightStyle = outerHeight + (boxSizing === 'border-box' ? padding + border : 0);\n    var overflow = Math.abs(outerHeight - innerHeight) <= 1;\n    setState(function (prevState) {\n      // Need a large enough difference to update the height.\n      // This prevents infinite rendering loop.\n      if (renders.current < 20 && (outerHeightStyle > 0 && Math.abs((prevState.outerHeightStyle || 0) - outerHeightStyle) > 1 || prevState.overflow !== overflow)) {\n        renders.current += 1;\n        return {\n          overflow: overflow,\n          outerHeightStyle: outerHeightStyle\n        };\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (renders.current === 20) {\n          console.error(['Material-UI: Too many re-renders. The layout is unstable.', 'TextareaAutosize limits the number of renders to prevent an infinite loop.'].join('\\n'));\n        }\n      }\n\n      return prevState;\n    });\n  }, [rowsMax, rowsMin, props.placeholder]);\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      renders.current = 0;\n      syncHeight();\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [syncHeight]);\n  useEnhancedEffect(function () {\n    syncHeight();\n  });\n  React.useEffect(function () {\n    renders.current = 0;\n  }, [value]);\n\n  var handleChange = function handleChange(event) {\n    renders.current = 0;\n\n    if (!isControlled) {\n      syncHeight();\n    }\n\n    if (onChange) {\n      onChange(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"textarea\", _extends({\n    value: value,\n    onChange: handleChange,\n    ref: handleRef // Apply the rows prop to get a \"correct\" first SSR paint\n    ,\n    rows: rowsMin,\n    style: _extends({\n      height: state.outerHeightStyle,\n      // Need a large enough difference to allow scrolling.\n      // This prevents infinite rendering loop.\n      overflow: state.overflow ? 'hidden' : null\n    }, style)\n  }, other)), /*#__PURE__*/React.createElement(\"textarea\", {\n    \"aria-hidden\": true,\n    className: props.className,\n    readOnly: true,\n    ref: shadowRef,\n    tabIndex: -1,\n    style: _extends({}, styles.shadow, style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default TextareaAutosize;"],"sourceRoot":""}